<!DOCTYPE HTML>
<html lang="zh-CN">


<head>
    <meta charset="utf-8">
    <meta name="keywords" content="LLVM后端-理解指令选择的的DAG图以及dump输出, The Blog of LLJ">
    <meta name="description" content="LLVM后端-理解指令选择的的DAG图以及dump输出摘要本文以release/19.1.0版本的LLVM源码为基础，阐述了指令选择的整体流程以及llc里常用SelectionDAG命令选项和各流程间的对应关系。另外，借助一个简单的示例呈现">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="renderer" content="webkit|ie-stand|ie-comp">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="referrer" content="no-referrer-when-downgrade">
    <!-- Global site tag (gtag.js) - Google Analytics -->


    <title>LLVM后端-理解指令选择的的DAG图以及dump输出 | The Blog of LLJ</title>
    <link rel="icon" type="image/png" href="/favicon.png">
    


    <!-- bg-cover style     -->



<link rel="stylesheet" type="text/css" href="/libs/awesome/css/all.min.css">
<link rel="stylesheet" type="text/css" href="/libs/materialize/materialize.min.css">
<link rel="stylesheet" type="text/css" href="/libs/aos/aos.css">
<link rel="stylesheet" type="text/css" href="/libs/animate/animate.min.css">
<link rel="stylesheet" type="text/css" href="/libs/lightGallery/css/lightgallery.min.css">
<link rel="stylesheet" type="text/css" href="/css/matery.css">
<link rel="stylesheet" type="text/css" href="/css/my.css">
<link rel="stylesheet" type="text/css" href="/css/dark.css" media="none" onload="if(media!='all')media='all'">




    <link rel="stylesheet" href="/libs/tocbot/tocbot.css">
    <link rel="stylesheet" href="/css/post.css">




    
        <link rel="stylesheet" type="text/css" href="/css/reward.css">
    



    <script src="/libs/jquery/jquery-3.6.0.min.js"></script>

<meta name="generator" content="Hexo 7.3.0">
<style>.github-emoji { position: relative; display: inline-block; width: 1.2em; min-height: 1.2em; overflow: hidden; vertical-align: top; color: transparent; }  .github-emoji > span { position: relative; z-index: 10; }  .github-emoji img, .github-emoji .fancybox { margin: 0 !important; padding: 0 !important; border: none !important; outline: none !important; text-decoration: none !important; user-select: none !important; cursor: auto !important; }  .github-emoji img { height: 1.2em !important; width: 1.2em !important; position: absolute !important; left: 50% !important; top: 50% !important; transform: translate(-50%, -50%) !important; user-select: none !important; cursor: auto !important; } .github-emoji-fallback { color: inherit; } .github-emoji-fallback img { opacity: 0 !important; }</style>
</head>


<body>
    <header class="navbar-fixed">
    <nav id="headNav" class="bg-color nav-transparent">
        <div id="navContainer" class="nav-wrapper container">
            <div class="brand-logo">
                <a href="/" class="waves-effect waves-light">
                    
                    <img src="/medias/logo.png" class="logo-img" alt="LOGO">
                    
                    <span class="logo-span">The Blog of LLJ</span>
                </a>
            </div>
            

<a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fas fa-bars"></i></a>
<ul class="right nav-menu">
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/" class="waves-effect waves-light">
      
      <i class="fas fa-home" style="zoom: 0.6;"></i>
      
      <span>首页</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/tags" class="waves-effect waves-light">
      
      <i class="fas fa-tags" style="zoom: 0.6;"></i>
      
      <span>标签</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/categories" class="waves-effect waves-light">
      
      <i class="fas fa-bookmark" style="zoom: 0.6;"></i>
      
      <span>分类</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/archives" class="waves-effect waves-light">
      
      <i class="fas fa-archive" style="zoom: 0.6;"></i>
      
      <span>归档</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/about" class="waves-effect waves-light">
      
      <i class="fas fa-user-circle" style="zoom: 0.6;"></i>
      
      <span>关于</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/contact" class="waves-effect waves-light">
      
      <i class="fas fa-comments" style="zoom: 0.6;"></i>
      
      <span>留言板</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/friends" class="waves-effect waves-light">
      
      <i class="fas fa-address-book" style="zoom: 0.6;"></i>
      
      <span>友情链接</span>
    </a>
    
  </li>
  
  <li>
    <a href="#searchModal" class="modal-trigger waves-effect waves-light">
      <i id="searchIcon" class="fas fa-search" title="搜索" style="zoom: 0.85;"></i>
    </a>
  </li>
  <li>
    <a href="javascript:;" class="waves-effect waves-light" onclick="switchNightMode()" title="深色/浅色模式" >
      <i id="sum-moon-icon" class="fas fa-sun" style="zoom: 0.85;"></i>
    </a>
  </li>
</ul>


<div id="mobile-nav" class="side-nav sidenav">

    <div class="mobile-head bg-color">
        
        <img src="/medias/logo.png" class="logo-img circle responsive-img">
        
        <div class="logo-name">The Blog of LLJ</div>
        <div class="logo-desc">
            
            Never really desperate, only the lost of the soul.
            
        </div>
    </div>

    <ul class="menu-list mobile-menu-list">
        
        <li class="m-nav-item">
	  
		<a href="/" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-home"></i>
			
			首页
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/tags" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-tags"></i>
			
			标签
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/categories" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-bookmark"></i>
			
			分类
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/archives" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-archive"></i>
			
			归档
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/about" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-user-circle"></i>
			
			关于
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/contact" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-comments"></i>
			
			留言板
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/friends" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-address-book"></i>
			
			友情链接
		</a>
          
        </li>
        
        
        <li><div class="divider"></div></li>
        <li>
            <a href="https://github.com/blinkfox/hexo-theme-matery" class="waves-effect waves-light" target="_blank">
                <i class="fab fa-github-square fa-fw"></i>Fork Me
            </a>
        </li>
        
    </ul>
</div>


        </div>

        
            <style>
    .nav-transparent .github-corner {
        display: none !important;
    }

    .github-corner {
        position: absolute;
        z-index: 10;
        top: 0;
        right: 0;
        border: 0;
        transform: scale(1.1);
    }

    .github-corner svg {
        color: #0f9d58;
        fill: #fff;
        height: 64px;
        width: 64px;
    }

    .github-corner:hover .octo-arm {
        animation: a 0.56s ease-in-out;
    }

    .github-corner .octo-arm {
        animation: none;
    }

    @keyframes a {
        0%,
        to {
            transform: rotate(0);
        }
        20%,
        60% {
            transform: rotate(-25deg);
        }
        40%,
        80% {
            transform: rotate(10deg);
        }
    }
</style>

<a href="https://github.com/blinkfox/hexo-theme-matery" class="github-corner tooltipped hide-on-med-and-down" target="_blank"
   data-tooltip="Fork Me" data-position="left" data-delay="50">
    <svg viewBox="0 0 250 250" aria-hidden="true">
        <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
        <path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2"
              fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path>
        <path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z"
              fill="currentColor" class="octo-body"></path>
    </svg>
</a>
        
    </nav>

</header>

    



<div class="bg-cover pd-header post-cover" style="background-image: url('/medias/featureimages/3.jpg')">
    <div class="container" style="right: 0px;left: 0px;">
        <div class="row">
            <div class="col s12 m12 l12">
                <div class="brand">
                    <h1 class="description center-align post-title">LLVM后端-理解指令选择的的DAG图以及dump输出</h1>
                </div>
            </div>
        </div>
    </div>
</div>




<main class="post-container content">

    
    <div class="row">
    <div id="main-content" class="col s12 m12 l9">
        <!-- 文章内容详情 -->
<div id="artDetail">
    <div class="card">
        <div class="card-content article-info">
            <div class="row tag-cate">
                <div class="col s7">
                    
                    <div class="article-tag">
                        
                            <a href="/tags/LLVM/">
                                <span class="chip bg-color">LLVM</span>
                            </a>
                        
                            <a href="/tags/%E5%90%8E%E7%AB%AF/">
                                <span class="chip bg-color">后端</span>
                            </a>
                        
                            <a href="/tags/%E6%8C%87%E4%BB%A4%E9%80%89%E6%8B%A9/">
                                <span class="chip bg-color">指令选择</span>
                            </a>
                        
                    </div>
                    
                </div>
                <div class="col s5 right-align">
                    
                    <div class="post-cate">
                        <i class="fas fa-bookmark fa-fw icon-category"></i>
                        
                            <a href="/categories/LLVM/" class="post-category">
                                LLVM
                            </a>
                        
                    </div>
                    
                </div>
            </div>

            <div class="post-info">
                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-minus fa-fw"></i>发布日期:&nbsp;&nbsp;
                    2025-03-10
                </div>
                

                

                

                

                
            </div>
        </div>
        <hr class="clearfix">

        
        <!-- 是否加载使用自带的 prismjs. -->
        <link rel="stylesheet" href="/libs/prism/prism.min.css">
        

        

        <div class="card-content article-card-content">
            <div id="articleContent">
                <h1 id="LLVM后端-理解指令选择的的DAG图以及dump输出"><a href="#LLVM后端-理解指令选择的的DAG图以及dump输出" class="headerlink" title="LLVM后端-理解指令选择的的DAG图以及dump输出"></a>LLVM后端-理解指令选择的的DAG图以及dump输出</h1><h2 id="摘要"><a href="#摘要" class="headerlink" title="摘要"></a>摘要</h2><p>本文以release/19.1.0版本的LLVM源码为基础，阐述了指令选择的整体流程以及llc里常用SelectionDAG命令选项和各流程间的对应关系。另外，借助一个简单的示例呈现了指令选择的dump输出及其意义。进而，掌握指令选择的常见调试分析方法，且有助于深入探究指令选择的内部原理 。</p>
<h2 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h2><p>最近在进行性能调优时发现了一个非常有意思的现象，两条相似的赋值语句最终产生的汇编却截然不同，在进行分析时学到了指令选择的一些相关知识，写下此文进一步加深理解与思考。</p>
<blockquote>
<p>目标平台: AMD Ryzen 9 7950X 16-Core Processor</p>
<p>编译器：LLVM19.1.0</p>
</blockquote>
<p>kernel1:</p>
<figure class="highlight fortran"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">subroutine</span></span> solve(n, l, u, i, j)</span><br><span class="line">  <span class="keyword">implicit</span> <span class="keyword">none</span></span><br><span class="line">  <span class="keyword">integer</span> :: row, col, row1, col1, x</span><br><span class="line">  <span class="keyword">integer</span> ,<span class="keyword">intent</span>(<span class="keyword">in</span>):: n</span><br><span class="line">  <span class="keyword">integer</span> :: <span class="keyword">block</span>(n, n) </span><br><span class="line">  <span class="keyword">integer</span> ,<span class="keyword">intent</span>(<span class="keyword">in</span>):: l(n), u(n), i, j</span><br><span class="line"></span><br><span class="line">  <span class="keyword">do</span> row = l(i), u(i)</span><br><span class="line">    <span class="keyword">do</span> col = l(j), u(j)</span><br><span class="line">      <span class="keyword">block</span>(col,row) = <span class="keyword">block</span>(col,row) - <span class="number">10</span>  </span><br><span class="line">      <span class="keyword">block</span>(col,row+<span class="number">1</span>) = <span class="keyword">block</span>(col,row+<span class="number">1</span>) - <span class="number">20</span></span><br><span class="line">    <span class="keyword">end</span> <span class="keyword">do</span></span><br><span class="line">    <span class="keyword">return</span>  </span><br><span class="line">  <span class="keyword">end</span> <span class="keyword">do</span></span><br><span class="line"><span class="keyword">end</span> <span class="function"><span class="keyword">subroutine</span></span></span><br></pre></td></tr></tbody></table></figure>
<p>kernel1生成的汇编：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">movslq	%r8d, %r8</span><br><span class="line">addl	$-10, -4(%rcx,%r8,4)</span><br><span class="line">addl	$-20, -4(%rdx,%r8,4)</span><br><span class="line">incl	%r8d</span><br><span class="line">decq	%rax</span><br><span class="line">cmpq	$1, %rax</span><br><span class="line">ja	.LBB0_13</span><br></pre></td></tr></tbody></table></figure>
<p>kernel2:</p>
<figure class="highlight fortran"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">subroutine</span></span> solve(n, l, u, i, j)</span><br><span class="line">  <span class="keyword">implicit</span> <span class="keyword">none</span></span><br><span class="line">  <span class="keyword">integer</span> :: row, col, row1, col1</span><br><span class="line">  <span class="keyword">integer</span> ,<span class="keyword">intent</span>(<span class="keyword">in</span>):: n</span><br><span class="line">  <span class="keyword">integer</span> :: <span class="keyword">block</span>(n, n) </span><br><span class="line">  <span class="keyword">integer</span> ,<span class="keyword">intent</span>(<span class="keyword">in</span>):: l(n), u(n), i, j</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">do</span> row = l(i), u(i)</span><br><span class="line">    <span class="keyword">do</span> col = l(j), u(j)</span><br><span class="line">      <span class="keyword">block</span>(col,row) = <span class="keyword">block</span>(col,row) - <span class="number">10</span>  </span><br><span class="line">      <span class="keyword">block</span>(col+<span class="number">1</span>,row) = <span class="keyword">block</span>(col+<span class="number">1</span>,row) - <span class="number">20</span> </span><br><span class="line">    <span class="keyword">end</span> <span class="keyword">do</span></span><br><span class="line">    <span class="keyword">return</span>  </span><br><span class="line">  <span class="keyword">end</span> <span class="keyword">do</span></span><br><span class="line"><span class="keyword">end</span> <span class="function"><span class="keyword">subroutine</span></span></span><br></pre></td></tr></tbody></table></figure>
<p>kernel2生成的部分汇编：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">	decq	%r10</span><br><span class="line">	imulq	%rdi, %r10</span><br><span class="line">	leaq	(%r9,%r10,4), %rdx</span><br><span class="line">	movl	-4(%rdx,%rsi,4), %esi</span><br><span class="line">	addq	$2, %rcx</span><br><span class="line">	.p2align	4, 0x90</span><br><span class="line">.LBB0_3:</span><br><span class="line">	cltq</span><br><span class="line">	addl	$-10, %esi</span><br><span class="line">	movl	%esi, -4(%rdx,%rax,4)</span><br><span class="line">	incl	%eax</span><br><span class="line">	movslq	%eax, %rdi</span><br><span class="line">	movl	-4(%rdx,%rdi,4), %esi</span><br><span class="line">	addl	$-20, %esi</span><br><span class="line">	movl	%esi, -4(%rdx,%rdi,4)</span><br><span class="line">	decq	%rcx</span><br><span class="line">	cmpq	$1, %rcx</span><br><span class="line">	ja	.LBB0_3</span><br></pre></td></tr></tbody></table></figure>
<p>重点对block赋值语句生成的汇编可以发现kernel1生成的汇编是一条addl的形式，而kernel2生成汇编的是mov-addl-mov的形式，并且关注kernel2生成的这一部分可以发现这三条指令是完全可以写成addl的形式的。</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">movl	-4(%rdx,%rdi,4), %esi</span><br><span class="line">addl	$-20, %esi</span><br><span class="line">movl	%esi, -4(%rdx,%rdi,4)</span><br></pre></td></tr></tbody></table></figure>
<p>因此对llvm指令选择的机制产生了怀疑，其实最终的解释原因非常简单，甚至和指令选择并无太大的关系，归根结底，是寄存器复用优化与折叠优化的矛盾所致。感兴趣的同学可以分析一下。</p>
<p>好了，由于本篇的重点在于指令选择的整体流程以及llc里常用SelectionDAG命令选项和各流程间的对应关系，因此不会在上述例子进行过多的阐述，那么我们正片开始！</p>
<h2 id="指令选择的整体输出"><a href="#指令选择的整体输出" class="headerlink" title="指令选择的整体输出"></a>指令选择的整体输出</h2><p>指令选择是将LLVM IR转换为代表目标指令的SelectDAG节点-SDNode.它是由一些较小的阶段组成，这些阶段如下图所示：</p>
<p><img src="https://blogofllj-1314043656.cos.ap-beijing.myqcloud.com/typora/image-20250330135337155.png" alt="image-20250307223609552"></p>
<p>为了直观地展示<code>llc</code>中常用 SelectionDAG 命令选项与各阶段之间的对应关系，图中除了指令选择阶段<code>(1)~(10)</code>以外，还包括了指令调度阶段<code>(11)</code>。</p>
<p>查看各阶段输出结果的常见方式有以下两种：</p>
<ul>
<li>通过<code>-debug-only=isel</code>命令选项查看所有阶段的文本输出（对应图中绿色字体）。比如：<code>Initial selection DAG:</code>后面的 SelectionDAG 对应阶段<code>(1)</code>的文本输出结果。</li>
<li>通过<code>-view-dag-combine1-dags</code>、<code>-view-legalize-dags</code>等命令选项（对应图中紫色字体）查看指定阶段的可视化输出。比如：<code>-view-dag-combine1-dags</code>用于查看阶段<code>(1)</code>的可视化输出结果。另外，可以通过<code>-filter-view-dags</code>命令选项指定允许可视化的基本块。比如：<code>-filter-view-dags=if_else -view-sched-dags</code>表示只可视化基本块<code>if_else</code>在阶段<code>(10)</code>的输出结果。</li>
</ul>
<p><strong>需要注意的是：</strong></p>
<ul>
<li>如果阶段<code>(3)</code>——<code>Type Legalization</code>未修改 SelectionDAG，那么<code>-view-dag-combine-lt-dags</code>命令选项不会输出其可视化结果。并且，阶段<code>(4)</code>——<code>DAG Combining</code>也不会执行。相应地，<code>Optimized type-legalized selection DAG:</code>不会出现在文本输出结果中。</li>
<li>如果阶段<code>(5)</code>——<code>Vector Legalization</code>未修改 SelectionDAG，那么阶段<code>(6)</code>——<code>Type Legalization 2</code>和阶段<code>(7)</code>——<code>DAG Combining</code>都不会执行。并且，<code>Vector-legalized selection DAG:</code>、<code>Vector/type-legalized selection DAG:</code>、<code>Optimized vector-legalized selection DAG:</code>都不会出现在文本输出结果中。除此之外，<code>-view-dag-combine-lt-dags</code>命令选项也不会输出阶段<code>(6)</code>的可视化结果。然而，<code>-view-legalize-dags</code>命令选项总是可用的。</li>
<li><code>-filter-view-dags</code>命令选项指定允许可视化的基本块,这里的基本块指的是IR的基本块的名称，并且在大型程序中受编译选项如：内联的影响，部分基本块的名称是无法通过<code>-filter-view-dags</code>所识别的,遇到一个复杂的工程问题，最好抽象成一个小例子来进行解决，否则DAG将会异常复杂难懂。</li>
</ul>
<p><em>注：</em></p>
<ul>
<li><p>指令选择的整体流程见<code>SelectionDAGISel::CodeGenAndEmitDAG()</code>函数的实现（定义在 llvm/lib/CodeGen/SelectionDAG/SelectionDAGISel.cpp 文件中）。</p>
</li>
<li><p><code>llc</code>中所有的 SelectionDAG 命令选项可以通过<code>llc --help-list-hidden | grep dags</code>命令进行查看。其输出结果如下：</p>
<figure class="highlight shell"><table><tbody><tr><td class="code"><pre><span class="line">--help-list-hidden | grep dags</span><br><span class="line"> --filter-view-dags=&lt;string&gt;                                                - Only display the basic block whose name matches this for all view-*-dags options</span><br><span class="line"> --misched-print-dags                                                       - Print schedule DAGs</span><br><span class="line"> --view-block-freq-propagation-dags=&lt;value&gt;                                 - Pop up a window to show a dag displaying how block frequencies propagation through the CFG.</span><br><span class="line"> --view-dag-combine-lt-dags                                                 - Pop up a window to show dags before the post legalize types dag combine pass</span><br><span class="line"> --view-dag-combine1-dags                                                   - Pop up a window to show dags before the first dag combine pass</span><br><span class="line"> --view-dag-combine2-dags                                                   - Pop up a window to show dags before the second dag combine pass</span><br><span class="line"> --view-isel-dags                                                           - Pop up a window to show isel dags as they are selected</span><br><span class="line"> --view-legalize-dags                                                       - Pop up a window to show dags before legalize</span><br><span class="line"> --view-legalize-types-dags                                                 - Pop up a window to show dags before legalize types</span><br><span class="line"> --view-machine-block-freq-propagation-dags=&lt;value&gt;                         - Pop up a window to show a dag displaying how machine block frequencies propagate through the CFG.</span><br><span class="line"> --view-misched-dags                                                        - Pop up a window to show MISched dags after they are processed</span><br><span class="line"> --view-sched-dags                                                          - Pop up a window to show sched dags as they are processed</span><br><span class="line"> --view-sunit-dags                                                          - Pop up a window to show SUnit dags after they are processed</span><br></pre></td></tr></tbody></table></figure>
</li>
</ul>
<h2 id="查看指令选择的输出结果"><a href="#查看指令选择的输出结果" class="headerlink" title="查看指令选择的输出结果"></a>查看指令选择的输出结果</h2><h3 id="以一段IR作为示例程序："><a href="#以一段IR作为示例程序：" class="headerlink" title="以一段IR作为示例程序："></a>以一段IR作为示例程序：</h3><p>test.ll</p>
<figure class="highlight shell"><table><tbody><tr><td class="code"><pre><span class="line">; ModuleID = 'FIRModule'</span><br><span class="line">source_filename = "FIRModule"</span><br><span class="line">target datalayout = "e-m:e-p270:32:32-p271:32:32-p272:64:64-i64:64-i128:128-f80:128-n8:16:32:64-S128"</span><br><span class="line">target triple = "x86_64-unknown-linux-gnu"</span><br><span class="line"></span><br><span class="line">; Function Attrs: nofree norecurse nosync nounwind memory(argmem: read)</span><br><span class="line">define void @solve_(ptr nocapture readonly %0, ptr nocapture readonly %1, ptr nocapture readonly %2, ptr nocapture readonly %3, ptr nocapture readonly %4) local_unnamed_addr #0 {</span><br><span class="line"><span class="meta prompt_">  %</span><span class="language-bash">6 = load i32, ptr %0, align 4, !tbaa !3</span></span><br><span class="line"><span class="meta prompt_">  %</span><span class="language-bash">7 = <span class="built_in">tail</span> call i32 @llvm.smax.i32(i32 %6, i32 0)</span></span><br><span class="line"><span class="meta prompt_">  %</span><span class="language-bash">8 = zext nneg i32 %7 to i64</span></span><br><span class="line"><span class="meta prompt_">  %</span><span class="language-bash">9 = mul nuw nsw i64 %8, %8</span></span><br><span class="line"><span class="meta prompt_">  %</span><span class="language-bash">10 = alloca i32, i64 %9, align 4</span></span><br><span class="line"><span class="meta prompt_">  %</span><span class="language-bash">11 = load i32, ptr %3, align 4, !tbaa !9</span></span><br><span class="line"><span class="meta prompt_">  %</span><span class="language-bash">12 = sext i32 %11 to i64</span></span><br><span class="line"><span class="meta prompt_">  %</span><span class="language-bash">13 = add nsw i64 %12, -1</span></span><br><span class="line"><span class="meta prompt_">  %</span><span class="language-bash">14 = getelementptr i32, ptr %1, i64 %13</span></span><br><span class="line"><span class="meta prompt_">  %</span><span class="language-bash">15 = load i32, ptr %14, align 4, !tbaa !11</span></span><br><span class="line"><span class="meta prompt_">  %</span><span class="language-bash">16 = sext i32 %15 to i64</span></span><br><span class="line"><span class="meta prompt_">  %</span><span class="language-bash">17 = getelementptr i32, ptr %2, i64 %13</span></span><br><span class="line"><span class="meta prompt_">  %</span><span class="language-bash">18 = load i32, ptr %17, align 4, !tbaa !13</span></span><br><span class="line"><span class="meta prompt_">  %</span><span class="language-bash">19 = sext i32 %18 to i64</span></span><br><span class="line"><span class="meta prompt_">  %</span><span class="language-bash">reass.sub = sub nsw i64 %19, %16</span></span><br><span class="line"><span class="meta prompt_">  %</span><span class="language-bash">20 = icmp sgt i64 %reass.sub, -1</span></span><br><span class="line">  br i1 %20, label %.lr.ph56, label %._crit_edge57</span><br><span class="line"></span><br><span class="line">.lr.ph56:                                         ; preds = %5</span><br><span class="line"><span class="meta prompt_">  %</span><span class="language-bash">21 = load i32, ptr %4, align 4, !tbaa !15</span></span><br><span class="line"><span class="meta prompt_">  %</span><span class="language-bash">22 = sext i32 %21 to i64</span></span><br><span class="line"><span class="meta prompt_">  %</span><span class="language-bash">23 = add nsw i64 %22, -1</span></span><br><span class="line"><span class="meta prompt_">  %</span><span class="language-bash">24 = getelementptr i32, ptr %1, i64 %23</span></span><br><span class="line"><span class="meta prompt_">  %</span><span class="language-bash">25 = load i32, ptr %24, align 4, !tbaa !11</span></span><br><span class="line"><span class="meta prompt_">  %</span><span class="language-bash">26 = sext i32 %25 to i64</span></span><br><span class="line"><span class="meta prompt_">  %</span><span class="language-bash">27 = getelementptr i32, ptr %2, i64 %23</span></span><br><span class="line"><span class="meta prompt_">  %</span><span class="language-bash">28 = load i32, ptr %27, align 4, !tbaa !13</span></span><br><span class="line"><span class="meta prompt_">  %</span><span class="language-bash">29 = sext i32 %28 to i64</span></span><br><span class="line"><span class="meta prompt_">  %</span><span class="language-bash">reass.sub58 = sub nsw i64 %29, %26</span></span><br><span class="line"><span class="meta prompt_">  %</span><span class="language-bash">30 = add nsw i64 %reass.sub58, 1</span></span><br><span class="line"><span class="meta prompt_">  %</span><span class="language-bash">31 = icmp sgt i64 %reass.sub58, -1</span></span><br><span class="line">  br i1 %31, label %.lr.ph.us.preheader, label %._crit_edge57</span><br><span class="line"></span><br><span class="line">.lr.ph.us.preheader:                              ; preds = %.lr.ph56</span><br><span class="line"><span class="meta prompt_">  %</span><span class="language-bash">32 = add nuw nsw i64 %reass.sub, 1</span></span><br><span class="line"><span class="meta prompt_">  %</span><span class="language-bash">invariant.gep = getelementptr i8, ptr %10, i64 -4</span></span><br><span class="line">  br label %.lr.ph.us</span><br><span class="line"></span><br><span class="line">.lr.ph.us:                                        ; preds = %.lr.ph.us.preheader, %._crit_edge.us</span><br><span class="line"><span class="meta prompt_">  %</span><span class="language-bash">33 = phi i64 [ %51, %._crit_edge.us ], [ %32, %.lr.ph.us.preheader ]</span></span><br><span class="line"><span class="meta prompt_">  %</span><span class="language-bash">34 = phi i32 [ %50, %._crit_edge.us ], [ %15, %.lr.ph.us.preheader ]</span></span><br><span class="line"><span class="meta prompt_">  %</span><span class="language-bash">35 = sext i32 %34 to i64</span></span><br><span class="line"><span class="meta prompt_">  %</span><span class="language-bash">36 = add nsw i64 %35, -1</span></span><br><span class="line"><span class="meta prompt_">  %</span><span class="language-bash">37 = mul nsw i64 %36, %8</span></span><br><span class="line"><span class="meta prompt_">  %</span><span class="language-bash">gep = getelementptr i32, ptr %invariant.gep, i64 %37</span></span><br><span class="line"><span class="meta prompt_">  %</span><span class="language-bash">gep.us.phi.trans.insert = getelementptr i32, ptr %gep, i64 %26</span></span><br><span class="line"><span class="meta prompt_">  %</span><span class="language-bash">.pre = load i32, ptr %gep.us.phi.trans.insert, align 4, !tbaa !17</span></span><br><span class="line">  br label %38</span><br><span class="line"></span><br><span class="line">38:                                               ; preds = %.lr.ph.us, %38</span><br><span class="line"><span class="meta prompt_">  %</span><span class="language-bash">39 = phi i32 [ %.pre, %.lr.ph.us ], [ %47, %38 ]</span></span><br><span class="line"><span class="meta prompt_">  %</span><span class="language-bash">40 = phi i64 [ %30, %.lr.ph.us ], [ %48, %38 ]</span></span><br><span class="line"><span class="meta prompt_">  %</span><span class="language-bash">41 = phi i32 [ %25, %.lr.ph.us ], [ %44, %38 ]</span></span><br><span class="line"><span class="meta prompt_">  %</span><span class="language-bash">42 = sext i32 %41 to i64</span></span><br><span class="line"><span class="meta prompt_">  %</span><span class="language-bash">gep.us = getelementptr i32, ptr %gep, i64 %42</span></span><br><span class="line"><span class="meta prompt_">  %</span><span class="language-bash">43 = add i32 %39, -10</span></span><br><span class="line">  store i32 %43, ptr %gep.us, align 4, !tbaa !17</span><br><span class="line"><span class="meta prompt_">  %</span><span class="language-bash">44 = add i32 %41, 1</span></span><br><span class="line"><span class="meta prompt_">  %</span><span class="language-bash">45 = sext i32 %44 to i64</span></span><br><span class="line"><span class="meta prompt_">  %</span><span class="language-bash">gep54.us = getelementptr i32, ptr %gep, i64 %45</span></span><br><span class="line"><span class="meta prompt_">  %</span><span class="language-bash">46 = load i32, ptr %gep54.us, align 4, !tbaa !21</span></span><br><span class="line"><span class="meta prompt_">  %</span><span class="language-bash">47 = add i32 %46, -20</span></span><br><span class="line">  store i32 %47, ptr %gep54.us, align 4, !tbaa !21</span><br><span class="line"><span class="meta prompt_">  %</span><span class="language-bash">48 = add nsw i64 %40, -1</span></span><br><span class="line"><span class="meta prompt_">  %</span><span class="language-bash">49 = icmp sgt i64 %40, 1</span></span><br><span class="line">  br i1 %49, label %38, label %._crit_edge.us</span><br><span class="line"></span><br><span class="line">._crit_edge.us:                                   ; preds = %38</span><br><span class="line"><span class="meta prompt_">  %</span><span class="language-bash">50 = add i32 %34, 1</span></span><br><span class="line"><span class="meta prompt_">  %</span><span class="language-bash">51 = add nsw i64 %33, -1</span></span><br><span class="line"><span class="meta prompt_">  %</span><span class="language-bash">52 = icmp sgt i64 %33, 1</span></span><br><span class="line">  br i1 %52, label %.lr.ph.us, label %._crit_edge57</span><br><span class="line"></span><br><span class="line">._crit_edge57:                                    ; preds = %._crit_edge.us, %.lr.ph56, %5</span><br><span class="line">  ret void</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">; Function Attrs: nocallback nofree nosync nounwind speculatable willreturn memory(none)</span><br><span class="line">declare i32 @llvm.smax.i32(i32, i32) #1</span><br><span class="line"></span><br><span class="line">attributes #0 = { nofree norecurse nosync nounwind memory(argmem: read) "target-cpu"="x86-64" }</span><br><span class="line">attributes #1 = { nocallback nofree nosync nounwind speculatable willreturn memory(none) }</span><br><span class="line"></span><br><span class="line">!llvm.module.flags = !{!0, !1, !2}</span><br><span class="line"></span><br><span class="line">!0 = !{i32 2, !"Debug Info Version", i32 3}</span><br><span class="line">!1 = !{i32 8, !"PIC Level", i32 2}</span><br><span class="line">!2 = !{i32 7, !"PIE Level", i32 2}</span><br><span class="line">!3 = !{!4, !4, i64 0}</span><br><span class="line">!4 = !{!"dummy arg data/_QFsolveEn", !5, i64 0}</span><br><span class="line">!5 = !{!"dummy arg data", !6, i64 0}</span><br><span class="line">!6 = !{!"any data access", !7, i64 0}</span><br><span class="line">!7 = !{!"any access", !8, i64 0}</span><br><span class="line">!8 = !{!"Flang function root _QPsolve"}</span><br><span class="line">!9 = !{!10, !10, i64 0}</span><br><span class="line">!10 = !{!"dummy arg data/_QFsolveEi", !5, i64 0}</span><br><span class="line">!11 = !{!12, !12, i64 0}</span><br><span class="line">!12 = !{!"dummy arg data/_QFsolveEl", !5, i64 0}</span><br><span class="line">!13 = !{!14, !14, i64 0}</span><br><span class="line">!14 = !{!"dummy arg data/_QFsolveEu", !5, i64 0}</span><br><span class="line">!15 = !{!16, !16, i64 0}</span><br><span class="line">!16 = !{!"dummy arg data/_QFsolveEj", !5, i64 0}</span><br><span class="line">!17 = !{!18, !18, i64 0}</span><br><span class="line">!18 = !{!"any data access", !19, i64 0}</span><br><span class="line">!19 = !{!"any access", !20, i64 0}</span><br><span class="line">!20 = !{!"Flang function root _QFsolvePfunc_current"}</span><br><span class="line">!21 = !{!22, !22, i64 0}</span><br><span class="line">!22 = !{!"any data access", !23, i64 0}</span><br><span class="line">!23 = !{!"any access", !24, i64 0}</span><br><span class="line">!24 = !{!"Flang function root _QFsolvePfunc_next"}</span><br></pre></td></tr></tbody></table></figure>
<h3 id="查看指令选择的文本输出："><a href="#查看指令选择的文本输出：" class="headerlink" title="查看指令选择的文本输出："></a>查看指令选择的文本输出：</h3><p>执行如下命令，将指令选择输出到指定文件里：</p>
<p><code>llc  test.ll --debug-only=isel &gt; test.log 2&gt;&amp;1</code></p>
<p>我这里的是x86架构，针对不同的架构你可以添加选项-march-x86/riscv32等</p>
<p>输出结果详见附录.</p>
<h3 id="查看指令选择的可视化输出："><a href="#查看指令选择的可视化输出：" class="headerlink" title="查看指令选择的可视化输出："></a>查看指令选择的可视化输出：</h3><p>1.z准备可视化数据，比如打印指令选择前的DAG图</p>
<p><code>llc -view-dag-isel-dags  test.ll -o test.s</code></p>
<p>输出结果如下所示：</p>
<p><img src="https://blogofllj-1314043656.cos.ap-beijing.myqcloud.com/typora/image-20250310210733379.png" alt="image-20250310210733379"></p>
<p>可以发现，可视化数据保存在/tep/dagxxx文件中</p>
<p>2.可视化输出结果</p>
<p>可以使用dot命令，dot支持多种可视化格式（需安装graphviz）</p>
<p>dot -Tpng /tep/dagxxx.dot -o test.png</p>
<p>当然也可以写个py脚本来直接生成：</p>
<figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> subprocess</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">render_dot_with_system</span>(<span class="params">dot_file, output_file, <span class="built_in">format</span>=<span class="string">'png'</span></span>):</span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    使用系统安装的 Graphviz 渲染</span></span><br><span class="line"><span class="string">    需要提前安装 Graphviz (apt install graphviz / brew install graphviz)</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> os.path.exists(dot_file):</span><br><span class="line">        <span class="keyword">raise</span> FileNotFoundError(<span class="string">f"DOT 文件不存在: <span class="subst">{dot_file}</span>"</span>)</span><br><span class="line">    </span><br><span class="line">    cmd = [<span class="string">'dot'</span>, <span class="string">'-T'</span>, <span class="built_in">format</span>, dot_file, <span class="string">'-o'</span>, output_file]</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        subprocess.run(cmd, check=<span class="literal">True</span>)</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f"成功生成: <span class="subst">{output_file}</span>"</span>)</span><br><span class="line">    <span class="keyword">except</span> subprocess.CalledProcessError <span class="keyword">as</span> e:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f"渲染失败: <span class="subst">{e}</span>"</span>)</span><br><span class="line">    <span class="keyword">except</span> FileNotFoundError:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">"未找到 'dot' 命令，请先安装 Graphviz"</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用示例</span></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">"__main__"</span>:</span><br><span class="line">    dot_path = <span class="string">"/nosche.dot"</span>    <span class="comment"># 输入 .dot 文件路径</span></span><br><span class="line">    output_path = <span class="string">"nosche.png"</span> <span class="comment"># 输出图片路径</span></span><br><span class="line">    render_dot_with_system(dot_path, output_path, <span class="built_in">format</span>=<span class="string">'png'</span>)</span><br></pre></td></tr></tbody></table></figure>
<h2 id="理解指令选择的文本输出"><a href="#理解指令选择的文本输出" class="headerlink" title="理解指令选择的文本输出"></a>理解指令选择的文本输出</h2><p>指令选择中各阶段的文本输出都是由<code>llvm::SelectionDAG::dump()</code>函数打印的。该函数的声明位于 llvm/include/llvm/CodeGen/SelectionDAG.h 文件，其定义位于 llvm/lib/CodeGen/SelectionDAG/SelectionDAGDumper.cpp 文件。</p>
<p>类<code>llvm::SelectionDAG</code>是一个有向无环图（Directed-Acyclic-Graph，DAG），用于表示每个基本块。DAG 的节点为<code>llvm::SDNode</code>类（定义在 llvm/include/llvm/CodeGen/SelectionDAGNodes.h 文件中）的实例，每个节点对应一条指令或一个操作数。DAG 的边为<code>llvm::SDValue</code>类的实例，作为节点的操作数（即节点的每个操作数都是一条指向其它节点的边）；每条边由一个<code>&lt;SDNode, unsigned&gt;</code>键值对构成，Key 表示所指向的节点（即定义操作数的节点，不妨称为<code>Def-SDNode</code>），Value 是一个索引（从 0 开始）表示使用<code>Def-SDNode</code>所定义的哪个值；每条边决定了两个节点在指令调度后必须满足何种（在基本块内的）先后出现顺序。</p>
<p>DAG 的节点既可以同时定义多个值，也可以同时包含多个操作数。DAG 节点所定义的每个值都关联一个<code>MVT</code>（Machine Value Type），用于表示该值的类型。常见的类型有如下三种（定义在 llvm/include/llvm/Support/MachineValueType.h 文件中）：</p>
<ul>
<li><code>Concrete Value</code>类型，表示具体的数据类型。比如：<code>llvm::MVT::i8</code>、<code>llvm::MVT::f16</code>、<code>llvm::MVT::v1i1</code>等，对应文本输出和 DAG 中的<code>i8</code>、<code>f16</code>等。</li>
<li><code>Other</code>类型，对应的枚举值为<code>llvm::MVT::Other</code>，对应文本输出和 DAG 中的<code>ch</code>。</li>
<li><code>Glue</code>类型，对应的枚举值为<code>llvm::MVT::Glue</code>，对应文本输出和 DAG 中的<code>glue</code>。</li>
</ul>
<p>DAG 的边用于表示两个节点之间的依赖关系：数据依赖或控制依赖。如果节点<code>A</code>依赖于节点<code>B</code>记作<code>A-&gt;B</code>（意味着节点<code>B</code>必须位于节点<code>A</code>的前面）；那么边的含义可以分为如下三种：</p>
<ul>
<li>表示数据依赖，称为<code>regular-edge</code>。对应 DAG 中的<code>从节点A指向节点B的黑色实线</code>。并且，箭头所指向的值（由节点<code>B</code>定义）的<code>MVT</code>类型一定是<code>Concrete Value</code>。</li>
<li>表示控制依赖并且节点<code>A</code>与<code>B</code>之间允许插入其它节点，称为<code>chain-edge</code>。对应 DAG 中的<code>从节点A指向节点B的蓝色虚线</code>。并且，箭头所指向的值（由节点<code>B</code>定义）的<code>MVT</code>类型一定是<code>Other</code>。</li>
<li>表示控制依赖并且节点<code>A</code>与<code>B</code>之间不允许插入其它节点（即节点<code>B</code>后面的第一个节点必须是<code>A</code>），称为<code>glue-edge</code>。对应 DAG 中的<code>从节点A指向节点B的红色实线</code>。并且，箭头所指向的值（由节点<code>B</code>定义）的<code>MVT</code>类型一定是<code>Glue</code>。</li>
</ul>
<p>接下来，以阶段<code>(10)</code>——<code>Instruction Selection</code>为例，说明指令选择的文本输出所表示的含义。</p>
<figure class="highlight shell"><table><tbody><tr><td class="code"><pre><span class="line">114 Selected selection DAG: %bb.0 'test:'</span><br><span class="line">115 SelectionDAG has 9 nodes:</span><br><span class="line">116   t0: ch = EntryToken</span><br><span class="line">117       t2: i32,ch = CopyFromReg t0, Register:i32 %0</span><br><span class="line">118       t4: i32,ch = CopyFromReg t0, Register:i32 %1</span><br><span class="line">119     t5: i32 = ADD t2, t4</span><br><span class="line">120   t7: ch,glue = CopyToReg t0, Register:i32 $x10, t5</span><br><span class="line">121   t8: ch = PseudoRET Register:i32 $x10, t7, t7:1</span><br></pre></td></tr></tbody></table></figure>
<ul>
<li><p>第 114 行，<code>%bb.0</code>是由 LLVM 内部为该基本块定义的标签名。<code>'test:'</code>表示该基本块对应的<code>函数名:标签名</code>，这里的函数名和标签名都是在 IR 代码中定义的。</p>
</li>
<li><p>第 115 行，表示该基本块所对应的 DAG 中包含<code>t0~t8</code> 9 个节点。这些节点的节点 ID（即<code>llvm::SDNode::PersistentId</code>字段）值为<code>0~8</code>。比如：<code>t0</code>表示节点 ID 为 0 的节点。</p>
</li>
<li><p>第 116 行，<code>t0:</code>表示该节点的节点 ID 为 0 （这里的节点 ID 对应源代码中的<code>SDNode::PersistentId</code>）。</p>
<ul>
<li>等号左侧的<code>ch</code>表示该节点仅定义了一个值，其<code>MVT</code>类型为<code>llvm::MVT::Other</code>，该值的索引为 0。</li>
<li>等号右侧的<code>EntryToken</code>表示该节点是一个特殊的标记节点（对应的操作码为<code>llvm::ISD::EntryToken</code>）。</li>
</ul>
</li>
<li><p>第 117 行， <code>t2:</code>表示该节点的节点 ID 为 2 。</p>
<ul>
<li><p>等号左侧的<code>i32,ch</code>表示该节点定义了两个值，索引为 0 的值的<code>MVT</code>类型为<code>llvm::MVT::i32</code>；索引为 1 的值的<code>MVT</code>类型为<code>llvm::MVT::Other</code>。</p>
</li>
<li><p>等号右侧的<code>CopyFromReg</code>表示该节点是读寄存器操作（对应的操作码为<code>llvm::ISD::CopyFromReg</code>）。</p>
</li>
<li><p>等号右侧的<code>t0, Register:i32 %0</code>表示该节点包含两个操作数，索引为 0 的操作数表示一条指向<code>t0</code>节点所定义的索引为 0 的值的<code>chain-edge</code>（即省略了<code>t0:0</code>中的<code>:0</code>）；索引为 1 的操作数表示一条指向<code>t1</code>节点所定义的索引为 0 的值的<code>regular-edge</code>。</p>
<p>实际上，<code>Register:i32 %0</code>是 DAG 中的<code>t1</code>节点，其中冒号左侧的<code>Register</code>表示该节点是寄存器（对应的操作码为<code>llvm::ISD::Register</code>）；冒号右侧的<code>i32</code>表示该节点仅定义了一个值，其<code>MVT</code>类型为<code>llvm::MVT::i32</code>；<code>%0</code>以<code>%</code>开头表示虚拟寄存器<code>%0</code>，该节点在文本输出时被折叠打印了。如果不折叠打印，那么该行的输出结果应该为<code>t2: i32,ch = CopyFromReg t0, t1</code>。</p>
</li>
<li><p>相比于节点<code>t5</code>，节点<code>t2</code>缩进了两个空格，表示节点<code>t2</code>仅被节点<code>t5</code>使用了（即节点<code>t2</code>的使用者只有节点<code>t5</code>，意味着节点<code>t2</code>必须位于节点<code>t5</code>的前面）。<strong>如果节点<code>t2</code>的使用者有多个，那么该节点不会进行缩进打印</strong>。</p>
</li>
</ul>
</li>
<li><p>第 118 行，<code>t4:</code>表示该节点的节点 ID 为 4 。同样地，节点<code>t4</code>也仅被节点<code>t5</code>使用了。</p>
</li>
<li><p>第 119 行，<code>t5:</code>表示该节点的节点 ID 为 5 。</p>
<ul>
<li>等号左侧的<code>i32</code>表示该节点仅定义了一个值，其<code>MVT</code>类型为<code>llvm::MVT::i32</code>，该值的索引为 0。</li>
<li>等号右侧的<code>ADD</code>表示该节点是机器指令<code>add</code>（对应的操作码为<code>llvm::RISCV::ADD</code>）。</li>
<li>等号右侧的<code>t2, t4</code>表示该节点包含两个操作数，索引为 0 的操作数表示一条指向<code>t2</code>节点所定义的索引为 0 的值的<code>regular-edge</code>（省略了<code>t2:0</code>中的<code>:0</code>）；索引为 1 的操作数表示一条指向<code>t4</code>节点所定义的索引为 0 的值的<code>regular-edge</code>（省略了<code>t4:0</code>中的<code>:0</code>）。</li>
<li>同样地，节点<code>t5</code>仅被节点<code>t7</code>使用了。</li>
</ul>
</li>
<li><p>第 120 行，<code>t7:</code>表示该节点的节点 ID 为 7 。</p>
<ul>
<li><p>等号左侧的<code>ch,glue</code>表示该节点定义了两个值，索引为 0 的值的<code>MVT</code>类型为<code>llvm::MVT::Other</code>；索引为 1 的值的<code>MVT</code>类型为<code>llvm::MVT::Glue</code>。</p>
</li>
<li><p>等号右侧的<code>CopyToReg</code>表示该节点是写寄存器操作（对应的操作码为<code>llvm::ISD::CopyToReg</code>）。</p>
</li>
<li><p>等号右侧的<code>t0, Register:i32 $x10, t5</code>表示该节点包含三个操作数，索引为 0 的操作数表示一条指向<code>t0</code>节点所定义的索引为 0 的值的<code>chain-edge</code>（省略了<code>t0:0</code>中的<code>:0</code>）；索引为 1 的操作数表示一条指向<code>t6</code>节点所定义的索引为 0 的值的<code>regular-edge</code>；索引为 2 的操作数表示一条指向<code>t5</code>节点所定义的索引为 0 的值的<code>regular-edge</code>（省略了<code>t5:0</code>中的<code>:0</code>）。</p>
<p>实际上，<code>Register:i32 $x10</code>是 DAG 中的<code>t6</code>节点，其中冒号左侧的<code>Register</code>表示该节点是寄存器（对应的操作码为<code>llvm::ISD::Register</code>）；冒号右侧的<code>i32</code>表示该节点仅定义了一个值，其<code>MVT</code>类型为<code>llvm::MVT::i32</code>；<script type="math/tex">x10`以`</script>开头表示物理寄存器<code>x10</code>，该节点在文本输出时被折叠打印了。如果不折叠打印，那么该行的输出结果应该为<code>t7: ch,glue = CopyToReg t0, t6, t5</code>。</p>
</li>
</ul>
</li>
<li><p>第 121 行，<code>t8:</code>表示该节点的节点 ID 为 8 。</p>
<ul>
<li>等号左侧的<code>ch</code>表示该节点仅定义了一个值，其<code>MVT</code>类型为<code>llvm::MVT::Other</code>，该值的索引为 0。</li>
<li>等号右侧的<code>PseudoRET</code>表示该节点是伪机器指令<code>ret</code>（对应的操作码为<code>llvm::RISCV::PseudoRET</code>）。</li>
<li>等号右侧的<code>Register:i32 $x10, t7, t7:1</code>表示该节点包含三个操作数，索引为 0 的操作数表示一条指向<code>t6</code>节点所定义的索引为 0 的值的<code>regular-edge</code>（被折叠打印了）；索引为 1 的操作数表示一条指向<code>t7</code>节点所定义的索引为 0 的值的<code>chain-edge</code>（省略了<code>t7:0</code>中的<code>:0</code>）；索引为 2 的操作数表示一条指向<code>t7</code>节点所定义的索引为 1 的值的<code>glue-edge</code>。</li>
</ul>
</li>
</ul>
<h2 id="理解指令选择的可视化输出"><a href="#理解指令选择的可视化输出" class="headerlink" title="理解指令选择的可视化输出"></a>理解指令选择的可视化输出</h2><p>指令选择中各阶段的可视化输出都是由<code>llvm::SelectionDAG::viewGraph()</code>函数打印的。该函数的声明位于 llvm/include/llvm/CodeGen/SelectionDAG.h 文件，其定义位于 llvm/lib/CodeGen/SelectionDAG/SelectionDAGPrinter.cpp 文件。</p>
<p>接下来，以阶段<code>(10)</code>——<code>Instruction Selection</code>为例，说明指令选择的可视化输出所表示的含义。</p>
<p><img src="D:\Desktop\after\yessche.png" alt="yessche"></p>
<ul>
<li>根节点<code>GraphRoot</code>，实际上 DAG 中不存在该节点（用椭圆形表示）。该节点与节点<code>t8</code>之间有一条<code>chain-edge</code>，表示节点<code>t40</code>必须作为基本块内的最后一条指令。</li>
<li>节点<code>t40</code>，DAG 中实际存在该节点（用圆角矩形表示）。该节点分为四部分，从上到下依次为：操作数的索引、操作码、节点 ID、节点所定义值的<code>MVT</code>类型。每部分的含义大家顺下来文本输出这里应该更加直观的理解，这里不在叙述</li>
</ul>
<h2 id="附录："><a href="#附录：" class="headerlink" title="附录："></a>附录：</h2><p>执行debug-only=isel的输出文件：</p>
<figure class="highlight shell"><table><tbody><tr><td class="code"><pre><span class="line">	FastISel is disabled</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">=== solve_</span><br><span class="line"></span><br><span class="line">Initial selection DAG: %bb.0 'solve_:'</span><br><span class="line">SelectionDAG has 55 nodes:</span><br><span class="line">  t0: ch,glue = EntryToken</span><br><span class="line">  t10: i64,ch = CopyFromReg t0, Register:i64 %26</span><br><span class="line">    t2: i64,ch = CopyFromReg t0, Register:i64 %22</span><br><span class="line">  t13: i32,ch = load&lt;(load (s32) from %ir.0, !tbaa !3)&gt; t0, t2, undef:i64</span><br><span class="line">    t15: i32 = smax t13, Constant:i32&lt;0&gt;</span><br><span class="line">  t16: i64 = zero_extend nneg t15</span><br><span class="line">          t19: i64 = mul nuw nsw t16, t16</span><br><span class="line">        t21: i64 = mul t19, Constant:i64&lt;4&gt;</span><br><span class="line">      t23: i64 = add nuw t21, Constant:i64&lt;15&gt;</span><br><span class="line">    t25: i64 = and t23, Constant:i64&lt;-16&gt;</span><br><span class="line">  t26: i64,ch = dynamic_stackalloc t13:1, t25, Constant:i64&lt;0&gt;</span><br><span class="line">          t8: i64,ch = CopyFromReg t0, Register:i64 %25</span><br><span class="line">        t29: i32,ch = load&lt;(load (s32) from %ir.3, !tbaa !9)&gt; t26:1, t8, undef:i64</span><br><span class="line">      t30: i64 = sign_extend t29</span><br><span class="line">    t32: i64 = add nsw t30, Constant:i64&lt;-1&gt;</span><br><span class="line">  t34: i64 = shl t32, Constant:i64&lt;2&gt;</span><br><span class="line">      t4: i64,ch = CopyFromReg t0, Register:i64 %23</span><br><span class="line">    t35: i64 = add t4, t34</span><br><span class="line">  t36: i32,ch = load&lt;(load (s32) from %ir.14, !tbaa !11)&gt; t26:1, t35, undef:i64</span><br><span class="line">          t6: i64,ch = CopyFromReg t0, Register:i64 %24</span><br><span class="line">        t40: i64 = add t6, t34</span><br><span class="line">      t41: i32,ch = load&lt;(load (s32) from %ir.17, !tbaa !13)&gt; t26:1, t40, undef:i64</span><br><span class="line">    t42: i64 = sign_extend t41</span><br><span class="line">    t39: i64 = sign_extend t36</span><br><span class="line">  t43: i64 = sub nsw t42, t39</span><br><span class="line">        t18: ch = CopyToReg t0, Register:i64 %0, t16</span><br><span class="line">        t28: ch = CopyToReg t0, Register:i64 %1, t26</span><br><span class="line">        t38: ch = CopyToReg t0, Register:i32 %2, t36</span><br><span class="line">        t45: ch = CopyToReg t0, Register:i64 %3, t43</span><br><span class="line">      t51: ch = TokenFactor t18, t28, t38, t45, t26:1</span><br><span class="line">        t47: i1 = setcc t43, Constant:i64&lt;-1&gt;, setgt:ch</span><br><span class="line">      t49: i1 = xor t47, Constant:i1&lt;-1&gt;</span><br><span class="line">    t52: ch = brcond t51, t49, BasicBlock:ch&lt;._crit_edge57 0x60c587dbb238&gt;</span><br><span class="line">  t54: ch = br t52, BasicBlock:ch&lt;.lr.ph56 0x60c587dbab30&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Optimized lowered selection DAG: %bb.0 'solve_:'</span><br><span class="line">SelectionDAG has 49 nodes:</span><br><span class="line">  t0: ch,glue = EntryToken</span><br><span class="line">    t2: i64,ch = CopyFromReg t0, Register:i64 %22</span><br><span class="line">  t13: i32,ch = load&lt;(load (s32) from %ir.0, !tbaa !3)&gt; t0, t2, undef:i64</span><br><span class="line">    t15: i32 = smax t13, Constant:i32&lt;0&gt;</span><br><span class="line">  t16: i64 = zero_extend nneg t15</span><br><span class="line">          t19: i64 = mul nuw nsw t16, t16</span><br><span class="line">        t68: i64 = shl t19, Constant:i8&lt;2&gt;</span><br><span class="line">      t23: i64 = add nuw t68, Constant:i64&lt;15&gt;</span><br><span class="line">    t25: i64 = and t23, Constant:i64&lt;-16&gt;</span><br><span class="line">  t26: i64,ch = dynamic_stackalloc t13:1, t25, Constant:i64&lt;0&gt;</span><br><span class="line">        t6: i64,ch = CopyFromReg t0, Register:i64 %24</span><br><span class="line">      t40: i64 = add t6, t65</span><br><span class="line">    t60: i64,ch = load&lt;(load (s32) from %ir.17, !tbaa !13), sext from i32&gt; t26:1, t40, undef:i64</span><br><span class="line">  t43: i64 = sub nsw t60, t61</span><br><span class="line">      t4: i64,ch = CopyFromReg t0, Register:i64 %23</span><br><span class="line">    t35: i64 = add t4, t65</span><br><span class="line">  t61: i64,ch = load&lt;(load (s32) from %ir.14, !tbaa !11), sext from i32&gt; t26:1, t35, undef:i64</span><br><span class="line">        t8: i64,ch = CopyFromReg t0, Register:i64 %25</span><br><span class="line">      t66: i64,ch = load&lt;(load (s32) from %ir.3, !tbaa !9), sext from i32&gt; t26:1, t8, undef:i64</span><br><span class="line">    t64: i64 = shl t66, Constant:i64&lt;2&gt;</span><br><span class="line">  t65: i64 = add t64, Constant:i64&lt;-4&gt;</span><br><span class="line">        t18: ch = CopyToReg t0, Register:i64 %0, t16</span><br><span class="line">        t28: ch = CopyToReg t0, Register:i64 %1, t26</span><br><span class="line">          t62: i32 = truncate t61</span><br><span class="line">        t38: ch = CopyToReg t0, Register:i32 %2, t62</span><br><span class="line">        t45: ch = CopyToReg t0, Register:i64 %3, t43</span><br><span class="line">      t51: ch = TokenFactor t18, t28, t38, t45, t26:1</span><br><span class="line">      t59: i1 = setcc t43, Constant:i64&lt;0&gt;, setlt:ch</span><br><span class="line">    t57: ch = brcond t51, t59, BasicBlock:ch&lt;._crit_edge57 0x60c587dbb238&gt;</span><br><span class="line">  t54: ch = br t57, BasicBlock:ch&lt;.lr.ph56 0x60c587dbab30&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Type-legalized selection DAG: %bb.0 'solve_:'</span><br><span class="line">SelectionDAG has 51 nodes:</span><br><span class="line">  t0: ch,glue = EntryToken</span><br><span class="line">    t2: i64,ch = CopyFromReg t0, Register:i64 %22</span><br><span class="line">  t13: i32,ch = load&lt;(load (s32) from %ir.0, !tbaa !3)&gt; t0, t2, undef:i64</span><br><span class="line">    t15: i32 = smax t13, Constant:i32&lt;0&gt;</span><br><span class="line">  t16: i64 = zero_extend nneg t15</span><br><span class="line">          t19: i64 = mul nuw nsw t16, t16</span><br><span class="line">        t68: i64 = shl t19, Constant:i8&lt;2&gt;</span><br><span class="line">      t23: i64 = add nuw t68, Constant:i64&lt;15&gt;</span><br><span class="line">    t25: i64 = and t23, Constant:i64&lt;-16&gt;</span><br><span class="line">  t26: i64,ch = dynamic_stackalloc t13:1, t25, Constant:i64&lt;0&gt;</span><br><span class="line">        t6: i64,ch = CopyFromReg t0, Register:i64 %24</span><br><span class="line">      t40: i64 = add t6, t65</span><br><span class="line">    t60: i64,ch = load&lt;(load (s32) from %ir.17, !tbaa !13), sext from i32&gt; t26:1, t40, undef:i64</span><br><span class="line">  t43: i64 = sub nsw t60, t61</span><br><span class="line">      t4: i64,ch = CopyFromReg t0, Register:i64 %23</span><br><span class="line">    t35: i64 = add t4, t65</span><br><span class="line">  t61: i64,ch = load&lt;(load (s32) from %ir.14, !tbaa !11), sext from i32&gt; t26:1, t35, undef:i64</span><br><span class="line">        t8: i64,ch = CopyFromReg t0, Register:i64 %25</span><br><span class="line">      t66: i64,ch = load&lt;(load (s32) from %ir.3, !tbaa !9), sext from i32&gt; t26:1, t8, undef:i64</span><br><span class="line">    t64: i64 = shl t66, Constant:i64&lt;2&gt;</span><br><span class="line">  t65: i64 = add t64, Constant:i64&lt;-4&gt;</span><br><span class="line">        t18: ch = CopyToReg t0, Register:i64 %0, t16</span><br><span class="line">        t28: ch = CopyToReg t0, Register:i64 %1, t26</span><br><span class="line">          t62: i32 = truncate t61</span><br><span class="line">        t38: ch = CopyToReg t0, Register:i32 %2, t62</span><br><span class="line">        t45: ch = CopyToReg t0, Register:i64 %3, t43</span><br><span class="line">      t51: ch = TokenFactor t18, t28, t38, t45, t26:1</span><br><span class="line">        t69: i8 = setcc t43, Constant:i64&lt;0&gt;, setlt:ch</span><br><span class="line">      t72: i8 = and t69, Constant:i8&lt;1&gt;</span><br><span class="line">    t57: ch = brcond t51, t72, BasicBlock:ch&lt;._crit_edge57 0x60c587dbb238&gt;</span><br><span class="line">  t54: ch = br t57, BasicBlock:ch&lt;.lr.ph56 0x60c587dbab30&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Optimized type-legalized selection DAG: %bb.0 'solve_:'</span><br><span class="line">SelectionDAG has 49 nodes:</span><br><span class="line">  t0: ch,glue = EntryToken</span><br><span class="line">    t2: i64,ch = CopyFromReg t0, Register:i64 %22</span><br><span class="line">  t13: i32,ch = load&lt;(load (s32) from %ir.0, !tbaa !3)&gt; t0, t2, undef:i64</span><br><span class="line">    t15: i32 = smax t13, Constant:i32&lt;0&gt;</span><br><span class="line">  t16: i64 = zero_extend nneg t15</span><br><span class="line">          t19: i64 = mul nuw nsw t16, t16</span><br><span class="line">        t68: i64 = shl t19, Constant:i8&lt;2&gt;</span><br><span class="line">      t23: i64 = add nuw t68, Constant:i64&lt;15&gt;</span><br><span class="line">    t25: i64 = and t23, Constant:i64&lt;-16&gt;</span><br><span class="line">  t26: i64,ch = dynamic_stackalloc t13:1, t25, Constant:i64&lt;0&gt;</span><br><span class="line">        t6: i64,ch = CopyFromReg t0, Register:i64 %24</span><br><span class="line">      t40: i64 = add t6, t65</span><br><span class="line">    t60: i64,ch = load&lt;(load (s32) from %ir.17, !tbaa !13), sext from i32&gt; t26:1, t40, undef:i64</span><br><span class="line">  t43: i64 = sub nsw t60, t61</span><br><span class="line">      t4: i64,ch = CopyFromReg t0, Register:i64 %23</span><br><span class="line">    t35: i64 = add t4, t65</span><br><span class="line">  t61: i64,ch = load&lt;(load (s32) from %ir.14, !tbaa !11), sext from i32&gt; t26:1, t35, undef:i64</span><br><span class="line">        t8: i64,ch = CopyFromReg t0, Register:i64 %25</span><br><span class="line">      t66: i64,ch = load&lt;(load (s32) from %ir.3, !tbaa !9), sext from i32&gt; t26:1, t8, undef:i64</span><br><span class="line">    t64: i64 = shl t66, Constant:i64&lt;2&gt;</span><br><span class="line">  t65: i64 = add t64, Constant:i64&lt;-4&gt;</span><br><span class="line">        t18: ch = CopyToReg t0, Register:i64 %0, t16</span><br><span class="line">        t28: ch = CopyToReg t0, Register:i64 %1, t26</span><br><span class="line">          t62: i32 = truncate t61</span><br><span class="line">        t38: ch = CopyToReg t0, Register:i32 %2, t62</span><br><span class="line">        t45: ch = CopyToReg t0, Register:i64 %3, t43</span><br><span class="line">      t51: ch = TokenFactor t18, t28, t38, t45, t26:1</span><br><span class="line">      t69: i8 = setcc t43, Constant:i64&lt;0&gt;, setlt:ch</span><br><span class="line">    t57: ch = brcond t51, t69, BasicBlock:ch&lt;._crit_edge57 0x60c587dbb238&gt;</span><br><span class="line">  t54: ch = br t57, BasicBlock:ch&lt;.lr.ph56 0x60c587dbab30&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Legalized selection DAG: %bb.0 'solve_:'</span><br><span class="line">SelectionDAG has 54 nodes:</span><br><span class="line">  t0: ch,glue = EntryToken</span><br><span class="line">    t2: i64,ch = CopyFromReg t0, Register:i64 %22</span><br><span class="line">  t13: i32,ch = load&lt;(load (s32) from %ir.0, !tbaa !3)&gt; t0, t2, undef:i64</span><br><span class="line">      t88: i32 = X86ISD::CMP t13, Constant:i32&lt;0&gt;</span><br><span class="line">    t91: i32 = X86ISD::CMOV Constant:i32&lt;0&gt;, t13, TargetConstant:i8&lt;15&gt;, t88</span><br><span class="line">  t16: i64 = zero_extend nneg t91</span><br><span class="line">        t8: i64,ch = CopyFromReg t0, Register:i64 %25</span><br><span class="line">      t66: i64,ch = load&lt;(load (s32) from %ir.3, !tbaa !9), sext from i32&gt; t82, t8, undef:i64</span><br><span class="line">    t64: i64 = shl t66, Constant:i8&lt;2&gt;</span><br><span class="line">  t65: i64 = add t64, Constant:i64&lt;-4&gt;</span><br><span class="line">      t4: i64,ch = CopyFromReg t0, Register:i64 %23</span><br><span class="line">    t35: i64 = add t4, t65</span><br><span class="line">  t61: i64,ch = load&lt;(load (s32) from %ir.14, !tbaa !11), sext from i32&gt; t82, t35, undef:i64</span><br><span class="line">        t6: i64,ch = CopyFromReg t0, Register:i64 %24</span><br><span class="line">      t40: i64 = add t6, t65</span><br><span class="line">    t60: i64,ch = load&lt;(load (s32) from %ir.17, !tbaa !13), sext from i32&gt; t82, t40, undef:i64</span><br><span class="line">  t73: i64,i32 = X86ISD::SUB t60, t61</span><br><span class="line">    t77: ch,glue = callseq_start t13:1, TargetConstant:i64&lt;0&gt;, TargetConstant:i64&lt;0&gt;</span><br><span class="line">  t79: i64,ch = CopyFromReg t77, Register:i64 $rsp</span><br><span class="line">          t19: i64 = mul nuw nsw t16, t16</span><br><span class="line">        t68: i64 = shl t19, Constant:i8&lt;2&gt;</span><br><span class="line">      t23: i64 = add nuw t68, Constant:i64&lt;15&gt;</span><br><span class="line">    t25: i64 = and t23, Constant:i64&lt;-16&gt;</span><br><span class="line">  t80: i64 = sub t79, t25</span><br><span class="line">    t81: ch = CopyToReg t79:1, Register:i64 $rsp, t80</span><br><span class="line">  t82: ch,glue = callseq_end t81, TargetConstant:i64&lt;0&gt;, TargetConstant:i64&lt;0&gt;</span><br><span class="line">        t18: ch = CopyToReg t0, Register:i64 %0, t16</span><br><span class="line">        t28: ch = CopyToReg t0, Register:i64 %1, t80</span><br><span class="line">          t62: i32 = truncate t61</span><br><span class="line">        t38: ch = CopyToReg t0, Register:i32 %2, t62</span><br><span class="line">        t45: ch = CopyToReg t0, Register:i64 %3, t73</span><br><span class="line">      t51: ch = TokenFactor t18, t28, t38, t45, t82</span><br><span class="line">    t75: ch = X86ISD::BRCOND t51, BasicBlock:ch&lt;._crit_edge57 0x60c587dbb238&gt;, TargetConstant:i8&lt;8&gt;, t73:1</span><br><span class="line">  t54: ch = br t75, BasicBlock:ch&lt;.lr.ph56 0x60c587dbab30&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Optimized legalized selection DAG: %bb.0 'solve_:'</span><br><span class="line">SelectionDAG has 54 nodes:</span><br><span class="line">  t0: ch,glue = EntryToken</span><br><span class="line">    t2: i64,ch = CopyFromReg t0, Register:i64 %22</span><br><span class="line">  t13: i32,ch = load&lt;(load (s32) from %ir.0, !tbaa !3)&gt; t0, t2, undef:i64</span><br><span class="line">      t88: i32 = X86ISD::CMP t13, Constant:i32&lt;0&gt;</span><br><span class="line">    t91: i32 = X86ISD::CMOV Constant:i32&lt;0&gt;, t13, TargetConstant:i8&lt;15&gt;, t88</span><br><span class="line">  t16: i64 = zero_extend nneg t91</span><br><span class="line">        t8: i64,ch = CopyFromReg t0, Register:i64 %25</span><br><span class="line">      t66: i64,ch = load&lt;(load (s32) from %ir.3, !tbaa !9), sext from i32&gt; t82, t8, undef:i64</span><br><span class="line">    t64: i64 = shl t66, Constant:i8&lt;2&gt;</span><br><span class="line">  t65: i64 = add t64, Constant:i64&lt;-4&gt;</span><br><span class="line">      t4: i64,ch = CopyFromReg t0, Register:i64 %23</span><br><span class="line">    t35: i64 = add t4, t65</span><br><span class="line">  t61: i64,ch = load&lt;(load (s32) from %ir.14, !tbaa !11), sext from i32&gt; t82, t35, undef:i64</span><br><span class="line">        t6: i64,ch = CopyFromReg t0, Register:i64 %24</span><br><span class="line">      t40: i64 = add t6, t65</span><br><span class="line">    t60: i64,ch = load&lt;(load (s32) from %ir.17, !tbaa !13), sext from i32&gt; t82, t40, undef:i64</span><br><span class="line">  t73: i64,i32 = X86ISD::SUB t60, t61</span><br><span class="line">    t77: ch,glue = callseq_start t13:1, TargetConstant:i64&lt;0&gt;, TargetConstant:i64&lt;0&gt;</span><br><span class="line">  t79: i64,ch = CopyFromReg t77, Register:i64 $rsp</span><br><span class="line">          t19: i64 = mul nuw nsw t16, t16</span><br><span class="line">        t68: i64 = shl t19, Constant:i8&lt;2&gt;</span><br><span class="line">      t23: i64 = add nuw t68, Constant:i64&lt;15&gt;</span><br><span class="line">    t25: i64 = and t23, Constant:i64&lt;-16&gt;</span><br><span class="line">  t80: i64 = sub t79, t25</span><br><span class="line">    t81: ch = CopyToReg t79:1, Register:i64 $rsp, t80</span><br><span class="line">  t82: ch,glue = callseq_end t81, TargetConstant:i64&lt;0&gt;, TargetConstant:i64&lt;0&gt;</span><br><span class="line">        t18: ch = CopyToReg t0, Register:i64 %0, t16</span><br><span class="line">        t28: ch = CopyToReg t0, Register:i64 %1, t80</span><br><span class="line">          t62: i32 = truncate t61</span><br><span class="line">        t38: ch = CopyToReg t0, Register:i32 %2, t62</span><br><span class="line">        t45: ch = CopyToReg t0, Register:i64 %3, t73</span><br><span class="line">      t51: ch = TokenFactor t18, t28, t38, t45, t82</span><br><span class="line">    t75: ch = X86ISD::BRCOND t51, BasicBlock:ch&lt;._crit_edge57 0x60c587dbb238&gt;, TargetConstant:i8&lt;8&gt;, t73:1</span><br><span class="line">  t54: ch = br t75, BasicBlock:ch&lt;.lr.ph56 0x60c587dbab30&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">===== Instruction selection begins: %bb.0 ''</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t54: ch = br t75, BasicBlock:ch&lt;.lr.ph56 0x60c587dbab30&gt;</span><br><span class="line">ISEL: Starting pattern match</span><br><span class="line">  Morphed node: t54: ch = JMP_1 BasicBlock:ch&lt;.lr.ph56 0x60c587dbab30&gt;, t75</span><br><span class="line">ISEL: Match complete!</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t75: ch = X86ISD::BRCOND t51, BasicBlock:ch&lt;._crit_edge57 0x60c587dbb238&gt;, TargetConstant:i8&lt;8&gt;, t73:1</span><br><span class="line">ISEL: Starting pattern match</span><br><span class="line">  Initial Opcode index to 135091</span><br><span class="line">  Morphed node: t75: ch = JCC_1 BasicBlock:ch&lt;._crit_edge57 0x60c587dbb238&gt;, TargetConstant:i8&lt;8&gt;, t93, t93:1</span><br><span class="line">ISEL: Match complete!</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t51: ch = TokenFactor t18, t28, t38, t45, t82</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t45: ch = CopyToReg t0, Register:i64 %3, t73</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t38: ch = CopyToReg t0, Register:i32 %2, t62</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t73: i64,i32 = X86ISD::SUB t60, t61</span><br><span class="line">ISEL: Starting pattern match</span><br><span class="line">  Initial Opcode index to 114065</span><br><span class="line">  Match failed at index 114078</span><br><span class="line">  Continuing at 114269</span><br><span class="line">  Match failed at index 114270</span><br><span class="line">  Continuing at 114372</span><br><span class="line">  Match failed at index 114373</span><br><span class="line">  Continuing at 114475</span><br><span class="line">  Continuing at 114476</span><br><span class="line">  Match failed at index 114477</span><br><span class="line">  Continuing at 114578</span><br><span class="line">  Skipped scope entry (due to false predicate) at index 114589, continuing at 114720</span><br><span class="line">  Match failed at index 114724</span><br><span class="line">  Continuing at 114738</span><br><span class="line">  Match failed at index 114742</span><br><span class="line">  Continuing at 114756</span><br><span class="line">  Match failed at index 114760</span><br><span class="line">  Continuing at 114773</span><br><span class="line">  Match failed at index 114774</span><br><span class="line">  Continuing at 114792</span><br><span class="line">  Match failed at index 114796</span><br><span class="line">  Continuing at 114810</span><br><span class="line">  Match failed at index 114814</span><br><span class="line">  Continuing at 114828</span><br><span class="line">  Match failed at index 114832</span><br><span class="line">  Continuing at 114845</span><br><span class="line">  Match failed at index 114846</span><br><span class="line">  Continuing at 114864</span><br><span class="line">  Continuing at 114865</span><br><span class="line">  Match failed at index 114866</span><br><span class="line">  Continuing at 114892</span><br><span class="line">  Match failed at index 114893</span><br><span class="line">  Continuing at 114919</span><br><span class="line">  Match failed at index 114920</span><br><span class="line">  Continuing at 114945</span><br><span class="line">  Morphed node: t73: i64,i32 = SUB64rr t60, t61</span><br><span class="line">ISEL: Match complete!</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t62: i32 = truncate t61</span><br><span class="line">ISEL: Starting pattern match</span><br><span class="line">  Initial Opcode index to 131882</span><br><span class="line">  Match failed at index 131885</span><br><span class="line">  Continuing at 131993</span><br><span class="line">  TypeSwitch[i32] from 131996 to 132025</span><br><span class="line">  Morphed node: t62: i32 = EXTRACT_SUBREG t61, TargetConstant:i32&lt;6&gt;</span><br><span class="line">ISEL: Match complete!</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t60: i64,ch = load&lt;(load (s32) from %ir.17, !tbaa !13), sext from i32&gt; t82, t40, undef:i64</span><br><span class="line">ISEL: Starting pattern match</span><br><span class="line">  Initial Opcode index to 122140</span><br><span class="line">  Skipped scope entry (due to false predicate) at index 122146, continuing at 122164</span><br><span class="line">  Skipped scope entry (due to false predicate) at index 122165, continuing at 122183</span><br><span class="line">  Skipped scope entry (due to false predicate) at index 122184, continuing at 122201</span><br><span class="line">  Skipped scope entry (due to false predicate) at index 122202, continuing at 122218</span><br><span class="line">  Match failed at index 122221</span><br><span class="line">  Continuing at 122258</span><br><span class="line">  Match failed at index 122259</span><br><span class="line">  Continuing at 122298</span><br><span class="line">  Skipped scope entry (due to false predicate) at index 122304, continuing at 122320</span><br><span class="line">  Skipped scope entry (due to false predicate) at index 122321, continuing at 122337</span><br><span class="line">  Morphed node: t60: i64,ch = MOVSX64rm32&lt;Mem:(load (s32) from %ir.17, !tbaa !13)&gt; t6, TargetConstant:i8&lt;4&gt;, t66, TargetConstant:i32&lt;-4&gt;, Register:i16 $noreg, t82</span><br><span class="line">ISEL: Match complete!</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t61: i64,ch = load&lt;(load (s32) from %ir.14, !tbaa !11), sext from i32&gt; t82, t35, undef:i64</span><br><span class="line">ISEL: Starting pattern match</span><br><span class="line">  Initial Opcode index to 122140</span><br><span class="line">  Skipped scope entry (due to false predicate) at index 122146, continuing at 122164</span><br><span class="line">  Skipped scope entry (due to false predicate) at index 122165, continuing at 122183</span><br><span class="line">  Skipped scope entry (due to false predicate) at index 122184, continuing at 122201</span><br><span class="line">  Skipped scope entry (due to false predicate) at index 122202, continuing at 122218</span><br><span class="line">  Match failed at index 122221</span><br><span class="line">  Continuing at 122258</span><br><span class="line">  Match failed at index 122259</span><br><span class="line">  Continuing at 122298</span><br><span class="line">  Skipped scope entry (due to false predicate) at index 122304, continuing at 122320</span><br><span class="line">  Skipped scope entry (due to false predicate) at index 122321, continuing at 122337</span><br><span class="line">  Morphed node: t61: i64,ch = MOVSX64rm32&lt;Mem:(load (s32) from %ir.14, !tbaa !11)&gt; t4, TargetConstant:i8&lt;4&gt;, t66, TargetConstant:i32&lt;-4&gt;, Register:i16 $noreg, t82</span><br><span class="line">ISEL: Match complete!</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t66: i64,ch = load&lt;(load (s32) from %ir.3, !tbaa !9), sext from i32&gt; t82, t8, undef:i64</span><br><span class="line">ISEL: Starting pattern match</span><br><span class="line">  Initial Opcode index to 122140</span><br><span class="line">  Skipped scope entry (due to false predicate) at index 122146, continuing at 122164</span><br><span class="line">  Skipped scope entry (due to false predicate) at index 122165, continuing at 122183</span><br><span class="line">  Skipped scope entry (due to false predicate) at index 122184, continuing at 122201</span><br><span class="line">  Skipped scope entry (due to false predicate) at index 122202, continuing at 122218</span><br><span class="line">  Match failed at index 122221</span><br><span class="line">  Continuing at 122258</span><br><span class="line">  Match failed at index 122259</span><br><span class="line">  Continuing at 122298</span><br><span class="line">  Skipped scope entry (due to false predicate) at index 122304, continuing at 122320</span><br><span class="line">  Skipped scope entry (due to false predicate) at index 122321, continuing at 122337</span><br><span class="line">  Morphed node: t66: i64,ch = MOVSX64rm32&lt;Mem:(load (s32) from %ir.3, !tbaa !9)&gt; t8, TargetConstant:i8&lt;1&gt;, Register:i64 $noreg, TargetConstant:i32&lt;0&gt;, Register:i16 $noreg, t82</span><br><span class="line">ISEL: Match complete!</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t82: ch,glue = callseq_end t81, TargetConstant:i64&lt;0&gt;, TargetConstant:i64&lt;0&gt;</span><br><span class="line">ISEL: Starting pattern match</span><br><span class="line">  Initial Opcode index to 134948</span><br><span class="line">  Skipped scope entry (due to false predicate) at index 134963, continuing at 134974</span><br><span class="line">  Morphed node: t82: i64,ch,glue = ADJCALLSTACKUP64 TargetConstant:i64&lt;0&gt;, TargetConstant:i64&lt;0&gt;, t81</span><br><span class="line">ISEL: Match complete!</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t81: ch = CopyToReg t79:1, Register:i64 $rsp, t80</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t28: ch = CopyToReg t0, Register:i64 %1, t80</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t80: i64 = sub t79, t25</span><br><span class="line">ISEL: Starting pattern match</span><br><span class="line">  Initial Opcode index to 56806</span><br><span class="line">  Skipped scope entry (due to false predicate) at index 56808, continuing at 56910</span><br><span class="line">  Match failed at index 56913</span><br><span class="line">  Continuing at 57259</span><br><span class="line">  Match failed at index 57263</span><br><span class="line">  Continuing at 57459</span><br><span class="line">  TypeSwitch[i64] from 57461 to 57498</span><br><span class="line">  Match failed at index 57498</span><br><span class="line">  Continuing at 57511</span><br><span class="line">  Match failed at index 57513</span><br><span class="line">  Continuing at 57654</span><br><span class="line">  Match failed at index 57664</span><br><span class="line">  Continuing at 57788</span><br><span class="line">  Match failed at index 57789</span><br><span class="line">  Continuing at 57815</span><br><span class="line">  Match failed at index 57816</span><br><span class="line">  Continuing at 57842</span><br><span class="line">  Match failed at index 57843</span><br><span class="line">  Continuing at 57868</span><br><span class="line">  Morphed node: t80: i64,i32 = SUB64rr t79, t25</span><br><span class="line">ISEL: Match complete!</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t25: i64 = and t23, Constant:i64&lt;-16&gt;</span><br><span class="line">ISEL: Starting pattern match</span><br><span class="line">  Initial Opcode index to 64496</span><br><span class="line">  Match failed at index 64500</span><br><span class="line">  Continuing at 64964</span><br><span class="line">  Match failed at index 64973</span><br><span class="line">  Continuing at 65005</span><br><span class="line">  Match failed at index 65009</span><br><span class="line">  Continuing at 65041</span><br><span class="line">  Match failed at index 65045</span><br><span class="line">  Continuing at 65076</span><br><span class="line">  Match failed at index 65077</span><br><span class="line">  Continuing at 65113</span><br><span class="line">  Continuing at 65114</span><br><span class="line">  Match failed at index 65117</span><br><span class="line">  Continuing at 65354</span><br><span class="line">  Match failed at index 65358</span><br><span class="line">  Continuing at 65554</span><br><span class="line">  OpcodeSwitch from 65557 to 65836</span><br><span class="line">  Skipped scope entry (due to false predicate) at index 65839, continuing at 65874</span><br><span class="line">  Skipped scope entry (due to false predicate) at index 65875, continuing at 65910</span><br><span class="line">  Match failed at index 65837</span><br><span class="line">  Continuing at 65912</span><br><span class="line">  Match failed at index 65915</span><br><span class="line">  Continuing at 66022</span><br><span class="line">  Match failed at index 66024</span><br><span class="line">  Continuing at 66134</span><br><span class="line">  Match failed at index 66135</span><br><span class="line">  Continuing at 66198</span><br><span class="line">  Match failed at index 66201</span><br><span class="line">  Continuing at 66323</span><br><span class="line">  Match failed at index 66324</span><br><span class="line">  Continuing at 66354</span><br><span class="line">  OpcodeSwitch from 66356 to 66360</span><br><span class="line">  Match failed at index 66361</span><br><span class="line">  Continuing at 66480</span><br><span class="line">  Match failed at index 66483</span><br><span class="line">  Continuing at 66515</span><br><span class="line">  Match failed at index 66521</span><br><span class="line">  Continuing at 66550</span><br><span class="line">  Match failed at index 66553</span><br><span class="line">  Continuing at 66639</span><br><span class="line">  Match failed at index 66641</span><br><span class="line">  Continuing at 66728</span><br><span class="line">  Match failed at index 66729</span><br><span class="line">  Continuing at 66750</span><br><span class="line">  Match failed at index 66751</span><br><span class="line">  Continuing at 66800</span><br><span class="line">  Match failed at index 66801</span><br><span class="line">  Continuing at 66836</span><br><span class="line">  Match failed at index 66837</span><br><span class="line">  Continuing at 66870</span><br><span class="line">  Match failed at index 66871</span><br><span class="line">  Continuing at 66903</span><br><span class="line">  Skipped scope entry (due to false predicate) at index 66913, continuing at 66931</span><br><span class="line">  Skipped scope entry (due to false predicate) at index 66932, continuing at 67010</span><br><span class="line">  Skipped scope entry (due to false predicate) at index 67011, continuing at 67029</span><br><span class="line">  Morphed node: t25: i64,i32 = AND64ri32 t23, TargetConstant:i64&lt;-16&gt;</span><br><span class="line">ISEL: Match complete!</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t23: i64 = add nuw t68, Constant:i64&lt;15&gt;</span><br><span class="line">ISEL: Starting pattern match</span><br><span class="line">  Initial Opcode index to 52329</span><br><span class="line">  Match failed at index 52333</span><br><span class="line">  Continuing at 52897</span><br><span class="line">  Match failed at index 52909</span><br><span class="line">  Continuing at 52941</span><br><span class="line">  Match failed at index 52945</span><br><span class="line">  Continuing at 52977</span><br><span class="line">  Match failed at index 52981</span><br><span class="line">  Continuing at 53012</span><br><span class="line">  Match failed at index 53013</span><br><span class="line">  Continuing at 53049</span><br><span class="line">  Continuing at 53050</span><br><span class="line">  Match failed at index 53053</span><br><span class="line">  Continuing at 53249</span><br><span class="line">  Continuing at 53250</span><br><span class="line">  Match failed at index 53253</span><br><span class="line">  Continuing at 53457</span><br><span class="line">  TypeSwitch[i64] from 53459 to 53496</span><br><span class="line">  Morphed node: t23: i64 = LEA64r nuw Register:i64 $noreg, TargetConstant:i8&lt;4&gt;, t19, TargetConstant:i32&lt;15&gt;, Register:i16 $noreg</span><br><span class="line">ISEL: Match complete!</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t18: ch = CopyToReg t0, Register:i64 %0, t16</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t19: i64 = mul nuw nsw t16, t16</span><br><span class="line">ISEL: Starting pattern match</span><br><span class="line">  Initial Opcode index to 95377</span><br><span class="line">  Match failed at index 95380</span><br><span class="line">  Continuing at 95473</span><br><span class="line">  Match failed at index 95477</span><br><span class="line">  Continuing at 95648</span><br><span class="line">  Match failed at index 95651</span><br><span class="line">  Continuing at 95805</span><br><span class="line">  TypeSwitch[i64] from 95807 to 95844</span><br><span class="line">  Match failed at index 95844</span><br><span class="line">  Continuing at 95857</span><br><span class="line">  Match failed at index 95867</span><br><span class="line">  Continuing at 95912</span><br><span class="line">  Match failed at index 95913</span><br><span class="line">  Continuing at 95924</span><br><span class="line">  Match failed at index 95925</span><br><span class="line">  Continuing at 95951</span><br><span class="line">  Match failed at index 95952</span><br><span class="line">  Continuing at 95977</span><br><span class="line">  Morphed node: t19: i64,i32 = IMUL64rr nuw nsw t16, t16</span><br><span class="line">ISEL: Match complete!</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t16: i64 = zero_extend nneg t91</span><br><span class="line">ISEL: Starting pattern match</span><br><span class="line">  Initial Opcode index to 133343</span><br><span class="line">  Match failed at index 133347</span><br><span class="line">  Continuing at 133490</span><br><span class="line">  Morphed node: t16: i64 = SUBREG_TO_REG nneg TargetConstant:i64&lt;0&gt;, t91, TargetConstant:i32&lt;6&gt;</span><br><span class="line">ISEL: Match complete!</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t79: i64,ch = CopyFromReg t77, Register:i64 $rsp</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t91: i32 = X86ISD::CMOV Constant:i32&lt;0&gt;, t13, TargetConstant:i8&lt;15&gt;, t88</span><br><span class="line">ISEL: Starting pattern match</span><br><span class="line">  Initial Opcode index to 97695</span><br><span class="line">  Match failed at index 97705</span><br><span class="line">  Continuing at 97896</span><br><span class="line">  Match failed at index 97899</span><br><span class="line">  Continuing at 98125</span><br><span class="line">  TypeSwitch[i32] from 98136 to 98152</span><br><span class="line">  Match failed at index 98152</span><br><span class="line">  Continuing at 98177</span><br><span class="line">  Skipped scope entry (due to false predicate) at index 98182, continuing at 98241</span><br><span class="line">  TypeSwitch[i32] from 98254 to 98300</span><br><span class="line">  Morphed node: t91: i32 = CMOV32rr Constant:i32&lt;0&gt;, t13, TargetConstant:i8&lt;15&gt;, t104:1</span><br><span class="line">ISEL: Match complete!</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t77: ch,glue = callseq_start t13:1, TargetConstant:i64&lt;0&gt;, TargetConstant:i64&lt;0&gt;</span><br><span class="line">ISEL: Starting pattern match</span><br><span class="line">  Initial Opcode index to 134990</span><br><span class="line">  Skipped scope entry (due to false predicate) at index 135004, continuing at 135018</span><br><span class="line">  Morphed node: t77: i64,ch,glue = ADJCALLSTACKDOWN64 TargetConstant:i64&lt;0&gt;, TargetConstant:i64&lt;0&gt;, TargetConstant:i32&lt;0&gt;, t13:1</span><br><span class="line">ISEL: Match complete!</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t88: i32 = X86ISD::CMP t13, Constant:i32&lt;0&gt;</span><br><span class="line">ISEL: Starting pattern match</span><br><span class="line">  Initial Opcode index to 21254</span><br><span class="line">  OpcodeSwitch from 21258 to 21707</span><br><span class="line">  Match failed at index 21709</span><br><span class="line">  Continuing at 21932</span><br><span class="line">  Skipped scope entry (due to false predicate) at index 21936, continuing at 21965</span><br><span class="line">  Skipped scope entry (due to false predicate) at index 21966, continuing at 21995</span><br><span class="line">  Match failed at index 21998</span><br><span class="line">  Continuing at 22024</span><br><span class="line">  Match failed at index 22025</span><br><span class="line">  Continuing at 22052</span><br><span class="line">  Continuing at 22053</span><br><span class="line">  OpcodeSwitch from 22056 to 22060</span><br><span class="line">  Match failed at index 22062</span><br><span class="line">  Continuing at 22405</span><br><span class="line">  Skipped scope entry (due to false predicate) at index 22410, continuing at 22468</span><br><span class="line">  Skipped scope entry (due to false predicate) at index 22469, continuing at 22527</span><br><span class="line">  Morphed node: t88: i32 = TEST32rr t13, t13</span><br><span class="line">ISEL: Match complete!</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t13: i32,ch = load&lt;(load (s32) from %ir.0, !tbaa !3)&gt; t0, t2, undef:i64</span><br><span class="line">ISEL: Starting pattern match</span><br><span class="line">  Initial Opcode index to 122140</span><br><span class="line">  Match failed at index 122148</span><br><span class="line">  Continuing at 122164</span><br><span class="line">  Match failed at index 122167</span><br><span class="line">  Continuing at 122183</span><br><span class="line">  Morphed node: t13: i32,ch = MOV32rm&lt;Mem:(load (s32) from %ir.0, !tbaa !3)&gt; t2, TargetConstant:i8&lt;1&gt;, Register:i64 $noreg, TargetConstant:i32&lt;0&gt;, Register:i16 $noreg, t0</span><br><span class="line">ISEL: Match complete!</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t8: i64,ch = CopyFromReg t0, Register:i64 %25</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t6: i64,ch = CopyFromReg t0, Register:i64 %24</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t4: i64,ch = CopyFromReg t0, Register:i64 %23</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t2: i64,ch = CopyFromReg t0, Register:i64 %22</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t89: i8 = TargetConstant&lt;15&gt;</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t78: i64 = Register $rsp</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t76: i64 = TargetConstant&lt;0&gt;</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t74: i8 = TargetConstant&lt;8&gt;</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t53: ch = BasicBlock&lt;.lr.ph56 0x60c587dbab30&gt;</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t50: ch = BasicBlock&lt;._crit_edge57 0x60c587dbb238&gt;</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t44: i64 = Register %3</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t37: i32 = Register %2</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t27: i64 = Register %1</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t17: i64 = Register %0</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t14: i32 = Constant&lt;0&gt;</span><br><span class="line">ISEL: Starting pattern match</span><br><span class="line">  Initial Opcode index to 131651</span><br><span class="line">  TypeSwitch[i32] from 131655 to 131658</span><br><span class="line">  Morphed node: t14: i32,i32 = MOV32r0</span><br><span class="line">ISEL: Match complete!</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t7: i64 = Register %25</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t5: i64 = Register %24</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t3: i64 = Register %23</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t1: i64 = Register %22</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t0: ch,glue = EntryToken</span><br><span class="line"></span><br><span class="line">===== Instruction selection ends:</span><br><span class="line"></span><br><span class="line">Selected selection DAG: %bb.0 'solve_:'</span><br><span class="line">SelectionDAG has 57 nodes:</span><br><span class="line">  t0: ch,glue = EntryToken</span><br><span class="line">    t2: i64,ch = CopyFromReg t0, Register:i64 %22</span><br><span class="line">  t13: i32,ch = MOV32rm&lt;Mem:(load (s32) from %ir.0, !tbaa !3)&gt; t2, TargetConstant:i8&lt;1&gt;, Register:i64 $noreg, TargetConstant:i32&lt;0&gt;, Register:i16 $noreg, t0</span><br><span class="line">    t77: i64,ch,glue = ADJCALLSTACKDOWN64 TargetConstant:i64&lt;0&gt;, TargetConstant:i64&lt;0&gt;, TargetConstant:i32&lt;0&gt;, t13:1</span><br><span class="line">  t79: i64,ch = CopyFromReg t77:1, Register:i64 $rsp</span><br><span class="line">        t88: i32 = TEST32rr t13, t13</span><br><span class="line">      t104: ch,glue = CopyToReg t0, Register:i32 $eflags, t88</span><br><span class="line">    t91: i32 = CMOV32rr MOV32r0:i32,i32, t13, TargetConstant:i8&lt;15&gt;, t104:1</span><br><span class="line">  t16: i64 = SUBREG_TO_REG nneg TargetConstant:i64&lt;0&gt;, t91, TargetConstant:i32&lt;6&gt;</span><br><span class="line">        t19: i64,i32 = IMUL64rr nuw nsw t16, t16</span><br><span class="line">      t23: i64 = LEA64r nuw Register:i64 $noreg, TargetConstant:i8&lt;4&gt;, t19, TargetConstant:i32&lt;15&gt;, Register:i16 $noreg</span><br><span class="line">    t25: i64,i32 = AND64ri32 t23, TargetConstant:i64&lt;-16&gt;</span><br><span class="line">  t80: i64,i32 = SUB64rr t79, t25</span><br><span class="line">    t81: ch = CopyToReg t79:1, Register:i64 $rsp, t80</span><br><span class="line">  t82: i64,ch,glue = ADJCALLSTACKUP64 TargetConstant:i64&lt;0&gt;, TargetConstant:i64&lt;0&gt;, t81</span><br><span class="line">    t8: i64,ch = CopyFromReg t0, Register:i64 %25</span><br><span class="line">  t66: i64,ch = MOVSX64rm32&lt;Mem:(load (s32) from %ir.3, !tbaa !9)&gt; t8, TargetConstant:i8&lt;1&gt;, Register:i64 $noreg, TargetConstant:i32&lt;0&gt;, Register:i16 $noreg, t82:1</span><br><span class="line">    t4: i64,ch = CopyFromReg t0, Register:i64 %23</span><br><span class="line">  t61: i64,ch = MOVSX64rm32&lt;Mem:(load (s32) from %ir.14, !tbaa !11)&gt; t4, TargetConstant:i8&lt;4&gt;, t66, TargetConstant:i32&lt;-4&gt;, Register:i16 $noreg, t82:1</span><br><span class="line">      t6: i64,ch = CopyFromReg t0, Register:i64 %24</span><br><span class="line">    t60: i64,ch = MOVSX64rm32&lt;Mem:(load (s32) from %ir.17, !tbaa !13)&gt; t6, TargetConstant:i8&lt;4&gt;, t66, TargetConstant:i32&lt;-4&gt;, Register:i16 $noreg, t82:1</span><br><span class="line">  t73: i64,i32 = SUB64rr t60, t61</span><br><span class="line">      t18: ch = CopyToReg t0, Register:i64 %0, t16</span><br><span class="line">      t28: ch = CopyToReg t0, Register:i64 %1, t80</span><br><span class="line">        t62: i32 = EXTRACT_SUBREG t61, TargetConstant:i32&lt;6&gt;</span><br><span class="line">      t38: ch = CopyToReg t0, Register:i32 %2, t62</span><br><span class="line">      t45: ch = CopyToReg t0, Register:i64 %3, t73</span><br><span class="line">    t51: ch = TokenFactor t18, t28, t38, t45, t82:1</span><br><span class="line">  t93: ch,glue = CopyToReg t51, Register:i32 $eflags, t73:1</span><br><span class="line">  t101: i32 = Register $noreg</span><br><span class="line">    t75: ch = JCC_1 BasicBlock:ch&lt;._crit_edge57 0x60c587dbb238&gt;, TargetConstant:i8&lt;8&gt;, t93, t93:1</span><br><span class="line">  t54: ch = JMP_1 BasicBlock:ch&lt;.lr.ph56 0x60c587dbab30&gt;, t75</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Total amount of phi nodes to update: 0</span><br><span class="line"></span><br><span class="line">Initial selection DAG: %bb.1 'solve_:.lr.ph56'</span><br><span class="line">SelectionDAG has 37 nodes:</span><br><span class="line">  t0: ch,glue = EntryToken</span><br><span class="line">  t3: i64 = Constant&lt;0&gt;</span><br><span class="line">          t2: i64,ch = CopyFromReg t0, Register:i64 %26</span><br><span class="line">        t5: i32,ch = load&lt;(load (s32) from %ir.4, !tbaa !15)&gt; t0, t2, undef:i64</span><br><span class="line">      t6: i64 = sign_extend t5</span><br><span class="line">    t8: i64 = add nsw t6, Constant:i64&lt;-1&gt;</span><br><span class="line">  t12: i64 = shl t8, Constant:i64&lt;2&gt;</span><br><span class="line">      t10: i64,ch = CopyFromReg t0, Register:i64 %23</span><br><span class="line">    t13: i64 = add t10, t12</span><br><span class="line">  t14: i32,ch = load&lt;(load (s32) from %ir.24, !tbaa !11)&gt; t0, t13, undef:i64</span><br><span class="line">  t17: i64 = sign_extend t14</span><br><span class="line">        t21: i64,ch = CopyFromReg t0, Register:i64 %24</span><br><span class="line">      t22: i64 = add t21, t12</span><br><span class="line">    t23: i32,ch = load&lt;(load (s32) from %ir.27, !tbaa !13)&gt; t0, t22, undef:i64</span><br><span class="line">  t24: i64 = sign_extend t23</span><br><span class="line">        t16: ch = CopyToReg t0, Register:i32 %4, t14</span><br><span class="line">        t19: ch = CopyToReg t0, Register:i64 %5, t17</span><br><span class="line">        t26: ch = CopyToReg t0, Register:i64 %6, t24</span><br><span class="line">      t33: ch = TokenFactor t16, t19, t26</span><br><span class="line">          t27: i64 = sub nsw t24, t17</span><br><span class="line">        t29: i1 = setcc t27, Constant:i64&lt;-1&gt;, setgt:ch</span><br><span class="line">      t31: i1 = xor t29, Constant:i1&lt;-1&gt;</span><br><span class="line">    t34: ch = brcond t33, t31, BasicBlock:ch&lt;._crit_edge57 0x60c587dbb238&gt;</span><br><span class="line">  t36: ch = br t34, BasicBlock:ch&lt;.lr.ph.us.preheader 0x60c587dbac30&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Optimized lowered selection DAG: %bb.1 'solve_:.lr.ph56'</span><br><span class="line">SelectionDAG has 33 nodes:</span><br><span class="line">  t0: ch,glue = EntryToken</span><br><span class="line">      t10: i64,ch = CopyFromReg t0, Register:i64 %23</span><br><span class="line">    t13: i64 = add t10, t46</span><br><span class="line">  t14: i32,ch = load&lt;(load (s32) from %ir.24, !tbaa !11)&gt; t0, t13, undef:i64</span><br><span class="line">  t17: i64 = sign_extend t14</span><br><span class="line">      t21: i64,ch = CopyFromReg t0, Register:i64 %24</span><br><span class="line">    t22: i64 = add t21, t46</span><br><span class="line">  t43: i64,ch = load&lt;(load (s32) from %ir.27, !tbaa !13), sext from i32&gt; t0, t22, undef:i64</span><br><span class="line">        t2: i64,ch = CopyFromReg t0, Register:i64 %26</span><br><span class="line">      t47: i64,ch = load&lt;(load (s32) from %ir.4, !tbaa !15), sext from i32&gt; t0, t2, undef:i64</span><br><span class="line">    t45: i64 = shl t47, Constant:i64&lt;2&gt;</span><br><span class="line">  t46: i64 = add t45, Constant:i64&lt;-4&gt;</span><br><span class="line">        t16: ch = CopyToReg t0, Register:i32 %4, t14</span><br><span class="line">        t19: ch = CopyToReg t0, Register:i64 %5, t17</span><br><span class="line">        t26: ch = CopyToReg t0, Register:i64 %6, t43</span><br><span class="line">      t33: ch = TokenFactor t16, t19, t26</span><br><span class="line">        t27: i64 = sub nsw t43, t17</span><br><span class="line">      t42: i1 = setcc t27, Constant:i64&lt;0&gt;, setlt:ch</span><br><span class="line">    t39: ch = brcond t33, t42, BasicBlock:ch&lt;._crit_edge57 0x60c587dbb238&gt;</span><br><span class="line">  t36: ch = br t39, BasicBlock:ch&lt;.lr.ph.us.preheader 0x60c587dbac30&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Type-legalized selection DAG: %bb.1 'solve_:.lr.ph56'</span><br><span class="line">SelectionDAG has 35 nodes:</span><br><span class="line">  t0: ch,glue = EntryToken</span><br><span class="line">      t10: i64,ch = CopyFromReg t0, Register:i64 %23</span><br><span class="line">    t13: i64 = add t10, t46</span><br><span class="line">  t14: i32,ch = load&lt;(load (s32) from %ir.24, !tbaa !11)&gt; t0, t13, undef:i64</span><br><span class="line">  t17: i64 = sign_extend t14</span><br><span class="line">      t21: i64,ch = CopyFromReg t0, Register:i64 %24</span><br><span class="line">    t22: i64 = add t21, t46</span><br><span class="line">  t43: i64,ch = load&lt;(load (s32) from %ir.27, !tbaa !13), sext from i32&gt; t0, t22, undef:i64</span><br><span class="line">        t2: i64,ch = CopyFromReg t0, Register:i64 %26</span><br><span class="line">      t47: i64,ch = load&lt;(load (s32) from %ir.4, !tbaa !15), sext from i32&gt; t0, t2, undef:i64</span><br><span class="line">    t45: i64 = shl t47, Constant:i64&lt;2&gt;</span><br><span class="line">  t46: i64 = add t45, Constant:i64&lt;-4&gt;</span><br><span class="line">        t16: ch = CopyToReg t0, Register:i32 %4, t14</span><br><span class="line">        t19: ch = CopyToReg t0, Register:i64 %5, t17</span><br><span class="line">        t26: ch = CopyToReg t0, Register:i64 %6, t43</span><br><span class="line">      t33: ch = TokenFactor t16, t19, t26</span><br><span class="line">          t27: i64 = sub nsw t43, t17</span><br><span class="line">        t48: i8 = setcc t27, Constant:i64&lt;0&gt;, setlt:ch</span><br><span class="line">      t51: i8 = and t48, Constant:i8&lt;1&gt;</span><br><span class="line">    t39: ch = brcond t33, t51, BasicBlock:ch&lt;._crit_edge57 0x60c587dbb238&gt;</span><br><span class="line">  t36: ch = br t39, BasicBlock:ch&lt;.lr.ph.us.preheader 0x60c587dbac30&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Optimized type-legalized selection DAG: %bb.1 'solve_:.lr.ph56'</span><br><span class="line">SelectionDAG has 33 nodes:</span><br><span class="line">  t0: ch,glue = EntryToken</span><br><span class="line">      t10: i64,ch = CopyFromReg t0, Register:i64 %23</span><br><span class="line">    t13: i64 = add t10, t46</span><br><span class="line">  t14: i32,ch = load&lt;(load (s32) from %ir.24, !tbaa !11)&gt; t0, t13, undef:i64</span><br><span class="line">  t17: i64 = sign_extend t14</span><br><span class="line">      t21: i64,ch = CopyFromReg t0, Register:i64 %24</span><br><span class="line">    t22: i64 = add t21, t46</span><br><span class="line">  t43: i64,ch = load&lt;(load (s32) from %ir.27, !tbaa !13), sext from i32&gt; t0, t22, undef:i64</span><br><span class="line">        t2: i64,ch = CopyFromReg t0, Register:i64 %26</span><br><span class="line">      t47: i64,ch = load&lt;(load (s32) from %ir.4, !tbaa !15), sext from i32&gt; t0, t2, undef:i64</span><br><span class="line">    t45: i64 = shl t47, Constant:i64&lt;2&gt;</span><br><span class="line">  t46: i64 = add t45, Constant:i64&lt;-4&gt;</span><br><span class="line">        t16: ch = CopyToReg t0, Register:i32 %4, t14</span><br><span class="line">        t19: ch = CopyToReg t0, Register:i64 %5, t17</span><br><span class="line">        t26: ch = CopyToReg t0, Register:i64 %6, t43</span><br><span class="line">      t33: ch = TokenFactor t16, t19, t26</span><br><span class="line">        t27: i64 = sub nsw t43, t17</span><br><span class="line">      t48: i8 = setcc t27, Constant:i64&lt;0&gt;, setlt:ch</span><br><span class="line">    t39: ch = brcond t33, t48, BasicBlock:ch&lt;._crit_edge57 0x60c587dbb238&gt;</span><br><span class="line">  t36: ch = br t39, BasicBlock:ch&lt;.lr.ph.us.preheader 0x60c587dbac30&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Legalized selection DAG: %bb.1 'solve_:.lr.ph56'</span><br><span class="line">SelectionDAG has 31 nodes:</span><br><span class="line">  t0: ch,glue = EntryToken</span><br><span class="line">        t2: i64,ch = CopyFromReg t0, Register:i64 %26</span><br><span class="line">      t47: i64,ch = load&lt;(load (s32) from %ir.4, !tbaa !15), sext from i32&gt; t0, t2, undef:i64</span><br><span class="line">    t45: i64 = shl t47, Constant:i8&lt;2&gt;</span><br><span class="line">  t46: i64 = add t45, Constant:i64&lt;-4&gt;</span><br><span class="line">      t10: i64,ch = CopyFromReg t0, Register:i64 %23</span><br><span class="line">    t13: i64 = add t10, t46</span><br><span class="line">  t14: i32,ch = load&lt;(load (s32) from %ir.24, !tbaa !11)&gt; t0, t13, undef:i64</span><br><span class="line">      t21: i64,ch = CopyFromReg t0, Register:i64 %24</span><br><span class="line">    t22: i64 = add t21, t46</span><br><span class="line">  t43: i64,ch = load&lt;(load (s32) from %ir.27, !tbaa !13), sext from i32&gt; t0, t22, undef:i64</span><br><span class="line">  t17: i64 = sign_extend t14</span><br><span class="line">        t16: ch = CopyToReg t0, Register:i32 %4, t14</span><br><span class="line">        t19: ch = CopyToReg t0, Register:i64 %5, t17</span><br><span class="line">        t26: ch = CopyToReg t0, Register:i64 %6, t43</span><br><span class="line">      t33: ch = TokenFactor t16, t19, t26</span><br><span class="line">      t52: i64,i32 = X86ISD::SUB t43, t17</span><br><span class="line">    t54: ch = X86ISD::BRCOND t33, BasicBlock:ch&lt;._crit_edge57 0x60c587dbb238&gt;, TargetConstant:i8&lt;8&gt;, t52:1</span><br><span class="line">  t36: ch = br t54, BasicBlock:ch&lt;.lr.ph.us.preheader 0x60c587dbac30&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Optimized legalized selection DAG: %bb.1 'solve_:.lr.ph56'</span><br><span class="line">SelectionDAG has 31 nodes:</span><br><span class="line">  t0: ch,glue = EntryToken</span><br><span class="line">        t2: i64,ch = CopyFromReg t0, Register:i64 %26</span><br><span class="line">      t47: i64,ch = load&lt;(load (s32) from %ir.4, !tbaa !15), sext from i32&gt; t0, t2, undef:i64</span><br><span class="line">    t45: i64 = shl t47, Constant:i8&lt;2&gt;</span><br><span class="line">  t46: i64 = add t45, Constant:i64&lt;-4&gt;</span><br><span class="line">      t10: i64,ch = CopyFromReg t0, Register:i64 %23</span><br><span class="line">    t13: i64 = add t10, t46</span><br><span class="line">  t14: i32,ch = load&lt;(load (s32) from %ir.24, !tbaa !11)&gt; t0, t13, undef:i64</span><br><span class="line">      t21: i64,ch = CopyFromReg t0, Register:i64 %24</span><br><span class="line">    t22: i64 = add t21, t46</span><br><span class="line">  t43: i64,ch = load&lt;(load (s32) from %ir.27, !tbaa !13), sext from i32&gt; t0, t22, undef:i64</span><br><span class="line">  t17: i64 = sign_extend t14</span><br><span class="line">        t16: ch = CopyToReg t0, Register:i32 %4, t14</span><br><span class="line">        t19: ch = CopyToReg t0, Register:i64 %5, t17</span><br><span class="line">        t26: ch = CopyToReg t0, Register:i64 %6, t43</span><br><span class="line">      t33: ch = TokenFactor t16, t19, t26</span><br><span class="line">      t52: i64,i32 = X86ISD::SUB t43, t17</span><br><span class="line">    t54: ch = X86ISD::BRCOND t33, BasicBlock:ch&lt;._crit_edge57 0x60c587dbb238&gt;, TargetConstant:i8&lt;8&gt;, t52:1</span><br><span class="line">  t36: ch = br t54, BasicBlock:ch&lt;.lr.ph.us.preheader 0x60c587dbac30&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">===== Instruction selection begins: %bb.1 '.lr.ph56'</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t36: ch = br t54, BasicBlock:ch&lt;.lr.ph.us.preheader 0x60c587dbac30&gt;</span><br><span class="line">ISEL: Starting pattern match</span><br><span class="line">  Initial Opcode index to 136351</span><br><span class="line">  Morphed node: t36: ch = JMP_1 BasicBlock:ch&lt;.lr.ph.us.preheader 0x60c587dbac30&gt;, t54</span><br><span class="line">ISEL: Match complete!</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t54: ch = X86ISD::BRCOND t33, BasicBlock:ch&lt;._crit_edge57 0x60c587dbb238&gt;, TargetConstant:i8&lt;8&gt;, t52:1</span><br><span class="line">ISEL: Starting pattern match</span><br><span class="line">  Initial Opcode index to 135091</span><br><span class="line">  Morphed node: t54: ch = JCC_1 BasicBlock:ch&lt;._crit_edge57 0x60c587dbb238&gt;, TargetConstant:i8&lt;8&gt;, t57, t57:1</span><br><span class="line">ISEL: Match complete!</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t33: ch = TokenFactor t16, t19, t26</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t19: ch = CopyToReg t0, Register:i64 %5, t17</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t52: i64,i32 = X86ISD::SUB t43, t17</span><br><span class="line">ISEL: Starting pattern match</span><br><span class="line">  Initial Opcode index to 114065</span><br><span class="line">  Match failed at index 114073</span><br><span class="line">  Continuing at 114269</span><br><span class="line">  Match failed at index 114270</span><br><span class="line">  Continuing at 114372</span><br><span class="line">  Match failed at index 114373</span><br><span class="line">  Continuing at 114475</span><br><span class="line">  Continuing at 114476</span><br><span class="line">  Match failed at index 114477</span><br><span class="line">  Continuing at 114578</span><br><span class="line">  Skipped scope entry (due to false predicate) at index 114589, continuing at 114720</span><br><span class="line">  Match failed at index 114724</span><br><span class="line">  Continuing at 114738</span><br><span class="line">  Match failed at index 114742</span><br><span class="line">  Continuing at 114756</span><br><span class="line">  Match failed at index 114760</span><br><span class="line">  Continuing at 114773</span><br><span class="line">  Match failed at index 114774</span><br><span class="line">  Continuing at 114792</span><br><span class="line">  Match failed at index 114796</span><br><span class="line">  Continuing at 114810</span><br><span class="line">  Match failed at index 114814</span><br><span class="line">  Continuing at 114828</span><br><span class="line">  Match failed at index 114832</span><br><span class="line">  Continuing at 114845</span><br><span class="line">  Match failed at index 114846</span><br><span class="line">  Continuing at 114864</span><br><span class="line">  Continuing at 114865</span><br><span class="line">  Match failed at index 114866</span><br><span class="line">  Continuing at 114892</span><br><span class="line">  Match failed at index 114893</span><br><span class="line">  Continuing at 114919</span><br><span class="line">  Match failed at index 114920</span><br><span class="line">  Continuing at 114945</span><br><span class="line">  Morphed node: t52: i64,i32 = SUB64rr t43, t17</span><br><span class="line">ISEL: Match complete!</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t26: ch = CopyToReg t0, Register:i64 %6, t43</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t16: ch = CopyToReg t0, Register:i32 %4, t14</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t17: i64 = sign_extend t14</span><br><span class="line">ISEL: Starting pattern match</span><br><span class="line">  Initial Opcode index to 135712</span><br><span class="line">  Skipped scope entry (due to false predicate) at index 135717, continuing at 135737</span><br><span class="line">  Skipped scope entry (due to false predicate) at index 135738, continuing at 135758</span><br><span class="line">  Morphed node: t17: i64 = MOVSX64rr32 t14</span><br><span class="line">ISEL: Match complete!</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t43: i64,ch = load&lt;(load (s32) from %ir.27, !tbaa !13), sext from i32&gt; t0, t22, undef:i64</span><br><span class="line">ISEL: Starting pattern match</span><br><span class="line">  Initial Opcode index to 122140</span><br><span class="line">  Skipped scope entry (due to false predicate) at index 122146, continuing at 122164</span><br><span class="line">  Skipped scope entry (due to false predicate) at index 122165, continuing at 122183</span><br><span class="line">  Skipped scope entry (due to false predicate) at index 122184, continuing at 122201</span><br><span class="line">  Skipped scope entry (due to false predicate) at index 122202, continuing at 122218</span><br><span class="line">  Match failed at index 122221</span><br><span class="line">  Continuing at 122258</span><br><span class="line">  Match failed at index 122259</span><br><span class="line">  Continuing at 122298</span><br><span class="line">  Skipped scope entry (due to false predicate) at index 122304, continuing at 122320</span><br><span class="line">  Skipped scope entry (due to false predicate) at index 122321, continuing at 122337</span><br><span class="line">  Morphed node: t43: i64,ch = MOVSX64rm32&lt;Mem:(load (s32) from %ir.27, !tbaa !13)&gt; t21, TargetConstant:i8&lt;4&gt;, t47, TargetConstant:i32&lt;-4&gt;, Register:i16 $noreg, t0</span><br><span class="line">ISEL: Match complete!</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t14: i32,ch = load&lt;(load (s32) from %ir.24, !tbaa !11)&gt; t0, t13, undef:i64</span><br><span class="line">ISEL: Starting pattern match</span><br><span class="line">  Initial Opcode index to 122140</span><br><span class="line">  Match failed at index 122148</span><br><span class="line">  Continuing at 122164</span><br><span class="line">  Match failed at index 122167</span><br><span class="line">  Continuing at 122183</span><br><span class="line">  Morphed node: t14: i32,ch = MOV32rm&lt;Mem:(load (s32) from %ir.24, !tbaa !11)&gt; t10, TargetConstant:i8&lt;4&gt;, t47, TargetConstant:i32&lt;-4&gt;, Register:i16 $noreg, t0</span><br><span class="line">ISEL: Match complete!</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t47: i64,ch = load&lt;(load (s32) from %ir.4, !tbaa !15), sext from i32&gt; t0, t2, undef:i64</span><br><span class="line">ISEL: Starting pattern match</span><br><span class="line">  Initial Opcode index to 122140</span><br><span class="line">  Skipped scope entry (due to false predicate) at index 122146, continuing at 122164</span><br><span class="line">  Skipped scope entry (due to false predicate) at index 122165, continuing at 122183</span><br><span class="line">  Skipped scope entry (due to false predicate) at index 122184, continuing at 122201</span><br><span class="line">  Skipped scope entry (due to false predicate) at index 122202, continuing at 122218</span><br><span class="line">  Match failed at index 122221</span><br><span class="line">  Continuing at 122258</span><br><span class="line">  Match failed at index 122259</span><br><span class="line">  Continuing at 122298</span><br><span class="line">  Skipped scope entry (due to false predicate) at index 122304, continuing at 122320</span><br><span class="line">  Skipped scope entry (due to false predicate) at index 122321, continuing at 122337</span><br><span class="line">  Morphed node: t47: i64,ch = MOVSX64rm32&lt;Mem:(load (s32) from %ir.4, !tbaa !15)&gt; t2, TargetConstant:i8&lt;1&gt;, Register:i64 $noreg, TargetConstant:i32&lt;0&gt;, Register:i16 $noreg, t0</span><br><span class="line">ISEL: Match complete!</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t21: i64,ch = CopyFromReg t0, Register:i64 %24</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t10: i64,ch = CopyFromReg t0, Register:i64 %23</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t2: i64,ch = CopyFromReg t0, Register:i64 %26</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t53: i8 = TargetConstant&lt;8&gt;</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t35: ch = BasicBlock&lt;.lr.ph.us.preheader 0x60c587dbac30&gt;</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t32: ch = BasicBlock&lt;._crit_edge57 0x60c587dbb238&gt;</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t25: i64 = Register %6</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t20: i64 = Register %24</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t18: i64 = Register %5</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t15: i32 = Register %4</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t9: i64 = Register %23</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t1: i64 = Register %26</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t0: ch,glue = EntryToken</span><br><span class="line"></span><br><span class="line">===== Instruction selection ends:</span><br><span class="line"></span><br><span class="line">Selected selection DAG: %bb.1 'solve_:.lr.ph56'</span><br><span class="line">SelectionDAG has 32 nodes:</span><br><span class="line">  t0: ch,glue = EntryToken</span><br><span class="line">    t2: i64,ch = CopyFromReg t0, Register:i64 %26</span><br><span class="line">  t47: i64,ch = MOVSX64rm32&lt;Mem:(load (s32) from %ir.4, !tbaa !15)&gt; t2, TargetConstant:i8&lt;1&gt;, Register:i64 $noreg, TargetConstant:i32&lt;0&gt;, Register:i16 $noreg, t0</span><br><span class="line">    t10: i64,ch = CopyFromReg t0, Register:i64 %23</span><br><span class="line">  t14: i32,ch = MOV32rm&lt;Mem:(load (s32) from %ir.24, !tbaa !11)&gt; t10, TargetConstant:i8&lt;4&gt;, t47, TargetConstant:i32&lt;-4&gt;, Register:i16 $noreg, t0</span><br><span class="line">    t21: i64,ch = CopyFromReg t0, Register:i64 %24</span><br><span class="line">  t43: i64,ch = MOVSX64rm32&lt;Mem:(load (s32) from %ir.27, !tbaa !13)&gt; t21, TargetConstant:i8&lt;4&gt;, t47, TargetConstant:i32&lt;-4&gt;, Register:i16 $noreg, t0</span><br><span class="line">  t17: i64 = MOVSX64rr32 t14</span><br><span class="line">      t16: ch = CopyToReg t0, Register:i32 %4, t14</span><br><span class="line">      t19: ch = CopyToReg t0, Register:i64 %5, t17</span><br><span class="line">      t26: ch = CopyToReg t0, Register:i64 %6, t43</span><br><span class="line">    t33: ch = TokenFactor t16, t19, t26</span><br><span class="line">    t52: i64,i32 = SUB64rr t43, t17</span><br><span class="line">  t57: ch,glue = CopyToReg t33, Register:i32 $eflags, t52:1</span><br><span class="line">    t54: ch = JCC_1 BasicBlock:ch&lt;._crit_edge57 0x60c587dbb238&gt;, TargetConstant:i8&lt;8&gt;, t57, t57:1</span><br><span class="line">  t36: ch = JMP_1 BasicBlock:ch&lt;.lr.ph.us.preheader 0x60c587dbac30&gt;, t54</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Total amount of phi nodes to update: 0</span><br><span class="line"></span><br><span class="line">Initial selection DAG: %bb.2 'solve_:.lr.ph.us.preheader'</span><br><span class="line">SelectionDAG has 26 nodes:</span><br><span class="line">  t0: ch,glue = EntryToken</span><br><span class="line">        t2: i64,ch = CopyFromReg t0, Register:i64 %3</span><br><span class="line">      t4: i64 = add nuw nsw t2, Constant:i64&lt;1&gt;</span><br><span class="line">    t6: ch = CopyToReg t0, Register:i64 %7, t4</span><br><span class="line">        t8: i64,ch = CopyFromReg t0, Register:i64 %1</span><br><span class="line">      t10: i64 = add t8, Constant:i64&lt;-4&gt;</span><br><span class="line">    t12: ch = CopyToReg t0, Register:i64 %8, t10</span><br><span class="line">            t14: i64,ch = CopyFromReg t0, Register:i64 %6</span><br><span class="line">          t16: i64 = AssertSext t14, ValueType:ch:i32</span><br><span class="line">        t18: i64 = add t16, Constant:i64&lt;2&gt;</span><br><span class="line">          t20: i64,ch = CopyFromReg t0, Register:i64 %5</span><br><span class="line">        t21: i64 = AssertSext t20, ValueType:ch:i32</span><br><span class="line">      t22: i64 = sub t18, t21</span><br><span class="line">    t24: ch = CopyToReg t0, Register:i64 %9, t22</span><br><span class="line">  t25: ch = TokenFactor t6, t12, t24</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Optimized lowered selection DAG: %bb.2 'solve_:.lr.ph.us.preheader'</span><br><span class="line">SelectionDAG has 26 nodes:</span><br><span class="line">  t0: ch,glue = EntryToken</span><br><span class="line">        t2: i64,ch = CopyFromReg t0, Register:i64 %3</span><br><span class="line">      t4: i64 = add nuw nsw t2, Constant:i64&lt;1&gt;</span><br><span class="line">    t6: ch = CopyToReg t0, Register:i64 %7, t4</span><br><span class="line">        t8: i64,ch = CopyFromReg t0, Register:i64 %1</span><br><span class="line">      t10: i64 = add t8, Constant:i64&lt;-4&gt;</span><br><span class="line">    t12: ch = CopyToReg t0, Register:i64 %8, t10</span><br><span class="line">            t14: i64,ch = CopyFromReg t0, Register:i64 %6</span><br><span class="line">          t16: i64 = AssertSext t14, ValueType:ch:i32</span><br><span class="line">            t20: i64,ch = CopyFromReg t0, Register:i64 %5</span><br><span class="line">          t21: i64 = AssertSext t20, ValueType:ch:i32</span><br><span class="line">        t26: i64 = sub t16, t21</span><br><span class="line">      t27: i64 = add t26, Constant:i64&lt;2&gt;</span><br><span class="line">    t24: ch = CopyToReg t0, Register:i64 %9, t27</span><br><span class="line">  t25: ch = TokenFactor t6, t12, t24</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Type-legalized selection DAG: %bb.2 'solve_:.lr.ph.us.preheader'</span><br><span class="line">SelectionDAG has 26 nodes:</span><br><span class="line">  t0: ch,glue = EntryToken</span><br><span class="line">        t2: i64,ch = CopyFromReg t0, Register:i64 %3</span><br><span class="line">      t4: i64 = add nuw nsw t2, Constant:i64&lt;1&gt;</span><br><span class="line">    t6: ch = CopyToReg t0, Register:i64 %7, t4</span><br><span class="line">        t8: i64,ch = CopyFromReg t0, Register:i64 %1</span><br><span class="line">      t10: i64 = add t8, Constant:i64&lt;-4&gt;</span><br><span class="line">    t12: ch = CopyToReg t0, Register:i64 %8, t10</span><br><span class="line">            t14: i64,ch = CopyFromReg t0, Register:i64 %6</span><br><span class="line">          t16: i64 = AssertSext t14, ValueType:ch:i32</span><br><span class="line">            t20: i64,ch = CopyFromReg t0, Register:i64 %5</span><br><span class="line">          t21: i64 = AssertSext t20, ValueType:ch:i32</span><br><span class="line">        t26: i64 = sub t16, t21</span><br><span class="line">      t27: i64 = add t26, Constant:i64&lt;2&gt;</span><br><span class="line">    t24: ch = CopyToReg t0, Register:i64 %9, t27</span><br><span class="line">  t25: ch = TokenFactor t6, t12, t24</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Legalized selection DAG: %bb.2 'solve_:.lr.ph.us.preheader'</span><br><span class="line">SelectionDAG has 26 nodes:</span><br><span class="line">  t0: ch,glue = EntryToken</span><br><span class="line">        t2: i64,ch = CopyFromReg t0, Register:i64 %3</span><br><span class="line">      t4: i64 = add nuw nsw t2, Constant:i64&lt;1&gt;</span><br><span class="line">    t6: ch = CopyToReg t0, Register:i64 %7, t4</span><br><span class="line">        t8: i64,ch = CopyFromReg t0, Register:i64 %1</span><br><span class="line">      t10: i64 = add t8, Constant:i64&lt;-4&gt;</span><br><span class="line">    t12: ch = CopyToReg t0, Register:i64 %8, t10</span><br><span class="line">            t14: i64,ch = CopyFromReg t0, Register:i64 %6</span><br><span class="line">          t16: i64 = AssertSext t14, ValueType:ch:i32</span><br><span class="line">            t20: i64,ch = CopyFromReg t0, Register:i64 %5</span><br><span class="line">          t21: i64 = AssertSext t20, ValueType:ch:i32</span><br><span class="line">        t26: i64 = sub t16, t21</span><br><span class="line">      t27: i64 = add t26, Constant:i64&lt;2&gt;</span><br><span class="line">    t24: ch = CopyToReg t0, Register:i64 %9, t27</span><br><span class="line">  t25: ch = TokenFactor t6, t12, t24</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Optimized legalized selection DAG: %bb.2 'solve_:.lr.ph.us.preheader'</span><br><span class="line">SelectionDAG has 26 nodes:</span><br><span class="line">  t0: ch,glue = EntryToken</span><br><span class="line">        t2: i64,ch = CopyFromReg t0, Register:i64 %3</span><br><span class="line">      t4: i64 = add nuw nsw t2, Constant:i64&lt;1&gt;</span><br><span class="line">    t6: ch = CopyToReg t0, Register:i64 %7, t4</span><br><span class="line">        t8: i64,ch = CopyFromReg t0, Register:i64 %1</span><br><span class="line">      t10: i64 = add t8, Constant:i64&lt;-4&gt;</span><br><span class="line">    t12: ch = CopyToReg t0, Register:i64 %8, t10</span><br><span class="line">            t14: i64,ch = CopyFromReg t0, Register:i64 %6</span><br><span class="line">          t16: i64 = AssertSext t14, ValueType:ch:i32</span><br><span class="line">            t20: i64,ch = CopyFromReg t0, Register:i64 %5</span><br><span class="line">          t21: i64 = AssertSext t20, ValueType:ch:i32</span><br><span class="line">        t26: i64 = sub t16, t21</span><br><span class="line">      t27: i64 = add t26, Constant:i64&lt;2&gt;</span><br><span class="line">    t24: ch = CopyToReg t0, Register:i64 %9, t27</span><br><span class="line">  t25: ch = TokenFactor t6, t12, t24</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">===== Instruction selection begins: %bb.2 '.lr.ph.us.preheader'</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t25: ch = TokenFactor t6, t12, t24</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t24: ch = CopyToReg t0, Register:i64 %9, t27</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t27: i64 = add t26, Constant:i64&lt;2&gt;</span><br><span class="line">ISEL: Starting pattern match</span><br><span class="line">  Initial Opcode index to 52329</span><br><span class="line">  Match failed at index 52333</span><br><span class="line">  Continuing at 52897</span><br><span class="line">  Match failed at index 52909</span><br><span class="line">  Continuing at 52941</span><br><span class="line">  Match failed at index 52945</span><br><span class="line">  Continuing at 52977</span><br><span class="line">  Match failed at index 52981</span><br><span class="line">  Continuing at 53012</span><br><span class="line">  Match failed at index 53013</span><br><span class="line">  Continuing at 53049</span><br><span class="line">  Continuing at 53050</span><br><span class="line">  Match failed at index 53053</span><br><span class="line">  Continuing at 53249</span><br><span class="line">  Continuing at 53250</span><br><span class="line">  Match failed at index 53253</span><br><span class="line">  Continuing at 53457</span><br><span class="line">  TypeSwitch[i64] from 53459 to 53496</span><br><span class="line">  Match failed at index 53496</span><br><span class="line">  Continuing at 53509</span><br><span class="line">  Match failed at index 53512</span><br><span class="line">  Continuing at 53531</span><br><span class="line">  Match failed at index 53533</span><br><span class="line">  Continuing at 53553</span><br><span class="line">  Skipped scope entry (due to false predicate) at index 53558, continuing at 53659</span><br><span class="line">  Skipped scope entry (due to false predicate) at index 53660, continuing at 53703</span><br><span class="line">  Skipped scope entry (due to false predicate) at index 53704, continuing at 53804</span><br><span class="line">  Skipped scope entry (due to false predicate) at index 53805, continuing at 53905</span><br><span class="line">  Morphed node: t27: i64,i32 = ADD64ri32 t26, TargetConstant:i64&lt;2&gt;</span><br><span class="line">ISEL: Match complete!</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t26: i64 = sub t16, t21</span><br><span class="line">ISEL: Starting pattern match</span><br><span class="line">  Initial Opcode index to 56806</span><br><span class="line">  Skipped scope entry (due to false predicate) at index 56808, continuing at 56910</span><br><span class="line">  Match failed at index 56913</span><br><span class="line">  Continuing at 57259</span><br><span class="line">  Match failed at index 57263</span><br><span class="line">  Continuing at 57459</span><br><span class="line">  TypeSwitch[i64] from 57461 to 57498</span><br><span class="line">  Match failed at index 57498</span><br><span class="line">  Continuing at 57511</span><br><span class="line">  Match failed at index 57513</span><br><span class="line">  Continuing at 57654</span><br><span class="line">  Match failed at index 57664</span><br><span class="line">  Continuing at 57788</span><br><span class="line">  Match failed at index 57789</span><br><span class="line">  Continuing at 57815</span><br><span class="line">  Match failed at index 57816</span><br><span class="line">  Continuing at 57842</span><br><span class="line">  Match failed at index 57843</span><br><span class="line">  Continuing at 57868</span><br><span class="line">  Morphed node: t26: i64,i32 = SUB64rr t16, t21</span><br><span class="line">ISEL: Match complete!</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t12: ch = CopyToReg t0, Register:i64 %8, t10</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t6: ch = CopyToReg t0, Register:i64 %7, t4</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t21: i64 = AssertSext t20, ValueType:ch:i32</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t16: i64 = AssertSext t14, ValueType:ch:i32</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t10: i64 = add t8, Constant:i64&lt;-4&gt;</span><br><span class="line">ISEL: Starting pattern match</span><br><span class="line">  Initial Opcode index to 52329</span><br><span class="line">  Match failed at index 52333</span><br><span class="line">  Continuing at 52897</span><br><span class="line">  Match failed at index 52909</span><br><span class="line">  Continuing at 52941</span><br><span class="line">  Match failed at index 52945</span><br><span class="line">  Continuing at 52977</span><br><span class="line">  Match failed at index 52981</span><br><span class="line">  Continuing at 53012</span><br><span class="line">  Match failed at index 53013</span><br><span class="line">  Continuing at 53049</span><br><span class="line">  Continuing at 53050</span><br><span class="line">  Match failed at index 53053</span><br><span class="line">  Continuing at 53249</span><br><span class="line">  Continuing at 53250</span><br><span class="line">  Match failed at index 53253</span><br><span class="line">  Continuing at 53457</span><br><span class="line">  TypeSwitch[i64] from 53459 to 53496</span><br><span class="line">  Match failed at index 53496</span><br><span class="line">  Continuing at 53509</span><br><span class="line">  Match failed at index 53512</span><br><span class="line">  Continuing at 53531</span><br><span class="line">  Match failed at index 53533</span><br><span class="line">  Continuing at 53553</span><br><span class="line">  Skipped scope entry (due to false predicate) at index 53558, continuing at 53659</span><br><span class="line">  Skipped scope entry (due to false predicate) at index 53660, continuing at 53703</span><br><span class="line">  Skipped scope entry (due to false predicate) at index 53704, continuing at 53804</span><br><span class="line">  Skipped scope entry (due to false predicate) at index 53805, continuing at 53905</span><br><span class="line">  Morphed node: t10: i64,i32 = ADD64ri32 t8, TargetConstant:i64&lt;-4&gt;</span><br><span class="line">ISEL: Match complete!</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t4: i64 = add nuw nsw t2, Constant:i64&lt;1&gt;</span><br><span class="line">ISEL: Starting pattern match</span><br><span class="line">  Initial Opcode index to 52329</span><br><span class="line">  Match failed at index 52333</span><br><span class="line">  Continuing at 52897</span><br><span class="line">  Match failed at index 52909</span><br><span class="line">  Continuing at 52941</span><br><span class="line">  Match failed at index 52945</span><br><span class="line">  Continuing at 52977</span><br><span class="line">  Match failed at index 52981</span><br><span class="line">  Continuing at 53012</span><br><span class="line">  Match failed at index 53013</span><br><span class="line">  Continuing at 53049</span><br><span class="line">  Continuing at 53050</span><br><span class="line">  Match failed at index 53053</span><br><span class="line">  Continuing at 53249</span><br><span class="line">  Continuing at 53250</span><br><span class="line">  Match failed at index 53253</span><br><span class="line">  Continuing at 53457</span><br><span class="line">  TypeSwitch[i64] from 53459 to 53496</span><br><span class="line">  Match failed at index 53496</span><br><span class="line">  Continuing at 53509</span><br><span class="line">  Match failed at index 53512</span><br><span class="line">  Continuing at 53531</span><br><span class="line">  Match failed at index 53533</span><br><span class="line">  Continuing at 53553</span><br><span class="line">  Skipped scope entry (due to false predicate) at index 53558, continuing at 53659</span><br><span class="line">  Skipped scope entry (due to false predicate) at index 53660, continuing at 53703</span><br><span class="line">  TypeSwitch[i64] from 53706 to 53781</span><br><span class="line">  Morphed node: t4: i64,i32 = INC64r nuw nsw t2</span><br><span class="line">ISEL: Match complete!</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t20: i64,ch = CopyFromReg t0, Register:i64 %5</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t14: i64,ch = CopyFromReg t0, Register:i64 %6</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t8: i64,ch = CopyFromReg t0, Register:i64 %1</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t2: i64,ch = CopyFromReg t0, Register:i64 %3</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t23: i64 = Register %9</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t19: i64 = Register %5</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t13: i64 = Register %6</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t11: i64 = Register %8</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t7: i64 = Register %1</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t5: i64 = Register %7</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t1: i64 = Register %3</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t0: ch,glue = EntryToken</span><br><span class="line"></span><br><span class="line">===== Instruction selection ends:</span><br><span class="line"></span><br><span class="line">Selected selection DAG: %bb.2 'solve_:.lr.ph.us.preheader'</span><br><span class="line">SelectionDAG has 23 nodes:</span><br><span class="line">  t0: ch,glue = EntryToken</span><br><span class="line">  t28: i32 = Register $noreg</span><br><span class="line">        t2: i64,ch = CopyFromReg t0, Register:i64 %3</span><br><span class="line">      t4: i64,i32 = INC64r nuw nsw t2</span><br><span class="line">    t6: ch = CopyToReg t0, Register:i64 %7, t4</span><br><span class="line">        t8: i64,ch = CopyFromReg t0, Register:i64 %1</span><br><span class="line">      t10: i64,i32 = ADD64ri32 t8, TargetConstant:i64&lt;-4&gt;</span><br><span class="line">    t12: ch = CopyToReg t0, Register:i64 %8, t10</span><br><span class="line">          t14: i64,ch = CopyFromReg t0, Register:i64 %6</span><br><span class="line">          t20: i64,ch = CopyFromReg t0, Register:i64 %5</span><br><span class="line">        t26: i64,i32 = SUB64rr t14, t20</span><br><span class="line">      t27: i64,i32 = ADD64ri32 t26, TargetConstant:i64&lt;2&gt;</span><br><span class="line">    t24: ch = CopyToReg t0, Register:i64 %9, t27</span><br><span class="line">  t25: ch = TokenFactor t6, t12, t24</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Total amount of phi nodes to update: 2</span><br><span class="line">Node 0 : (0x60c587dbae30, 2147483655)</span><br><span class="line">Node 1 : (0x60c587dbae98, 2147483650)</span><br><span class="line"></span><br><span class="line">Initial selection DAG: %bb.3 'solve_:.lr.ph.us'</span><br><span class="line">SelectionDAG has 29 nodes:</span><br><span class="line">  t0: ch,glue = EntryToken</span><br><span class="line">    t12: i64,ch = CopyFromReg t0, Register:i64 %8</span><br><span class="line">            t2: i32,ch = CopyFromReg t0, Register:i32 %11</span><br><span class="line">          t3: i64 = sign_extend t2</span><br><span class="line">        t5: i64 = add nsw t3, Constant:i64&lt;-1&gt;</span><br><span class="line">          t7: i64,ch = CopyFromReg t0, Register:i64 %0</span><br><span class="line">        t9: i64 = AssertZext t7, ValueType:ch:i32</span><br><span class="line">      t10: i64 = mul nsw t5, t9</span><br><span class="line">    t14: i64 = shl t10, Constant:i64&lt;2&gt;</span><br><span class="line">  t15: i64 = add t12, t14</span><br><span class="line">  t23: i64 = Constant&lt;0&gt;</span><br><span class="line">    t17: ch = CopyToReg t0, Register:i64 %12, t15</span><br><span class="line">              t19: i64,ch = CopyFromReg t0, Register:i64 %5</span><br><span class="line">            t20: i64 = AssertSext t19, ValueType:ch:i32</span><br><span class="line">          t21: i64 = shl t20, Constant:i64&lt;2&gt;</span><br><span class="line">        t22: i64 = add t15, t21</span><br><span class="line">      t25: i32,ch = load&lt;(load (s32) from %ir.gep.us.phi.trans.insert, !tbaa !17)&gt; t0, t22, undef:i64</span><br><span class="line">    t27: ch = CopyToReg t0, Register:i32 %13, t25</span><br><span class="line">  t28: ch = TokenFactor t17, t27</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Optimized lowered selection DAG: %bb.3 'solve_:.lr.ph.us'</span><br><span class="line">SelectionDAG has 28 nodes:</span><br><span class="line">  t0: ch,glue = EntryToken</span><br><span class="line">    t12: i64,ch = CopyFromReg t0, Register:i64 %8</span><br><span class="line">            t2: i32,ch = CopyFromReg t0, Register:i32 %11</span><br><span class="line">          t3: i64 = sign_extend t2</span><br><span class="line">        t5: i64 = add nsw t3, Constant:i64&lt;-1&gt;</span><br><span class="line">          t7: i64,ch = CopyFromReg t0, Register:i64 %0</span><br><span class="line">        t9: i64 = AssertZext t7, ValueType:ch:i32</span><br><span class="line">      t10: i64 = mul nsw t5, t9</span><br><span class="line">    t14: i64 = shl t10, Constant:i64&lt;2&gt;</span><br><span class="line">  t15: i64 = add t12, t14</span><br><span class="line">    t17: ch = CopyToReg t0, Register:i64 %12, t15</span><br><span class="line">              t19: i64,ch = CopyFromReg t0, Register:i64 %5</span><br><span class="line">            t20: i64 = AssertSext t19, ValueType:ch:i32</span><br><span class="line">          t21: i64 = shl t20, Constant:i64&lt;2&gt;</span><br><span class="line">        t22: i64 = add t15, t21</span><br><span class="line">      t25: i32,ch = load&lt;(load (s32) from %ir.gep.us.phi.trans.insert, !tbaa !17)&gt; t0, t22, undef:i64</span><br><span class="line">    t27: ch = CopyToReg t0, Register:i32 %13, t25</span><br><span class="line">  t28: ch = TokenFactor t17, t27</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Type-legalized selection DAG: %bb.3 'solve_:.lr.ph.us'</span><br><span class="line">SelectionDAG has 28 nodes:</span><br><span class="line">  t0: ch,glue = EntryToken</span><br><span class="line">    t12: i64,ch = CopyFromReg t0, Register:i64 %8</span><br><span class="line">            t2: i32,ch = CopyFromReg t0, Register:i32 %11</span><br><span class="line">          t3: i64 = sign_extend t2</span><br><span class="line">        t5: i64 = add nsw t3, Constant:i64&lt;-1&gt;</span><br><span class="line">          t7: i64,ch = CopyFromReg t0, Register:i64 %0</span><br><span class="line">        t9: i64 = AssertZext t7, ValueType:ch:i32</span><br><span class="line">      t10: i64 = mul nsw t5, t9</span><br><span class="line">    t14: i64 = shl t10, Constant:i64&lt;2&gt;</span><br><span class="line">  t15: i64 = add t12, t14</span><br><span class="line">    t17: ch = CopyToReg t0, Register:i64 %12, t15</span><br><span class="line">              t19: i64,ch = CopyFromReg t0, Register:i64 %5</span><br><span class="line">            t20: i64 = AssertSext t19, ValueType:ch:i32</span><br><span class="line">          t21: i64 = shl t20, Constant:i64&lt;2&gt;</span><br><span class="line">        t22: i64 = add t15, t21</span><br><span class="line">      t25: i32,ch = load&lt;(load (s32) from %ir.gep.us.phi.trans.insert, !tbaa !17)&gt; t0, t22, undef:i64</span><br><span class="line">    t27: ch = CopyToReg t0, Register:i32 %13, t25</span><br><span class="line">  t28: ch = TokenFactor t17, t27</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Legalized selection DAG: %bb.3 'solve_:.lr.ph.us'</span><br><span class="line">SelectionDAG has 28 nodes:</span><br><span class="line">  t0: ch,glue = EntryToken</span><br><span class="line">    t12: i64,ch = CopyFromReg t0, Register:i64 %8</span><br><span class="line">            t2: i32,ch = CopyFromReg t0, Register:i32 %11</span><br><span class="line">          t3: i64 = sign_extend t2</span><br><span class="line">        t5: i64 = add nsw t3, Constant:i64&lt;-1&gt;</span><br><span class="line">          t7: i64,ch = CopyFromReg t0, Register:i64 %0</span><br><span class="line">        t9: i64 = AssertZext t7, ValueType:ch:i32</span><br><span class="line">      t10: i64 = mul nsw t5, t9</span><br><span class="line">    t14: i64 = shl t10, Constant:i8&lt;2&gt;</span><br><span class="line">  t15: i64 = add t12, t14</span><br><span class="line">    t17: ch = CopyToReg t0, Register:i64 %12, t15</span><br><span class="line">              t19: i64,ch = CopyFromReg t0, Register:i64 %5</span><br><span class="line">            t20: i64 = AssertSext t19, ValueType:ch:i32</span><br><span class="line">          t21: i64 = shl t20, Constant:i8&lt;2&gt;</span><br><span class="line">        t22: i64 = add t15, t21</span><br><span class="line">      t25: i32,ch = load&lt;(load (s32) from %ir.gep.us.phi.trans.insert, !tbaa !17)&gt; t0, t22, undef:i64</span><br><span class="line">    t27: ch = CopyToReg t0, Register:i32 %13, t25</span><br><span class="line">  t28: ch = TokenFactor t17, t27</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Optimized legalized selection DAG: %bb.3 'solve_:.lr.ph.us'</span><br><span class="line">SelectionDAG has 28 nodes:</span><br><span class="line">  t0: ch,glue = EntryToken</span><br><span class="line">    t12: i64,ch = CopyFromReg t0, Register:i64 %8</span><br><span class="line">            t2: i32,ch = CopyFromReg t0, Register:i32 %11</span><br><span class="line">          t3: i64 = sign_extend t2</span><br><span class="line">        t5: i64 = add nsw t3, Constant:i64&lt;-1&gt;</span><br><span class="line">          t7: i64,ch = CopyFromReg t0, Register:i64 %0</span><br><span class="line">        t9: i64 = AssertZext t7, ValueType:ch:i32</span><br><span class="line">      t10: i64 = mul nsw t5, t9</span><br><span class="line">    t14: i64 = shl t10, Constant:i8&lt;2&gt;</span><br><span class="line">  t15: i64 = add t12, t14</span><br><span class="line">    t17: ch = CopyToReg t0, Register:i64 %12, t15</span><br><span class="line">              t19: i64,ch = CopyFromReg t0, Register:i64 %5</span><br><span class="line">            t20: i64 = AssertSext t19, ValueType:ch:i32</span><br><span class="line">          t21: i64 = shl t20, Constant:i8&lt;2&gt;</span><br><span class="line">        t22: i64 = add t15, t21</span><br><span class="line">      t25: i32,ch = load&lt;(load (s32) from %ir.gep.us.phi.trans.insert, !tbaa !17)&gt; t0, t22, undef:i64</span><br><span class="line">    t27: ch = CopyToReg t0, Register:i32 %13, t25</span><br><span class="line">  t28: ch = TokenFactor t17, t27</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">===== Instruction selection begins: %bb.3 '.lr.ph.us'</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t28: ch = TokenFactor t17, t27</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t27: ch = CopyToReg t0, Register:i32 %13, t25</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t25: i32,ch = load&lt;(load (s32) from %ir.gep.us.phi.trans.insert, !tbaa !17)&gt; t0, t22, undef:i64</span><br><span class="line">ISEL: Starting pattern match</span><br><span class="line">  Initial Opcode index to 122140</span><br><span class="line">  Match failed at index 122148</span><br><span class="line">  Continuing at 122164</span><br><span class="line">  Match failed at index 122167</span><br><span class="line">  Continuing at 122183</span><br><span class="line">  Morphed node: t25: i32,ch = MOV32rm&lt;Mem:(load (s32) from %ir.gep.us.phi.trans.insert, !tbaa !17)&gt; t15, TargetConstant:i8&lt;4&gt;, t20, TargetConstant:i32&lt;0&gt;, Register:i16 $noreg, t0</span><br><span class="line">ISEL: Match complete!</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t17: ch = CopyToReg t0, Register:i64 %12, t15</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t15: i64 = add t12, t14</span><br><span class="line">ISEL: Starting pattern match</span><br><span class="line">  Initial Opcode index to 52329</span><br><span class="line">  Match failed at index 52333</span><br><span class="line">  Continuing at 52897</span><br><span class="line">  Match failed at index 52909</span><br><span class="line">  Continuing at 52941</span><br><span class="line">  Match failed at index 52945</span><br><span class="line">  Continuing at 52977</span><br><span class="line">  Match failed at index 52981</span><br><span class="line">  Continuing at 53012</span><br><span class="line">  Match failed at index 53013</span><br><span class="line">  Continuing at 53049</span><br><span class="line">  Continuing at 53050</span><br><span class="line">  Match failed at index 53053</span><br><span class="line">  Continuing at 53249</span><br><span class="line">  Continuing at 53250</span><br><span class="line">  Match failed at index 53253</span><br><span class="line">  Continuing at 53457</span><br><span class="line">  TypeSwitch[i64] from 53459 to 53496</span><br><span class="line">  Morphed node: t15: i64 = LEA64r t12, TargetConstant:i8&lt;4&gt;, t10, TargetConstant:i32&lt;0&gt;, Register:i16 $noreg</span><br><span class="line">ISEL: Match complete!</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t10: i64 = mul nsw t5, t9</span><br><span class="line">ISEL: Starting pattern match</span><br><span class="line">  Initial Opcode index to 95377</span><br><span class="line">  Match failed at index 95380</span><br><span class="line">  Continuing at 95473</span><br><span class="line">  Match failed at index 95477</span><br><span class="line">  Continuing at 95648</span><br><span class="line">  Match failed at index 95651</span><br><span class="line">  Continuing at 95805</span><br><span class="line">  TypeSwitch[i64] from 95807 to 95844</span><br><span class="line">  Match failed at index 95844</span><br><span class="line">  Continuing at 95857</span><br><span class="line">  Match failed at index 95867</span><br><span class="line">  Continuing at 95912</span><br><span class="line">  Match failed at index 95913</span><br><span class="line">  Continuing at 95924</span><br><span class="line">  Match failed at index 95925</span><br><span class="line">  Continuing at 95951</span><br><span class="line">  Match failed at index 95952</span><br><span class="line">  Continuing at 95977</span><br><span class="line">  Morphed node: t10: i64,i32 = IMUL64rr nsw t5, t9</span><br><span class="line">ISEL: Match complete!</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t5: i64 = add nsw t3, Constant:i64&lt;-1&gt;</span><br><span class="line">ISEL: Starting pattern match</span><br><span class="line">  Initial Opcode index to 52329</span><br><span class="line">  Match failed at index 52333</span><br><span class="line">  Continuing at 52897</span><br><span class="line">  Match failed at index 52909</span><br><span class="line">  Continuing at 52941</span><br><span class="line">  Match failed at index 52945</span><br><span class="line">  Continuing at 52977</span><br><span class="line">  Match failed at index 52981</span><br><span class="line">  Continuing at 53012</span><br><span class="line">  Match failed at index 53013</span><br><span class="line">  Continuing at 53049</span><br><span class="line">  Continuing at 53050</span><br><span class="line">  Match failed at index 53053</span><br><span class="line">  Continuing at 53249</span><br><span class="line">  Continuing at 53250</span><br><span class="line">  Match failed at index 53253</span><br><span class="line">  Continuing at 53457</span><br><span class="line">  TypeSwitch[i64] from 53459 to 53496</span><br><span class="line">  Match failed at index 53496</span><br><span class="line">  Continuing at 53509</span><br><span class="line">  Match failed at index 53512</span><br><span class="line">  Continuing at 53531</span><br><span class="line">  Match failed at index 53533</span><br><span class="line">  Continuing at 53553</span><br><span class="line">  Skipped scope entry (due to false predicate) at index 53558, continuing at 53659</span><br><span class="line">  Skipped scope entry (due to false predicate) at index 53660, continuing at 53703</span><br><span class="line">  Skipped scope entry (due to false predicate) at index 53704, continuing at 53804</span><br><span class="line">  TypeSwitch[i64] from 53807 to 53882</span><br><span class="line">  Morphed node: t5: i64,i32 = DEC64r nsw t3</span><br><span class="line">ISEL: Match complete!</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t20: i64 = AssertSext t19, ValueType:ch:i32</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t9: i64 = AssertZext t7, ValueType:ch:i32</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t3: i64 = sign_extend t2</span><br><span class="line">ISEL: Starting pattern match</span><br><span class="line">  Initial Opcode index to 135712</span><br><span class="line">  Skipped scope entry (due to false predicate) at index 135717, continuing at 135737</span><br><span class="line">  Skipped scope entry (due to false predicate) at index 135738, continuing at 135758</span><br><span class="line">  Morphed node: t3: i64 = MOVSX64rr32 t2</span><br><span class="line">ISEL: Match complete!</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t19: i64,ch = CopyFromReg t0, Register:i64 %5</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t12: i64,ch = CopyFromReg t0, Register:i64 %8</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t7: i64,ch = CopyFromReg t0, Register:i64 %0</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t2: i32,ch = CopyFromReg t0, Register:i32 %11</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t26: i32 = Register %13</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t18: i64 = Register %5</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t16: i64 = Register %12</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t11: i64 = Register %8</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t6: i64 = Register %0</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t1: i32 = Register %11</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t0: ch,glue = EntryToken</span><br><span class="line"></span><br><span class="line">===== Instruction selection ends:</span><br><span class="line"></span><br><span class="line">Selected selection DAG: %bb.3 'solve_:.lr.ph.us'</span><br><span class="line">SelectionDAG has 23 nodes:</span><br><span class="line">  t0: ch,glue = EntryToken</span><br><span class="line">    t12: i64,ch = CopyFromReg t0, Register:i64 %8</span><br><span class="line">          t2: i32,ch = CopyFromReg t0, Register:i32 %11</span><br><span class="line">        t3: i64 = MOVSX64rr32 t2</span><br><span class="line">      t5: i64,i32 = DEC64r nsw t3</span><br><span class="line">      t7: i64,ch = CopyFromReg t0, Register:i64 %0</span><br><span class="line">    t10: i64,i32 = IMUL64rr nsw t5, t7</span><br><span class="line">  t15: i64 = LEA64r t12, TargetConstant:i8&lt;4&gt;, t10, TargetConstant:i32&lt;0&gt;, Register:i16 $noreg</span><br><span class="line">  t33: i32 = Register $noreg</span><br><span class="line">    t17: ch = CopyToReg t0, Register:i64 %12, t15</span><br><span class="line">        t19: i64,ch = CopyFromReg t0, Register:i64 %5</span><br><span class="line">      t25: i32,ch = MOV32rm&lt;Mem:(load (s32) from %ir.gep.us.phi.trans.insert, !tbaa !17)&gt; t15, TargetConstant:i8&lt;4&gt;, t19, TargetConstant:i32&lt;0&gt;, Register:i16 $noreg, t0</span><br><span class="line">    t27: ch = CopyToReg t0, Register:i32 %13, t25</span><br><span class="line">  t28: ch = TokenFactor t17, t27</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Total amount of phi nodes to update: 3</span><br><span class="line">Node 0 : (0x60c587dbb000, 2147483657)</span><br><span class="line">Node 1 : (0x60c587dbb068, 2147483661)</span><br><span class="line">Node 2 : (0x60c587dbb0d0, 2147483652)</span><br><span class="line"></span><br><span class="line">Initial selection DAG: %bb.4 'solve_:'</span><br><span class="line">SelectionDAG has 43 nodes:</span><br><span class="line">  t0: ch,glue = EntryToken</span><br><span class="line">  t2: i32,ch = CopyFromReg t0, Register:i32 %16</span><br><span class="line">  t5: i64,ch = CopyFromReg t0, Register:i64 %12</span><br><span class="line">  t13: i64 = Constant&lt;0&gt;</span><br><span class="line">  t17: i32 = add t2, Constant:i32&lt;1&gt;</span><br><span class="line">      t20: i64 = sign_extend t17</span><br><span class="line">    t21: i64 = shl t20, Constant:i64&lt;2&gt;</span><br><span class="line">  t22: i64 = add t5, t21</span><br><span class="line">        t10: i32,ch = CopyFromReg t0, Register:i32 %15</span><br><span class="line">      t12: i32 = add t10, Constant:i32&lt;-10&gt;</span><br><span class="line">          t3: i64 = sign_extend t2</span><br><span class="line">        t7: i64 = shl t3, Constant:i64&lt;2&gt;</span><br><span class="line">      t8: i64 = add t5, t7</span><br><span class="line">    t15: ch = store&lt;(store (s32) into %ir.gep.us, !tbaa !17)&gt; t0, t12, t8, undef:i64</span><br><span class="line">  t23: i32,ch = load&lt;(load (s32) from %ir.gep54.us, !tbaa !21)&gt; t15, t22, undef:i64</span><br><span class="line">  t25: i32 = add t23, Constant:i32&lt;-20&gt;</span><br><span class="line">    t30: i64,ch = CopyFromReg t0, Register:i64 %14</span><br><span class="line">  t32: i64 = add t30, Constant:i64&lt;-1&gt;</span><br><span class="line">        t19: ch = CopyToReg t0, Register:i32 %17, t17</span><br><span class="line">        t27: ch = CopyToReg t0, Register:i32 %18, t25</span><br><span class="line">        t34: ch = CopyToReg t0, Register:i64 %19, t32</span><br><span class="line">        t28: ch = store&lt;(store (s32) into %ir.gep54.us, !tbaa !21)&gt; t23:1, t25, t22, undef:i64</span><br><span class="line">      t39: ch = TokenFactor t19, t27, t34, t28</span><br><span class="line">      t37: i1 = setcc t32, Constant:i64&lt;1&gt;, setgt:ch</span><br><span class="line">    t40: ch = brcond t39, t37, BasicBlock:ch&lt; 0x60c587dbaf00&gt;</span><br><span class="line">  t42: ch = br t40, BasicBlock:ch&lt;._crit_edge.us 0x60c587dbb138&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Optimized lowered selection DAG: %bb.4 'solve_:'</span><br><span class="line">SelectionDAG has 42 nodes:</span><br><span class="line">  t0: ch,glue = EntryToken</span><br><span class="line">  t2: i32,ch = CopyFromReg t0, Register:i32 %16</span><br><span class="line">  t5: i64,ch = CopyFromReg t0, Register:i64 %12</span><br><span class="line">  t17: i32 = add t2, Constant:i32&lt;1&gt;</span><br><span class="line">      t20: i64 = sign_extend t17</span><br><span class="line">    t21: i64 = shl t20, Constant:i64&lt;2&gt;</span><br><span class="line">  t22: i64 = add t5, t21</span><br><span class="line">        t10: i32,ch = CopyFromReg t0, Register:i32 %15</span><br><span class="line">      t12: i32 = add t10, Constant:i32&lt;-10&gt;</span><br><span class="line">          t3: i64 = sign_extend t2</span><br><span class="line">        t7: i64 = shl t3, Constant:i64&lt;2&gt;</span><br><span class="line">      t8: i64 = add t5, t7</span><br><span class="line">    t15: ch = store&lt;(store (s32) into %ir.gep.us, !tbaa !17)&gt; t0, t12, t8, undef:i64</span><br><span class="line">  t23: i32,ch = load&lt;(load (s32) from %ir.gep54.us, !tbaa !21)&gt; t15, t22, undef:i64</span><br><span class="line">  t25: i32 = add t23, Constant:i32&lt;-20&gt;</span><br><span class="line">    t30: i64,ch = CopyFromReg t0, Register:i64 %14</span><br><span class="line">  t32: i64 = add t30, Constant:i64&lt;-1&gt;</span><br><span class="line">        t19: ch = CopyToReg t0, Register:i32 %17, t17</span><br><span class="line">        t27: ch = CopyToReg t0, Register:i32 %18, t25</span><br><span class="line">        t34: ch = CopyToReg t0, Register:i64 %19, t32</span><br><span class="line">        t28: ch = store&lt;(store (s32) into %ir.gep54.us, !tbaa !21)&gt; t23:1, t25, t22, undef:i64</span><br><span class="line">      t39: ch = TokenFactor t19, t27, t34, t28</span><br><span class="line">      t37: i1 = setcc t32, Constant:i64&lt;1&gt;, setgt:ch</span><br><span class="line">    t40: ch = brcond t39, t37, BasicBlock:ch&lt; 0x60c587dbaf00&gt;</span><br><span class="line">  t42: ch = br t40, BasicBlock:ch&lt;._crit_edge.us 0x60c587dbb138&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Type-legalized selection DAG: %bb.4 'solve_:'</span><br><span class="line">SelectionDAG has 44 nodes:</span><br><span class="line">  t0: ch,glue = EntryToken</span><br><span class="line">  t2: i32,ch = CopyFromReg t0, Register:i32 %16</span><br><span class="line">  t5: i64,ch = CopyFromReg t0, Register:i64 %12</span><br><span class="line">  t17: i32 = add t2, Constant:i32&lt;1&gt;</span><br><span class="line">      t20: i64 = sign_extend t17</span><br><span class="line">    t21: i64 = shl t20, Constant:i64&lt;2&gt;</span><br><span class="line">  t22: i64 = add t5, t21</span><br><span class="line">        t10: i32,ch = CopyFromReg t0, Register:i32 %15</span><br><span class="line">      t12: i32 = add t10, Constant:i32&lt;-10&gt;</span><br><span class="line">          t3: i64 = sign_extend t2</span><br><span class="line">        t7: i64 = shl t3, Constant:i64&lt;2&gt;</span><br><span class="line">      t8: i64 = add t5, t7</span><br><span class="line">    t15: ch = store&lt;(store (s32) into %ir.gep.us, !tbaa !17)&gt; t0, t12, t8, undef:i64</span><br><span class="line">  t23: i32,ch = load&lt;(load (s32) from %ir.gep54.us, !tbaa !21)&gt; t15, t22, undef:i64</span><br><span class="line">  t25: i32 = add t23, Constant:i32&lt;-20&gt;</span><br><span class="line">    t30: i64,ch = CopyFromReg t0, Register:i64 %14</span><br><span class="line">  t32: i64 = add t30, Constant:i64&lt;-1&gt;</span><br><span class="line">        t19: ch = CopyToReg t0, Register:i32 %17, t17</span><br><span class="line">        t27: ch = CopyToReg t0, Register:i32 %18, t25</span><br><span class="line">        t34: ch = CopyToReg t0, Register:i64 %19, t32</span><br><span class="line">        t28: ch = store&lt;(store (s32) into %ir.gep54.us, !tbaa !21)&gt; t23:1, t25, t22, undef:i64</span><br><span class="line">      t39: ch = TokenFactor t19, t27, t34, t28</span><br><span class="line">        t43: i8 = setcc t32, Constant:i64&lt;1&gt;, setgt:ch</span><br><span class="line">      t46: i8 = and t43, Constant:i8&lt;1&gt;</span><br><span class="line">    t40: ch = brcond t39, t46, BasicBlock:ch&lt; 0x60c587dbaf00&gt;</span><br><span class="line">  t42: ch = br t40, BasicBlock:ch&lt;._crit_edge.us 0x60c587dbb138&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Optimized type-legalized selection DAG: %bb.4 'solve_:'</span><br><span class="line">SelectionDAG has 42 nodes:</span><br><span class="line">  t0: ch,glue = EntryToken</span><br><span class="line">  t2: i32,ch = CopyFromReg t0, Register:i32 %16</span><br><span class="line">  t5: i64,ch = CopyFromReg t0, Register:i64 %12</span><br><span class="line">  t17: i32 = add t2, Constant:i32&lt;1&gt;</span><br><span class="line">      t20: i64 = sign_extend t17</span><br><span class="line">    t21: i64 = shl t20, Constant:i64&lt;2&gt;</span><br><span class="line">  t22: i64 = add t5, t21</span><br><span class="line">        t10: i32,ch = CopyFromReg t0, Register:i32 %15</span><br><span class="line">      t12: i32 = add t10, Constant:i32&lt;-10&gt;</span><br><span class="line">          t3: i64 = sign_extend t2</span><br><span class="line">        t7: i64 = shl t3, Constant:i64&lt;2&gt;</span><br><span class="line">      t8: i64 = add t5, t7</span><br><span class="line">    t15: ch = store&lt;(store (s32) into %ir.gep.us, !tbaa !17)&gt; t0, t12, t8, undef:i64</span><br><span class="line">  t23: i32,ch = load&lt;(load (s32) from %ir.gep54.us, !tbaa !21)&gt; t15, t22, undef:i64</span><br><span class="line">  t25: i32 = add t23, Constant:i32&lt;-20&gt;</span><br><span class="line">    t30: i64,ch = CopyFromReg t0, Register:i64 %14</span><br><span class="line">  t32: i64 = add t30, Constant:i64&lt;-1&gt;</span><br><span class="line">        t19: ch = CopyToReg t0, Register:i32 %17, t17</span><br><span class="line">        t27: ch = CopyToReg t0, Register:i32 %18, t25</span><br><span class="line">        t34: ch = CopyToReg t0, Register:i64 %19, t32</span><br><span class="line">        t28: ch = store&lt;(store (s32) into %ir.gep54.us, !tbaa !21)&gt; t23:1, t25, t22, undef:i64</span><br><span class="line">      t39: ch = TokenFactor t19, t27, t34, t28</span><br><span class="line">      t43: i8 = setcc t32, Constant:i64&lt;1&gt;, setgt:ch</span><br><span class="line">    t40: ch = brcond t39, t43, BasicBlock:ch&lt; 0x60c587dbaf00&gt;</span><br><span class="line">  t42: ch = br t40, BasicBlock:ch&lt;._crit_edge.us 0x60c587dbb138&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Legalized selection DAG: %bb.4 'solve_:'</span><br><span class="line">SelectionDAG has 42 nodes:</span><br><span class="line">  t0: ch,glue = EntryToken</span><br><span class="line">  t2: i32,ch = CopyFromReg t0, Register:i32 %16</span><br><span class="line">  t5: i64,ch = CopyFromReg t0, Register:i64 %12</span><br><span class="line">  t17: i32 = add t2, Constant:i32&lt;1&gt;</span><br><span class="line">    t30: i64,ch = CopyFromReg t0, Register:i64 %14</span><br><span class="line">  t32: i64 = add t30, Constant:i64&lt;-1&gt;</span><br><span class="line">      t20: i64 = sign_extend t17</span><br><span class="line">    t21: i64 = shl t20, Constant:i8&lt;2&gt;</span><br><span class="line">  t22: i64 = add t5, t21</span><br><span class="line">        t10: i32,ch = CopyFromReg t0, Register:i32 %15</span><br><span class="line">      t12: i32 = add t10, Constant:i32&lt;-10&gt;</span><br><span class="line">          t3: i64 = sign_extend t2</span><br><span class="line">        t7: i64 = shl t3, Constant:i8&lt;2&gt;</span><br><span class="line">      t8: i64 = add t5, t7</span><br><span class="line">    t15: ch = store&lt;(store (s32) into %ir.gep.us, !tbaa !17)&gt; t0, t12, t8, undef:i64</span><br><span class="line">  t23: i32,ch = load&lt;(load (s32) from %ir.gep54.us, !tbaa !21)&gt; t15, t22, undef:i64</span><br><span class="line">  t25: i32 = add t23, Constant:i32&lt;-20&gt;</span><br><span class="line">        t19: ch = CopyToReg t0, Register:i32 %17, t17</span><br><span class="line">        t27: ch = CopyToReg t0, Register:i32 %18, t25</span><br><span class="line">        t34: ch = CopyToReg t0, Register:i64 %19, t32</span><br><span class="line">        t28: ch = store&lt;(store (s32) into %ir.gep54.us, !tbaa !21)&gt; t23:1, t25, t22, undef:i64</span><br><span class="line">      t39: ch = TokenFactor t19, t27, t34, t28</span><br><span class="line">      t47: i64,i32 = X86ISD::SUB t32, Constant:i64&lt;1&gt;</span><br><span class="line">    t49: ch = X86ISD::BRCOND t39, BasicBlock:ch&lt; 0x60c587dbaf00&gt;, TargetConstant:i8&lt;15&gt;, t47:1</span><br><span class="line">  t42: ch = br t49, BasicBlock:ch&lt;._crit_edge.us 0x60c587dbb138&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Optimized legalized selection DAG: %bb.4 'solve_:'</span><br><span class="line">SelectionDAG has 42 nodes:</span><br><span class="line">  t0: ch,glue = EntryToken</span><br><span class="line">  t2: i32,ch = CopyFromReg t0, Register:i32 %16</span><br><span class="line">  t5: i64,ch = CopyFromReg t0, Register:i64 %12</span><br><span class="line">  t17: i32 = add t2, Constant:i32&lt;1&gt;</span><br><span class="line">    t30: i64,ch = CopyFromReg t0, Register:i64 %14</span><br><span class="line">  t32: i64 = add t30, Constant:i64&lt;-1&gt;</span><br><span class="line">      t20: i64 = sign_extend t17</span><br><span class="line">    t21: i64 = shl t20, Constant:i8&lt;2&gt;</span><br><span class="line">  t22: i64 = add t5, t21</span><br><span class="line">        t10: i32,ch = CopyFromReg t0, Register:i32 %15</span><br><span class="line">      t12: i32 = add t10, Constant:i32&lt;-10&gt;</span><br><span class="line">          t3: i64 = sign_extend t2</span><br><span class="line">        t7: i64 = shl t3, Constant:i8&lt;2&gt;</span><br><span class="line">      t8: i64 = add t5, t7</span><br><span class="line">    t15: ch = store&lt;(store (s32) into %ir.gep.us, !tbaa !17)&gt; t0, t12, t8, undef:i64</span><br><span class="line">  t23: i32,ch = load&lt;(load (s32) from %ir.gep54.us, !tbaa !21)&gt; t15, t22, undef:i64</span><br><span class="line">  t25: i32 = add t23, Constant:i32&lt;-20&gt;</span><br><span class="line">        t19: ch = CopyToReg t0, Register:i32 %17, t17</span><br><span class="line">        t27: ch = CopyToReg t0, Register:i32 %18, t25</span><br><span class="line">        t34: ch = CopyToReg t0, Register:i64 %19, t32</span><br><span class="line">        t28: ch = store&lt;(store (s32) into %ir.gep54.us, !tbaa !21)&gt; t23:1, t25, t22, undef:i64</span><br><span class="line">      t39: ch = TokenFactor t19, t27, t34, t28</span><br><span class="line">      t47: i64,i32 = X86ISD::SUB t32, Constant:i64&lt;1&gt;</span><br><span class="line">    t49: ch = X86ISD::BRCOND t39, BasicBlock:ch&lt; 0x60c587dbaf00&gt;, TargetConstant:i8&lt;15&gt;, t47:1</span><br><span class="line">  t42: ch = br t49, BasicBlock:ch&lt;._crit_edge.us 0x60c587dbb138&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">===== Instruction selection begins: %bb.4 ''</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t42: ch = br t49, BasicBlock:ch&lt;._crit_edge.us 0x60c587dbb138&gt;</span><br><span class="line">ISEL: Starting pattern match</span><br><span class="line">  Initial Opcode index to 136351</span><br><span class="line">  Morphed node: t42: ch = JMP_1 BasicBlock:ch&lt;._crit_edge.us 0x60c587dbb138&gt;, t49</span><br><span class="line">ISEL: Match complete!</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t49: ch = X86ISD::BRCOND t39, BasicBlock:ch&lt; 0x60c587dbaf00&gt;, TargetConstant:i8&lt;15&gt;, t47:1</span><br><span class="line">ISEL: Starting pattern match</span><br><span class="line">  Initial Opcode index to 135091</span><br><span class="line">  Morphed node: t49: ch = JCC_1 BasicBlock:ch&lt; 0x60c587dbaf00&gt;, TargetConstant:i8&lt;15&gt;, t52, t52:1</span><br><span class="line">ISEL: Match complete!</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t39: ch = TokenFactor t19, t27, t34, t28</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t27: ch = CopyToReg t0, Register:i32 %18, t25</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t28: ch = store&lt;(store (s32) into %ir.gep54.us, !tbaa !21)&gt; t23:1, t25, t22, undef:i64</span><br><span class="line">ISEL: Starting pattern match</span><br><span class="line">  Initial Opcode index to 5</span><br><span class="line">  Skipped scope entry (due to false predicate) at index 13, continuing at 73</span><br><span class="line">  Skipped scope entry (due to false predicate) at index 74, continuing at 134</span><br><span class="line">  Skipped scope entry (due to false predicate) at index 135, continuing at 178</span><br><span class="line">  Skipped scope entry (due to false predicate) at index 179, continuing at 222</span><br><span class="line">  Skipped scope entry (due to false predicate) at index 223, continuing at 283</span><br><span class="line">  Skipped scope entry (due to false predicate) at index 284, continuing at 327</span><br><span class="line">  Match failed at index 332</span><br><span class="line">  Continuing at 350</span><br><span class="line">  Match failed at index 351</span><br><span class="line">  Continuing at 373</span><br><span class="line">  Match failed at index 374</span><br><span class="line">  Continuing at 417</span><br><span class="line">  Match failed at index 418</span><br><span class="line">  Continuing at 461</span><br><span class="line">  Match failed at index 462</span><br><span class="line">  Continuing at 486</span><br><span class="line">  Match failed at index 487</span><br><span class="line">  Continuing at 530</span><br><span class="line">  Match failed at index 531</span><br><span class="line">  Continuing at 591</span><br><span class="line">  Match failed at index 592</span><br><span class="line">  Continuing at 652</span><br><span class="line">  Match failed at index 653</span><br><span class="line">  Continuing at 697</span><br><span class="line">  Match failed at index 698</span><br><span class="line">  Continuing at 758</span><br><span class="line">  Match failed at index 759</span><br><span class="line">  Continuing at 783</span><br><span class="line">  Match failed at index 784</span><br><span class="line">  Continuing at 808</span><br><span class="line">  Match failed at index 809</span><br><span class="line">  Continuing at 833</span><br><span class="line">  Match failed at index 834</span><br><span class="line">  Continuing at 858</span><br><span class="line">  Match failed at index 859</span><br><span class="line">  Continuing at 883</span><br><span class="line">  Match failed at index 884</span><br><span class="line">  Continuing at 908</span><br><span class="line">  Match failed at index 909</span><br><span class="line">  Continuing at 942</span><br><span class="line">  Match failed at index 943</span><br><span class="line">  Continuing at 976</span><br><span class="line">  Continuing at 977</span><br><span class="line">  OpcodeSwitch from 980 to 3569</span><br><span class="line">  Match failed at index 3578</span><br><span class="line">  Continuing at 4244</span><br><span class="line">  Match failed at index 4253</span><br><span class="line">  Continuing at 4292</span><br><span class="line">  Match failed at index 4296</span><br><span class="line">  Continuing at 4335</span><br><span class="line">  Match failed at index 4339</span><br><span class="line">  Continuing at 4377</span><br><span class="line">  Match failed at index 4378</span><br><span class="line">  Continuing at 4421</span><br><span class="line">  Continuing at 4422</span><br><span class="line">  Match failed at index 4429</span><br><span class="line">  Continuing at 4537</span><br><span class="line">  Match failed at index 4540</span><br><span class="line">  Continuing at 4652</span><br><span class="line">  Continuing at 10391</span><br><span class="line">  Match failed at index 10395</span><br><span class="line">  Continuing at 11659</span><br><span class="line">  Match failed at index 11662</span><br><span class="line">  Continuing at 12194</span><br><span class="line">  Match failed at index 12195</span><br><span class="line">  Continuing at 12278</span><br><span class="line">  Match failed at index 12279</span><br><span class="line">  Continuing at 12362</span><br><span class="line">  Skipped scope entry (due to false predicate) at index 12368, continuing at 12468</span><br><span class="line">  Match failed at index 12471</span><br><span class="line">  Continuing at 12493</span><br><span class="line">  Match failed at index 12496</span><br><span class="line">  Continuing at 12518</span><br><span class="line">  Match failed at index 12526</span><br><span class="line">  Continuing at 12542</span><br><span class="line">  Match failed at index 12543</span><br><span class="line">  Continuing at 12568</span><br><span class="line">  Continuing at 12569</span><br><span class="line">  Match failed at index 12572</span><br><span class="line">  Continuing at 12704</span><br><span class="line">  Skipped scope entry (due to false predicate) at index 12709, continuing at 12728</span><br><span class="line">  Skipped scope entry (due to false predicate) at index 12729, continuing at 12748</span><br><span class="line">  Morphed node: t28: ch = MOV32mr&lt;Mem:(store (s32) into %ir.gep54.us, !tbaa !21)&gt; t5, TargetConstant:i8&lt;4&gt;, t20, TargetConstant:i32&lt;0&gt;, Register:i16 $noreg, t25, t23:1</span><br><span class="line">ISEL: Match complete!</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t25: i32 = add t23, Constant:i32&lt;-20&gt;</span><br><span class="line">ISEL: Starting pattern match</span><br><span class="line">  Initial Opcode index to 52329</span><br><span class="line">  Match failed at index 52338</span><br><span class="line">  Continuing at 52897</span><br><span class="line">  Match failed at index 52909</span><br><span class="line">  Continuing at 52941</span><br><span class="line">  Match failed at index 52945</span><br><span class="line">  Continuing at 52977</span><br><span class="line">  Match failed at index 52981</span><br><span class="line">  Continuing at 53012</span><br><span class="line">  Match failed at index 53013</span><br><span class="line">  Continuing at 53049</span><br><span class="line">  Continuing at 53050</span><br><span class="line">  Match failed at index 53053</span><br><span class="line">  Continuing at 53249</span><br><span class="line">  Continuing at 53250</span><br><span class="line">  Match failed at index 53258</span><br><span class="line">  Continuing at 53457</span><br><span class="line">  TypeSwitch[i32] from 53459 to 53462</span><br><span class="line">  Skipped scope entry (due to false predicate) at index 53464, continuing at 53478</span><br><span class="line">  Match failed at index 53481</span><br><span class="line">  Continuing at 53493</span><br><span class="line">  Continuing at 53509</span><br><span class="line">  Match failed at index 53512</span><br><span class="line">  Continuing at 53531</span><br><span class="line">  Match failed at index 53533</span><br><span class="line">  Continuing at 53553</span><br><span class="line">  Skipped scope entry (due to false predicate) at index 53558, continuing at 53659</span><br><span class="line">  Skipped scope entry (due to false predicate) at index 53660, continuing at 53703</span><br><span class="line">  Skipped scope entry (due to false predicate) at index 53704, continuing at 53804</span><br><span class="line">  Skipped scope entry (due to false predicate) at index 53805, continuing at 53905</span><br><span class="line">  Match failed at index 53919</span><br><span class="line">  Continuing at 53946</span><br><span class="line">  TypeSwitch[i32] from 53948 to 54007</span><br><span class="line">  Morphed node: t25: i32,i32 = ADD32ri t23, TargetConstant:i32&lt;-20&gt;</span><br><span class="line">ISEL: Match complete!</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t23: i32,ch = load&lt;(load (s32) from %ir.gep54.us, !tbaa !21)&gt; t15, t22, undef:i64</span><br><span class="line">ISEL: Starting pattern match</span><br><span class="line">  Initial Opcode index to 122140</span><br><span class="line">  Match failed at index 122148</span><br><span class="line">  Continuing at 122164</span><br><span class="line">  Match failed at index 122167</span><br><span class="line">  Continuing at 122183</span><br><span class="line">  Morphed node: t23: i32,ch = MOV32rm&lt;Mem:(load (s32) from %ir.gep54.us, !tbaa !21)&gt; t5, TargetConstant:i8&lt;4&gt;, t20, TargetConstant:i32&lt;0&gt;, Register:i16 $noreg, t15</span><br><span class="line">ISEL: Match complete!</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t15: ch = store&lt;(store (s32) into %ir.gep.us, !tbaa !17)&gt; t0, t12, t8, undef:i64</span><br><span class="line">ISEL: Starting pattern match</span><br><span class="line">  Initial Opcode index to 5</span><br><span class="line">  Skipped scope entry (due to false predicate) at index 13, continuing at 73</span><br><span class="line">  Skipped scope entry (due to false predicate) at index 74, continuing at 134</span><br><span class="line">  Skipped scope entry (due to false predicate) at index 135, continuing at 178</span><br><span class="line">  Skipped scope entry (due to false predicate) at index 179, continuing at 222</span><br><span class="line">  Skipped scope entry (due to false predicate) at index 223, continuing at 283</span><br><span class="line">  Skipped scope entry (due to false predicate) at index 284, continuing at 327</span><br><span class="line">  Match failed at index 332</span><br><span class="line">  Continuing at 350</span><br><span class="line">  Match failed at index 351</span><br><span class="line">  Continuing at 373</span><br><span class="line">  Match failed at index 374</span><br><span class="line">  Continuing at 417</span><br><span class="line">  Match failed at index 418</span><br><span class="line">  Continuing at 461</span><br><span class="line">  Match failed at index 462</span><br><span class="line">  Continuing at 486</span><br><span class="line">  Match failed at index 487</span><br><span class="line">  Continuing at 530</span><br><span class="line">  Match failed at index 531</span><br><span class="line">  Continuing at 591</span><br><span class="line">  Match failed at index 592</span><br><span class="line">  Continuing at 652</span><br><span class="line">  Match failed at index 653</span><br><span class="line">  Continuing at 697</span><br><span class="line">  Match failed at index 698</span><br><span class="line">  Continuing at 758</span><br><span class="line">  Match failed at index 759</span><br><span class="line">  Continuing at 783</span><br><span class="line">  Match failed at index 784</span><br><span class="line">  Continuing at 808</span><br><span class="line">  Match failed at index 809</span><br><span class="line">  Continuing at 833</span><br><span class="line">  Match failed at index 834</span><br><span class="line">  Continuing at 858</span><br><span class="line">  Match failed at index 859</span><br><span class="line">  Continuing at 883</span><br><span class="line">  Match failed at index 884</span><br><span class="line">  Continuing at 908</span><br><span class="line">  Match failed at index 909</span><br><span class="line">  Continuing at 942</span><br><span class="line">  Match failed at index 943</span><br><span class="line">  Continuing at 976</span><br><span class="line">  Continuing at 977</span><br><span class="line">  OpcodeSwitch from 980 to 3569</span><br><span class="line">  Match failed at index 3573</span><br><span class="line">  Continuing at 4244</span><br><span class="line">  Match failed at index 4253</span><br><span class="line">  Continuing at 4292</span><br><span class="line">  Match failed at index 4296</span><br><span class="line">  Continuing at 4335</span><br><span class="line">  Match failed at index 4339</span><br><span class="line">  Continuing at 4377</span><br><span class="line">  Match failed at index 4378</span><br><span class="line">  Continuing at 4421</span><br><span class="line">  Continuing at 4422</span><br><span class="line">  Match failed at index 4424</span><br><span class="line">  Continuing at 4537</span><br><span class="line">  Match failed at index 4540</span><br><span class="line">  Continuing at 4652</span><br><span class="line">  Continuing at 10391</span><br><span class="line">  Match failed at index 10395</span><br><span class="line">  Continuing at 11659</span><br><span class="line">  Match failed at index 11662</span><br><span class="line">  Continuing at 12194</span><br><span class="line">  Match failed at index 12195</span><br><span class="line">  Continuing at 12278</span><br><span class="line">  Match failed at index 12279</span><br><span class="line">  Continuing at 12362</span><br><span class="line">  Skipped scope entry (due to false predicate) at index 12368, continuing at 12468</span><br><span class="line">  Match failed at index 12471</span><br><span class="line">  Continuing at 12493</span><br><span class="line">  Match failed at index 12496</span><br><span class="line">  Continuing at 12518</span><br><span class="line">  Match failed at index 12526</span><br><span class="line">  Continuing at 12542</span><br><span class="line">  Match failed at index 12543</span><br><span class="line">  Continuing at 12568</span><br><span class="line">  Continuing at 12569</span><br><span class="line">  Match failed at index 12572</span><br><span class="line">  Continuing at 12704</span><br><span class="line">  Skipped scope entry (due to false predicate) at index 12709, continuing at 12728</span><br><span class="line">  Skipped scope entry (due to false predicate) at index 12729, continuing at 12748</span><br><span class="line">  Morphed node: t15: ch = MOV32mr&lt;Mem:(store (s32) into %ir.gep.us, !tbaa !17)&gt; t5, TargetConstant:i8&lt;4&gt;, t3, TargetConstant:i32&lt;0&gt;, Register:i16 $noreg, t12, t0</span><br><span class="line">ISEL: Match complete!</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t34: ch = CopyToReg t0, Register:i64 %19, t32</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t47: i64,i32 = X86ISD::SUB t32, Constant:i64&lt;1&gt;</span><br><span class="line">ISEL: Starting pattern match</span><br><span class="line">  Initial Opcode index to 114065</span><br><span class="line">  Match failed at index 114073</span><br><span class="line">  Continuing at 114269</span><br><span class="line">  Match failed at index 114272</span><br><span class="line">  Continuing at 114372</span><br><span class="line">  Match failed at index 114373</span><br><span class="line">  Continuing at 114475</span><br><span class="line">  Continuing at 114476</span><br><span class="line">  Match failed at index 114477</span><br><span class="line">  Continuing at 114578</span><br><span class="line">  Match failed at index 114597</span><br><span class="line">  Continuing at 114638</span><br><span class="line">  Morphed node: t47: i64,i32 = SUB64ri32 t32, TargetConstant:i64&lt;1&gt;</span><br><span class="line">ISEL: Match complete!</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t19: ch = CopyToReg t0, Register:i32 %17, t17</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t20: i64 = sign_extend t17</span><br><span class="line">ISEL: Starting pattern match</span><br><span class="line">  Initial Opcode index to 135712</span><br><span class="line">  Skipped scope entry (due to false predicate) at index 135717, continuing at 135737</span><br><span class="line">  Skipped scope entry (due to false predicate) at index 135738, continuing at 135758</span><br><span class="line">  Morphed node: t20: i64 = MOVSX64rr32 t17</span><br><span class="line">ISEL: Match complete!</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t32: i64 = add t30, Constant:i64&lt;-1&gt;</span><br><span class="line">ISEL: Starting pattern match</span><br><span class="line">  Initial Opcode index to 52329</span><br><span class="line">  Match failed at index 52333</span><br><span class="line">  Continuing at 52897</span><br><span class="line">  Match failed at index 52909</span><br><span class="line">  Continuing at 52941</span><br><span class="line">  Match failed at index 52945</span><br><span class="line">  Continuing at 52977</span><br><span class="line">  Match failed at index 52981</span><br><span class="line">  Continuing at 53012</span><br><span class="line">  Match failed at index 53013</span><br><span class="line">  Continuing at 53049</span><br><span class="line">  Continuing at 53050</span><br><span class="line">  Match failed at index 53053</span><br><span class="line">  Continuing at 53249</span><br><span class="line">  Continuing at 53250</span><br><span class="line">  Match failed at index 53253</span><br><span class="line">  Continuing at 53457</span><br><span class="line">  TypeSwitch[i64] from 53459 to 53496</span><br><span class="line">  Match failed at index 53496</span><br><span class="line">  Continuing at 53509</span><br><span class="line">  Match failed at index 53512</span><br><span class="line">  Continuing at 53531</span><br><span class="line">  Match failed at index 53533</span><br><span class="line">  Continuing at 53553</span><br><span class="line">  Skipped scope entry (due to false predicate) at index 53558, continuing at 53659</span><br><span class="line">  Skipped scope entry (due to false predicate) at index 53660, continuing at 53703</span><br><span class="line">  Skipped scope entry (due to false predicate) at index 53704, continuing at 53804</span><br><span class="line">  TypeSwitch[i64] from 53807 to 53882</span><br><span class="line">  Morphed node: t32: i64,i32 = DEC64r t30</span><br><span class="line">ISEL: Match complete!</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t12: i32 = add t10, Constant:i32&lt;-10&gt;</span><br><span class="line">ISEL: Starting pattern match</span><br><span class="line">  Initial Opcode index to 52329</span><br><span class="line">  Match failed at index 52333</span><br><span class="line">  Continuing at 52897</span><br><span class="line">  Match failed at index 52909</span><br><span class="line">  Continuing at 52941</span><br><span class="line">  Match failed at index 52945</span><br><span class="line">  Continuing at 52977</span><br><span class="line">  Match failed at index 52981</span><br><span class="line">  Continuing at 53012</span><br><span class="line">  Match failed at index 53013</span><br><span class="line">  Continuing at 53049</span><br><span class="line">  Continuing at 53050</span><br><span class="line">  Match failed at index 53053</span><br><span class="line">  Continuing at 53249</span><br><span class="line">  Continuing at 53250</span><br><span class="line">  Match failed at index 53253</span><br><span class="line">  Continuing at 53457</span><br><span class="line">  TypeSwitch[i32] from 53459 to 53462</span><br><span class="line">  Skipped scope entry (due to false predicate) at index 53464, continuing at 53478</span><br><span class="line">  Match failed at index 53481</span><br><span class="line">  Continuing at 53493</span><br><span class="line">  Continuing at 53509</span><br><span class="line">  Match failed at index 53512</span><br><span class="line">  Continuing at 53531</span><br><span class="line">  Match failed at index 53533</span><br><span class="line">  Continuing at 53553</span><br><span class="line">  Skipped scope entry (due to false predicate) at index 53558, continuing at 53659</span><br><span class="line">  Skipped scope entry (due to false predicate) at index 53660, continuing at 53703</span><br><span class="line">  Skipped scope entry (due to false predicate) at index 53704, continuing at 53804</span><br><span class="line">  Skipped scope entry (due to false predicate) at index 53805, continuing at 53905</span><br><span class="line">  Match failed at index 53919</span><br><span class="line">  Continuing at 53946</span><br><span class="line">  TypeSwitch[i32] from 53948 to 54007</span><br><span class="line">  Morphed node: t12: i32,i32 = ADD32ri t10, TargetConstant:i32&lt;-10&gt;</span><br><span class="line">ISEL: Match complete!</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t3: i64 = sign_extend t2</span><br><span class="line">ISEL: Starting pattern match</span><br><span class="line">  Initial Opcode index to 135712</span><br><span class="line">  Skipped scope entry (due to false predicate) at index 135717, continuing at 135737</span><br><span class="line">  Skipped scope entry (due to false predicate) at index 135738, continuing at 135758</span><br><span class="line">  Morphed node: t3: i64 = MOVSX64rr32 t2</span><br><span class="line">ISEL: Match complete!</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t17: i32 = add t2, Constant:i32&lt;1&gt;</span><br><span class="line">ISEL: Starting pattern match</span><br><span class="line">  Initial Opcode index to 52329</span><br><span class="line">  Match failed at index 52333</span><br><span class="line">  Continuing at 52897</span><br><span class="line">  Match failed at index 52909</span><br><span class="line">  Continuing at 52941</span><br><span class="line">  Match failed at index 52945</span><br><span class="line">  Continuing at 52977</span><br><span class="line">  Match failed at index 52981</span><br><span class="line">  Continuing at 53012</span><br><span class="line">  Match failed at index 53013</span><br><span class="line">  Continuing at 53049</span><br><span class="line">  Continuing at 53050</span><br><span class="line">  Match failed at index 53053</span><br><span class="line">  Continuing at 53249</span><br><span class="line">  Continuing at 53250</span><br><span class="line">  Match failed at index 53253</span><br><span class="line">  Continuing at 53457</span><br><span class="line">  TypeSwitch[i32] from 53459 to 53462</span><br><span class="line">  Skipped scope entry (due to false predicate) at index 53464, continuing at 53478</span><br><span class="line">  Match failed at index 53481</span><br><span class="line">  Continuing at 53493</span><br><span class="line">  Continuing at 53509</span><br><span class="line">  Match failed at index 53512</span><br><span class="line">  Continuing at 53531</span><br><span class="line">  Match failed at index 53533</span><br><span class="line">  Continuing at 53553</span><br><span class="line">  Skipped scope entry (due to false predicate) at index 53558, continuing at 53659</span><br><span class="line">  Skipped scope entry (due to false predicate) at index 53660, continuing at 53703</span><br><span class="line">  TypeSwitch[i32] from 53706 to 53757</span><br><span class="line">  Morphed node: t17: i32,i32 = INC32r t2</span><br><span class="line">ISEL: Match complete!</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t30: i64,ch = CopyFromReg t0, Register:i64 %14</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t10: i32,ch = CopyFromReg t0, Register:i32 %15</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t5: i64,ch = CopyFromReg t0, Register:i64 %12</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t2: i32,ch = CopyFromReg t0, Register:i32 %16</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t48: i8 = TargetConstant&lt;15&gt;</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t41: ch = BasicBlock&lt;._crit_edge.us 0x60c587dbb138&gt;</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t38: ch = BasicBlock&lt; 0x60c587dbaf00&gt;</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t33: i64 = Register %19</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t29: i64 = Register %14</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t26: i32 = Register %18</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t18: i32 = Register %17</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t9: i32 = Register %15</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t4: i64 = Register %12</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t1: i32 = Register %16</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t0: ch,glue = EntryToken</span><br><span class="line"></span><br><span class="line">===== Instruction selection ends:</span><br><span class="line"></span><br><span class="line">Selected selection DAG: %bb.4 'solve_:'</span><br><span class="line">SelectionDAG has 40 nodes:</span><br><span class="line">  t0: ch,glue = EntryToken</span><br><span class="line">  t2: i32,ch = CopyFromReg t0, Register:i32 %16</span><br><span class="line">  t5: i64,ch = CopyFromReg t0, Register:i64 %12</span><br><span class="line">  t17: i32,i32 = INC32r t2</span><br><span class="line">    t30: i64,ch = CopyFromReg t0, Register:i64 %14</span><br><span class="line">  t32: i64,i32 = DEC64r t30</span><br><span class="line">  t20: i64 = MOVSX64rr32 t17</span><br><span class="line">      t3: i64 = MOVSX64rr32 t2</span><br><span class="line">        t10: i32,ch = CopyFromReg t0, Register:i32 %15</span><br><span class="line">      t12: i32,i32 = ADD32ri t10, TargetConstant:i32&lt;-10&gt;</span><br><span class="line">    t15: ch = MOV32mr&lt;Mem:(store (s32) into %ir.gep.us, !tbaa !17)&gt; t5, TargetConstant:i8&lt;4&gt;, t3, TargetConstant:i32&lt;0&gt;, Register:i16 $noreg, t12, t0</span><br><span class="line">  t23: i32,ch = MOV32rm&lt;Mem:(load (s32) from %ir.gep54.us, !tbaa !21)&gt; t5, TargetConstant:i8&lt;4&gt;, t20, TargetConstant:i32&lt;0&gt;, Register:i16 $noreg, t15</span><br><span class="line">  t25: i32,i32 = ADD32ri t23, TargetConstant:i32&lt;-20&gt;</span><br><span class="line">      t19: ch = CopyToReg t0, Register:i32 %17, t17</span><br><span class="line">      t27: ch = CopyToReg t0, Register:i32 %18, t25</span><br><span class="line">      t34: ch = CopyToReg t0, Register:i64 %19, t32</span><br><span class="line">      t28: ch = MOV32mr&lt;Mem:(store (s32) into %ir.gep54.us, !tbaa !21)&gt; t5, TargetConstant:i8&lt;4&gt;, t20, TargetConstant:i32&lt;0&gt;, Register:i16 $noreg, t25, t23:1</span><br><span class="line">    t39: ch = TokenFactor t19, t27, t34, t28</span><br><span class="line">    t47: i64,i32 = SUB64ri32 t32, TargetConstant:i64&lt;1&gt;</span><br><span class="line">  t52: ch,glue = CopyToReg t39, Register:i32 $eflags, t47:1</span><br><span class="line">  t56: i32 = Register $noreg</span><br><span class="line">    t49: ch = JCC_1 BasicBlock:ch&lt; 0x60c587dbaf00&gt;, TargetConstant:i8&lt;15&gt;, t52, t52:1</span><br><span class="line">  t42: ch = JMP_1 BasicBlock:ch&lt;._crit_edge.us 0x60c587dbb138&gt;, t49</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Total amount of phi nodes to update: 3</span><br><span class="line">Node 0 : (0x60c587dbb000, 2147483667)</span><br><span class="line">Node 1 : (0x60c587dbb068, 2147483666)</span><br><span class="line">Node 2 : (0x60c587dbb0d0, 2147483665)</span><br><span class="line"></span><br><span class="line">Initial selection DAG: %bb.5 'solve_:._crit_edge.us'</span><br><span class="line">SelectionDAG has 21 nodes:</span><br><span class="line">  t0: ch,glue = EntryToken</span><br><span class="line">  t8: i64,ch = CopyFromReg t0, Register:i64 %10</span><br><span class="line">            t2: i32,ch = CopyFromReg t0, Register:i32 %11</span><br><span class="line">          t4: i32 = add t2, Constant:i32&lt;1&gt;</span><br><span class="line">        t6: ch = CopyToReg t0, Register:i32 %20, t4</span><br><span class="line">          t10: i64 = add nsw t8, Constant:i64&lt;-1&gt;</span><br><span class="line">        t12: ch = CopyToReg t0, Register:i64 %21, t10</span><br><span class="line">      t17: ch = TokenFactor t6, t12</span><br><span class="line">      t15: i1 = setcc t8, Constant:i64&lt;1&gt;, setgt:ch</span><br><span class="line">    t18: ch = brcond t17, t15, BasicBlock:ch&lt;.lr.ph.us 0x60c587dbad30&gt;</span><br><span class="line">  t20: ch = br t18, BasicBlock:ch&lt;._crit_edge57 0x60c587dbb238&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Optimized lowered selection DAG: %bb.5 'solve_:._crit_edge.us'</span><br><span class="line">SelectionDAG has 21 nodes:</span><br><span class="line">  t0: ch,glue = EntryToken</span><br><span class="line">  t8: i64,ch = CopyFromReg t0, Register:i64 %10</span><br><span class="line">            t2: i32,ch = CopyFromReg t0, Register:i32 %11</span><br><span class="line">          t4: i32 = add t2, Constant:i32&lt;1&gt;</span><br><span class="line">        t6: ch = CopyToReg t0, Register:i32 %20, t4</span><br><span class="line">          t10: i64 = add nsw t8, Constant:i64&lt;-1&gt;</span><br><span class="line">        t12: ch = CopyToReg t0, Register:i64 %21, t10</span><br><span class="line">      t17: ch = TokenFactor t6, t12</span><br><span class="line">      t15: i1 = setcc t8, Constant:i64&lt;1&gt;, setgt:ch</span><br><span class="line">    t18: ch = brcond t17, t15, BasicBlock:ch&lt;.lr.ph.us 0x60c587dbad30&gt;</span><br><span class="line">  t20: ch = br t18, BasicBlock:ch&lt;._crit_edge57 0x60c587dbb238&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Type-legalized selection DAG: %bb.5 'solve_:._crit_edge.us'</span><br><span class="line">SelectionDAG has 23 nodes:</span><br><span class="line">  t0: ch,glue = EntryToken</span><br><span class="line">  t8: i64,ch = CopyFromReg t0, Register:i64 %10</span><br><span class="line">            t2: i32,ch = CopyFromReg t0, Register:i32 %11</span><br><span class="line">          t4: i32 = add t2, Constant:i32&lt;1&gt;</span><br><span class="line">        t6: ch = CopyToReg t0, Register:i32 %20, t4</span><br><span class="line">          t10: i64 = add nsw t8, Constant:i64&lt;-1&gt;</span><br><span class="line">        t12: ch = CopyToReg t0, Register:i64 %21, t10</span><br><span class="line">      t17: ch = TokenFactor t6, t12</span><br><span class="line">        t21: i8 = setcc t8, Constant:i64&lt;1&gt;, setgt:ch</span><br><span class="line">      t24: i8 = and t21, Constant:i8&lt;1&gt;</span><br><span class="line">    t18: ch = brcond t17, t24, BasicBlock:ch&lt;.lr.ph.us 0x60c587dbad30&gt;</span><br><span class="line">  t20: ch = br t18, BasicBlock:ch&lt;._crit_edge57 0x60c587dbb238&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Optimized type-legalized selection DAG: %bb.5 'solve_:._crit_edge.us'</span><br><span class="line">SelectionDAG has 21 nodes:</span><br><span class="line">  t0: ch,glue = EntryToken</span><br><span class="line">  t8: i64,ch = CopyFromReg t0, Register:i64 %10</span><br><span class="line">            t2: i32,ch = CopyFromReg t0, Register:i32 %11</span><br><span class="line">          t4: i32 = add t2, Constant:i32&lt;1&gt;</span><br><span class="line">        t6: ch = CopyToReg t0, Register:i32 %20, t4</span><br><span class="line">          t10: i64 = add nsw t8, Constant:i64&lt;-1&gt;</span><br><span class="line">        t12: ch = CopyToReg t0, Register:i64 %21, t10</span><br><span class="line">      t17: ch = TokenFactor t6, t12</span><br><span class="line">      t21: i8 = setcc t8, Constant:i64&lt;1&gt;, setgt:ch</span><br><span class="line">    t18: ch = brcond t17, t21, BasicBlock:ch&lt;.lr.ph.us 0x60c587dbad30&gt;</span><br><span class="line">  t20: ch = br t18, BasicBlock:ch&lt;._crit_edge57 0x60c587dbb238&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Legalized selection DAG: %bb.5 'solve_:._crit_edge.us'</span><br><span class="line">SelectionDAG has 21 nodes:</span><br><span class="line">  t0: ch,glue = EntryToken</span><br><span class="line">  t8: i64,ch = CopyFromReg t0, Register:i64 %10</span><br><span class="line">            t2: i32,ch = CopyFromReg t0, Register:i32 %11</span><br><span class="line">          t4: i32 = add t2, Constant:i32&lt;1&gt;</span><br><span class="line">        t6: ch = CopyToReg t0, Register:i32 %20, t4</span><br><span class="line">          t10: i64 = add nsw t8, Constant:i64&lt;-1&gt;</span><br><span class="line">        t12: ch = CopyToReg t0, Register:i64 %21, t10</span><br><span class="line">      t17: ch = TokenFactor t6, t12</span><br><span class="line">      t25: i64,i32 = X86ISD::SUB t8, Constant:i64&lt;1&gt;</span><br><span class="line">    t27: ch = X86ISD::BRCOND t17, BasicBlock:ch&lt;.lr.ph.us 0x60c587dbad30&gt;, TargetConstant:i8&lt;15&gt;, t25:1</span><br><span class="line">  t20: ch = br t27, BasicBlock:ch&lt;._crit_edge57 0x60c587dbb238&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Optimized legalized selection DAG: %bb.5 'solve_:._crit_edge.us'</span><br><span class="line">SelectionDAG has 21 nodes:</span><br><span class="line">  t0: ch,glue = EntryToken</span><br><span class="line">  t8: i64,ch = CopyFromReg t0, Register:i64 %10</span><br><span class="line">            t2: i32,ch = CopyFromReg t0, Register:i32 %11</span><br><span class="line">          t4: i32 = add t2, Constant:i32&lt;1&gt;</span><br><span class="line">        t6: ch = CopyToReg t0, Register:i32 %20, t4</span><br><span class="line">          t10: i64 = add nsw t8, Constant:i64&lt;-1&gt;</span><br><span class="line">        t12: ch = CopyToReg t0, Register:i64 %21, t10</span><br><span class="line">      t17: ch = TokenFactor t6, t12</span><br><span class="line">      t25: i64,i32 = X86ISD::SUB t8, Constant:i64&lt;1&gt;</span><br><span class="line">    t27: ch = X86ISD::BRCOND t17, BasicBlock:ch&lt;.lr.ph.us 0x60c587dbad30&gt;, TargetConstant:i8&lt;15&gt;, t25:1</span><br><span class="line">  t20: ch = br t27, BasicBlock:ch&lt;._crit_edge57 0x60c587dbb238&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">===== Instruction selection begins: %bb.5 '._crit_edge.us'</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t20: ch = br t27, BasicBlock:ch&lt;._crit_edge57 0x60c587dbb238&gt;</span><br><span class="line">ISEL: Starting pattern match</span><br><span class="line">  Initial Opcode index to 136351</span><br><span class="line">  Morphed node: t20: ch = JMP_1 BasicBlock:ch&lt;._crit_edge57 0x60c587dbb238&gt;, t27</span><br><span class="line">ISEL: Match complete!</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t27: ch = X86ISD::BRCOND t17, BasicBlock:ch&lt;.lr.ph.us 0x60c587dbad30&gt;, TargetConstant:i8&lt;15&gt;, t25:1</span><br><span class="line">ISEL: Starting pattern match</span><br><span class="line">  Initial Opcode index to 135091</span><br><span class="line">  Morphed node: t27: ch = JCC_1 BasicBlock:ch&lt;.lr.ph.us 0x60c587dbad30&gt;, TargetConstant:i8&lt;15&gt;, t29, t29:1</span><br><span class="line">ISEL: Match complete!</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t17: ch = TokenFactor t6, t12</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t12: ch = CopyToReg t0, Register:i64 %21, t10</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t6: ch = CopyToReg t0, Register:i32 %20, t4</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t10: i64 = add nsw t8, Constant:i64&lt;-1&gt;</span><br><span class="line">ISEL: Starting pattern match</span><br><span class="line">  Initial Opcode index to 52329</span><br><span class="line">  Match failed at index 52333</span><br><span class="line">  Continuing at 52897</span><br><span class="line">  Match failed at index 52909</span><br><span class="line">  Continuing at 52941</span><br><span class="line">  Match failed at index 52945</span><br><span class="line">  Continuing at 52977</span><br><span class="line">  Match failed at index 52981</span><br><span class="line">  Continuing at 53012</span><br><span class="line">  Match failed at index 53013</span><br><span class="line">  Continuing at 53049</span><br><span class="line">  Continuing at 53050</span><br><span class="line">  Match failed at index 53053</span><br><span class="line">  Continuing at 53249</span><br><span class="line">  Continuing at 53250</span><br><span class="line">  Match failed at index 53253</span><br><span class="line">  Continuing at 53457</span><br><span class="line">  TypeSwitch[i64] from 53459 to 53496</span><br><span class="line">  Match failed at index 53496</span><br><span class="line">  Continuing at 53509</span><br><span class="line">  Match failed at index 53512</span><br><span class="line">  Continuing at 53531</span><br><span class="line">  Match failed at index 53533</span><br><span class="line">  Continuing at 53553</span><br><span class="line">  Skipped scope entry (due to false predicate) at index 53558, continuing at 53659</span><br><span class="line">  Skipped scope entry (due to false predicate) at index 53660, continuing at 53703</span><br><span class="line">  Skipped scope entry (due to false predicate) at index 53704, continuing at 53804</span><br><span class="line">  TypeSwitch[i64] from 53807 to 53882</span><br><span class="line">  Morphed node: t10: i64,i32 = DEC64r nsw t8</span><br><span class="line">ISEL: Match complete!</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t25: i64,i32 = X86ISD::SUB t8, Constant:i64&lt;1&gt;</span><br><span class="line">ISEL: Starting pattern match</span><br><span class="line">  Initial Opcode index to 114065</span><br><span class="line">  Match failed at index 114073</span><br><span class="line">  Continuing at 114269</span><br><span class="line">  Match failed at index 114272</span><br><span class="line">  Continuing at 114372</span><br><span class="line">  Match failed at index 114373</span><br><span class="line">  Continuing at 114475</span><br><span class="line">  Continuing at 114476</span><br><span class="line">  Match failed at index 114477</span><br><span class="line">  Continuing at 114578</span><br><span class="line">  Match failed at index 114597</span><br><span class="line">  Continuing at 114638</span><br><span class="line">  Morphed node: t25: i64,i32 = SUB64ri32 t8, TargetConstant:i64&lt;1&gt;</span><br><span class="line">ISEL: Match complete!</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t4: i32 = add t2, Constant:i32&lt;1&gt;</span><br><span class="line">ISEL: Starting pattern match</span><br><span class="line">  Initial Opcode index to 52329</span><br><span class="line">  Match failed at index 52333</span><br><span class="line">  Continuing at 52897</span><br><span class="line">  Match failed at index 52909</span><br><span class="line">  Continuing at 52941</span><br><span class="line">  Match failed at index 52945</span><br><span class="line">  Continuing at 52977</span><br><span class="line">  Match failed at index 52981</span><br><span class="line">  Continuing at 53012</span><br><span class="line">  Match failed at index 53013</span><br><span class="line">  Continuing at 53049</span><br><span class="line">  Continuing at 53050</span><br><span class="line">  Match failed at index 53053</span><br><span class="line">  Continuing at 53249</span><br><span class="line">  Continuing at 53250</span><br><span class="line">  Match failed at index 53253</span><br><span class="line">  Continuing at 53457</span><br><span class="line">  TypeSwitch[i32] from 53459 to 53462</span><br><span class="line">  Skipped scope entry (due to false predicate) at index 53464, continuing at 53478</span><br><span class="line">  Match failed at index 53481</span><br><span class="line">  Continuing at 53493</span><br><span class="line">  Continuing at 53509</span><br><span class="line">  Match failed at index 53512</span><br><span class="line">  Continuing at 53531</span><br><span class="line">  Match failed at index 53533</span><br><span class="line">  Continuing at 53553</span><br><span class="line">  Skipped scope entry (due to false predicate) at index 53558, continuing at 53659</span><br><span class="line">  Skipped scope entry (due to false predicate) at index 53660, continuing at 53703</span><br><span class="line">  TypeSwitch[i32] from 53706 to 53757</span><br><span class="line">  Morphed node: t4: i32,i32 = INC32r t2</span><br><span class="line">ISEL: Match complete!</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t8: i64,ch = CopyFromReg t0, Register:i64 %10</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t2: i32,ch = CopyFromReg t0, Register:i32 %11</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t26: i8 = TargetConstant&lt;15&gt;</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t19: ch = BasicBlock&lt;._crit_edge57 0x60c587dbb238&gt;</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t16: ch = BasicBlock&lt;.lr.ph.us 0x60c587dbad30&gt;</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t11: i64 = Register %21</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t7: i64 = Register %10</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t5: i32 = Register %20</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t1: i32 = Register %11</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t0: ch,glue = EntryToken</span><br><span class="line"></span><br><span class="line">===== Instruction selection ends:</span><br><span class="line"></span><br><span class="line">Selected selection DAG: %bb.5 'solve_:._crit_edge.us'</span><br><span class="line">SelectionDAG has 22 nodes:</span><br><span class="line">  t0: ch,glue = EntryToken</span><br><span class="line">  t8: i64,ch = CopyFromReg t0, Register:i64 %10</span><br><span class="line">          t2: i32,ch = CopyFromReg t0, Register:i32 %11</span><br><span class="line">        t4: i32,i32 = INC32r t2</span><br><span class="line">      t6: ch = CopyToReg t0, Register:i32 %20, t4</span><br><span class="line">        t10: i64,i32 = DEC64r nsw t8</span><br><span class="line">      t12: ch = CopyToReg t0, Register:i64 %21, t10</span><br><span class="line">    t17: ch = TokenFactor t6, t12</span><br><span class="line">    t25: i64,i32 = SUB64ri32 t8, TargetConstant:i64&lt;1&gt;</span><br><span class="line">  t29: ch,glue = CopyToReg t17, Register:i32 $eflags, t25:1</span><br><span class="line">  t30: i32 = Register $noreg</span><br><span class="line">    t27: ch = JCC_1 BasicBlock:ch&lt;.lr.ph.us 0x60c587dbad30&gt;, TargetConstant:i8&lt;15&gt;, t29, t29:1</span><br><span class="line">  t20: ch = JMP_1 BasicBlock:ch&lt;._crit_edge57 0x60c587dbb238&gt;, t27</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Total amount of phi nodes to update: 2</span><br><span class="line">Node 0 : (0x60c587dbae30, 2147483669)</span><br><span class="line">Node 1 : (0x60c587dbae98, 2147483668)</span><br><span class="line"></span><br><span class="line">Initial selection DAG: %bb.6 'solve_:._crit_edge57'</span><br><span class="line">SelectionDAG has 3 nodes:</span><br><span class="line">    t0: ch,glue = EntryToken</span><br><span class="line">  t2: ch = X86ISD::RET_GLUE t0, TargetConstant:i32&lt;0&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Optimized lowered selection DAG: %bb.6 'solve_:._crit_edge57'</span><br><span class="line">SelectionDAG has 3 nodes:</span><br><span class="line">    t0: ch,glue = EntryToken</span><br><span class="line">  t2: ch = X86ISD::RET_GLUE t0, TargetConstant:i32&lt;0&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Type-legalized selection DAG: %bb.6 'solve_:._crit_edge57'</span><br><span class="line">SelectionDAG has 3 nodes:</span><br><span class="line">    t0: ch,glue = EntryToken</span><br><span class="line">  t2: ch = X86ISD::RET_GLUE t0, TargetConstant:i32&lt;0&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Legalized selection DAG: %bb.6 'solve_:._crit_edge57'</span><br><span class="line">SelectionDAG has 3 nodes:</span><br><span class="line">    t0: ch,glue = EntryToken</span><br><span class="line">  t2: ch = X86ISD::RET_GLUE t0, TargetConstant:i32&lt;0&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Optimized legalized selection DAG: %bb.6 'solve_:._crit_edge57'</span><br><span class="line">SelectionDAG has 3 nodes:</span><br><span class="line">    t0: ch,glue = EntryToken</span><br><span class="line">  t2: ch = X86ISD::RET_GLUE t0, TargetConstant:i32&lt;0&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">===== Instruction selection begins: %bb.6 '._crit_edge57'</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t2: ch = X86ISD::RET_GLUE t0, TargetConstant:i32&lt;0&gt;</span><br><span class="line">ISEL: Starting pattern match</span><br><span class="line">  Initial Opcode index to 135073</span><br><span class="line">  Morphed node: t2: ch = RET TargetConstant:i32&lt;0&gt;, t0</span><br><span class="line">ISEL: Match complete!</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t1: i32 = TargetConstant&lt;0&gt;</span><br><span class="line"></span><br><span class="line">ISEL: Starting selection on root node: t0: ch,glue = EntryToken</span><br><span class="line"></span><br><span class="line">===== Instruction selection ends:</span><br><span class="line"></span><br><span class="line">Selected selection DAG: %bb.6 'solve_:._crit_edge57'</span><br><span class="line">SelectionDAG has 3 nodes:</span><br><span class="line">    t0: ch,glue = EntryToken</span><br><span class="line">  t2: ch = RET TargetConstant:i32&lt;0&gt;, t0</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Total amount of phi nodes to update: 0</span><br><span class="line">*** MachineFunction at end of ISel ***</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Machine code <span class="keyword">for</span> <span class="keyword">function</span> solve_: IsSSA, TracksLiveness</span></span><br><span class="line">Frame Objects:</span><br><span class="line"><span class="meta prompt_">  fi#</span><span class="language-bash">0: variable sized, align=1, at location [SP+8]</span></span><br><span class="line">Function Live Ins: $rdi in %22, $rsi in %23, $rdx in %24, $rcx in %25, $r8 in %26</span><br><span class="line"></span><br><span class="line">bb.0 (%ir-block.5):</span><br><span class="line">  successors: %bb.1(0x50000000), %bb.6(0x30000000); %bb.1(62.50%), %bb.6(37.50%)</span><br><span class="line">  liveins: $rdi, $rsi, $rdx, $rcx, $r8</span><br><span class="line"><span class="meta prompt_">  %</span><span class="language-bash">26:gr64 = COPY <span class="variable">$r8</span></span></span><br><span class="line"><span class="meta prompt_">  %</span><span class="language-bash">25:gr64 = COPY <span class="variable">$rcx</span></span></span><br><span class="line"><span class="meta prompt_">  %</span><span class="language-bash">24:gr64 = COPY <span class="variable">$rdx</span></span></span><br><span class="line"><span class="meta prompt_">  %</span><span class="language-bash">23:gr64 = COPY <span class="variable">$rsi</span></span></span><br><span class="line"><span class="meta prompt_">  %</span><span class="language-bash">22:gr64 = COPY <span class="variable">$rdi</span></span></span><br><span class="line"><span class="meta prompt_">  %</span><span class="language-bash">27:gr32 = MOV32rm %22:gr64, 1, <span class="variable">$noreg</span>, 0, <span class="variable">$noreg</span> :: (load (s32) from %ir.0, !tbaa !3)</span></span><br><span class="line"><span class="meta prompt_">  %</span><span class="language-bash">28:gr32 = MOV32r0 implicit-def dead <span class="variable">$eflags</span></span></span><br><span class="line">  TEST32rr %27:gr32, %27:gr32, implicit-def $eflags</span><br><span class="line"><span class="meta prompt_">  %</span><span class="language-bash">29:gr32 = CMOV32rr %28:gr32(tied-def 0), %27:gr32, 15, implicit <span class="variable">$eflags</span></span></span><br><span class="line"><span class="meta prompt_">  %</span><span class="language-bash">0:gr64 = SUBREG_TO_REG 0, killed %29:gr32, %subreg.sub_32bit</span></span><br><span class="line"><span class="meta prompt_">  %</span><span class="language-bash">30:gr64_nosp = nuw nsw IMUL64rr %0:gr64(tied-def 0), %0:gr64, implicit-def dead <span class="variable">$eflags</span></span></span><br><span class="line"><span class="meta prompt_">  %</span><span class="language-bash">31:gr64 = nuw LEA64r <span class="variable">$noreg</span>, 4, killed %30:gr64_nosp, 15, <span class="variable">$noreg</span></span></span><br><span class="line"><span class="meta prompt_">  %</span><span class="language-bash">32:gr64 = AND64ri32 %31:gr64(tied-def 0), -16, implicit-def dead <span class="variable">$eflags</span></span></span><br><span class="line">  ADJCALLSTACKDOWN64 0, 0, 0, implicit-def dead $rsp, implicit-def dead $eflags, implicit-def dead $ssp, implicit $rsp, implicit $ssp</span><br><span class="line"><span class="meta prompt_">  %</span><span class="language-bash">33:gr64 = COPY <span class="variable">$rsp</span></span></span><br><span class="line"><span class="meta prompt_">  %</span><span class="language-bash">1:gr64 = SUB64rr %33:gr64(tied-def 0), killed %32:gr64, implicit-def dead <span class="variable">$eflags</span></span></span><br><span class="line"><span class="meta prompt_">  $</span><span class="language-bash">rsp = COPY %1:gr64</span></span><br><span class="line">  ADJCALLSTACKUP64 0, 0, implicit-def dead $rsp, implicit-def dead $eflags, implicit-def dead $ssp, implicit $rsp, implicit $ssp</span><br><span class="line"><span class="meta prompt_">  %</span><span class="language-bash">34:gr64_nosp = MOVSX64rm32 %25:gr64, 1, <span class="variable">$noreg</span>, 0, <span class="variable">$noreg</span> :: (load (s32) from %ir.3, !tbaa !9)</span></span><br><span class="line"><span class="meta prompt_">  %</span><span class="language-bash">35:gr64 = MOVSX64rm32 %23:gr64, 4, %34:gr64_nosp, -4, <span class="variable">$noreg</span> :: (load (s32) from %ir.14, !tbaa !11)</span></span><br><span class="line"><span class="meta prompt_">  %</span><span class="language-bash">2:gr32 = COPY %35.sub_32bit:gr64</span></span><br><span class="line"><span class="meta prompt_">  %</span><span class="language-bash">36:gr64 = MOVSX64rm32 %24:gr64, 4, %34:gr64_nosp, -4, <span class="variable">$noreg</span> :: (load (s32) from %ir.17, !tbaa !13)</span></span><br><span class="line"><span class="meta prompt_">  %</span><span class="language-bash">3:gr64 = SUB64rr %36:gr64(tied-def 0), %35:gr64, implicit-def <span class="variable">$eflags</span></span></span><br><span class="line">  JCC_1 %bb.6, 8, implicit $eflags</span><br><span class="line">  JMP_1 %bb.1</span><br><span class="line"></span><br><span class="line">bb.1..lr.ph56:</span><br><span class="line">; predecessors: %bb.0</span><br><span class="line">  successors: %bb.2(0x50000000), %bb.6(0x30000000); %bb.2(62.50%), %bb.6(37.50%)</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">  %</span><span class="language-bash">37:gr64_nosp = MOVSX64rm32 %26:gr64, 1, <span class="variable">$noreg</span>, 0, <span class="variable">$noreg</span> :: (load (s32) from %ir.4, !tbaa !15)</span></span><br><span class="line"><span class="meta prompt_">  %</span><span class="language-bash">4:gr32 = MOV32rm %23:gr64, 4, %37:gr64_nosp, -4, <span class="variable">$noreg</span> :: (load (s32) from %ir.24, !tbaa !11)</span></span><br><span class="line"><span class="meta prompt_">  %</span><span class="language-bash">5:gr64_nosp = MOVSX64rr32 %4:gr32</span></span><br><span class="line"><span class="meta prompt_">  %</span><span class="language-bash">6:gr64 = MOVSX64rm32 %24:gr64, 4, %37:gr64_nosp, -4, <span class="variable">$noreg</span> :: (load (s32) from %ir.27, !tbaa !13)</span></span><br><span class="line"><span class="meta prompt_">  %</span><span class="language-bash">38:gr64 = SUB64rr %6:gr64(tied-def 0), %5:gr64_nosp, implicit-def <span class="variable">$eflags</span></span></span><br><span class="line">  JCC_1 %bb.6, 8, implicit $eflags</span><br><span class="line">  JMP_1 %bb.2</span><br><span class="line"></span><br><span class="line">bb.2..lr.ph.us.preheader:</span><br><span class="line">; predecessors: %bb.1</span><br><span class="line">  successors: %bb.3(0x80000000); %bb.3(100.00%)</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">  %</span><span class="language-bash">7:gr64 = nuw nsw INC64r %3:gr64(tied-def 0), implicit-def dead <span class="variable">$eflags</span></span></span><br><span class="line"><span class="meta prompt_">  %</span><span class="language-bash">8:gr64 = ADD64ri32 %1:gr64(tied-def 0), -4, implicit-def dead <span class="variable">$eflags</span></span></span><br><span class="line"><span class="meta prompt_">  %</span><span class="language-bash">39:gr64 = SUB64rr %6:gr64(tied-def 0), %5:gr64_nosp, implicit-def dead <span class="variable">$eflags</span></span></span><br><span class="line"><span class="meta prompt_">  %</span><span class="language-bash">9:gr64 = ADD64ri32 %39:gr64(tied-def 0), 2, implicit-def dead <span class="variable">$eflags</span></span></span><br><span class="line"></span><br><span class="line">bb.3..lr.ph.us:</span><br><span class="line">; predecessors: %bb.2, %bb.5</span><br><span class="line">  successors: %bb.4(0x80000000); %bb.4(100.00%)</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">  %</span><span class="language-bash">10:gr64 = PHI %7:gr64, %bb.2, %21:gr64, %bb.5</span></span><br><span class="line"><span class="meta prompt_">  %</span><span class="language-bash">11:gr32 = PHI %2:gr32, %bb.2, %20:gr32, %bb.5</span></span><br><span class="line"><span class="meta prompt_">  %</span><span class="language-bash">40:gr64 = MOVSX64rr32 %11:gr32</span></span><br><span class="line"><span class="meta prompt_">  %</span><span class="language-bash">41:gr64 = nsw DEC64r %40:gr64(tied-def 0), implicit-def dead <span class="variable">$eflags</span></span></span><br><span class="line"><span class="meta prompt_">  %</span><span class="language-bash">42:gr64_nosp = nsw IMUL64rr %41:gr64(tied-def 0), %0:gr64, implicit-def dead <span class="variable">$eflags</span></span></span><br><span class="line"><span class="meta prompt_">  %</span><span class="language-bash">12:gr64 = LEA64r %8:gr64, 4, killed %42:gr64_nosp, 0, <span class="variable">$noreg</span></span></span><br><span class="line"><span class="meta prompt_">  %</span><span class="language-bash">13:gr32 = MOV32rm %12:gr64, 4, %5:gr64_nosp, 0, <span class="variable">$noreg</span> :: (load (s32) from %ir.gep.us.phi.trans.insert, !tbaa !17)</span></span><br><span class="line"></span><br><span class="line">bb.4 (%ir-block.39):</span><br><span class="line">; predecessors: %bb.3, %bb.4</span><br><span class="line">  successors: %bb.4(0x7c000000), %bb.5(0x04000000); %bb.4(96.88%), %bb.5(3.12%)</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">  %</span><span class="language-bash">14:gr64 = PHI %9:gr64, %bb.3, %19:gr64, %bb.4</span></span><br><span class="line"><span class="meta prompt_">  %</span><span class="language-bash">15:gr32 = PHI %13:gr32, %bb.3, %18:gr32, %bb.4</span></span><br><span class="line"><span class="meta prompt_">  %</span><span class="language-bash">16:gr32 = PHI %4:gr32, %bb.3, %17:gr32, %bb.4</span></span><br><span class="line"><span class="meta prompt_">  %</span><span class="language-bash">43:gr64_nosp = MOVSX64rr32 %16:gr32</span></span><br><span class="line"><span class="meta prompt_">  %</span><span class="language-bash">44:gr32 = ADD32ri %15:gr32(tied-def 0), -10, implicit-def dead <span class="variable">$eflags</span></span></span><br><span class="line">  MOV32mr %12:gr64, 4, killed %43:gr64_nosp, 0, $noreg, killed %44:gr32 :: (store (s32) into %ir.gep.us, !tbaa !17)</span><br><span class="line"><span class="meta prompt_">  %</span><span class="language-bash">17:gr32 = INC32r %16:gr32(tied-def 0), implicit-def dead <span class="variable">$eflags</span></span></span><br><span class="line"><span class="meta prompt_">  %</span><span class="language-bash">45:gr64_nosp = MOVSX64rr32 %17:gr32</span></span><br><span class="line"><span class="meta prompt_">  %</span><span class="language-bash">46:gr32 = MOV32rm %12:gr64, 4, %45:gr64_nosp, 0, <span class="variable">$noreg</span> :: (load (s32) from %ir.gep54.us, !tbaa !21)</span></span><br><span class="line"><span class="meta prompt_">  %</span><span class="language-bash">18:gr32 = ADD32ri %46:gr32(tied-def 0), -20, implicit-def dead <span class="variable">$eflags</span></span></span><br><span class="line">  MOV32mr %12:gr64, 4, %45:gr64_nosp, 0, $noreg, %18:gr32 :: (store (s32) into %ir.gep54.us, !tbaa !21)</span><br><span class="line"><span class="meta prompt_">  %</span><span class="language-bash">19:gr64 = DEC64r %14:gr64(tied-def 0), implicit-def dead <span class="variable">$eflags</span></span></span><br><span class="line"><span class="meta prompt_">  %</span><span class="language-bash">47:gr64 = SUB64ri32 %19:gr64(tied-def 0), 1, implicit-def <span class="variable">$eflags</span></span></span><br><span class="line">  JCC_1 %bb.4, 15, implicit $eflags</span><br><span class="line">  JMP_1 %bb.5</span><br><span class="line"></span><br><span class="line">bb.5.._crit_edge.us:</span><br><span class="line">; predecessors: %bb.4</span><br><span class="line">  successors: %bb.3(0x7c000000), %bb.6(0x04000000); %bb.3(96.88%), %bb.6(3.12%)</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">  %</span><span class="language-bash">20:gr32 = INC32r %11:gr32(tied-def 0), implicit-def dead <span class="variable">$eflags</span></span></span><br><span class="line"><span class="meta prompt_">  %</span><span class="language-bash">21:gr64 = nsw DEC64r %10:gr64(tied-def 0), implicit-def dead <span class="variable">$eflags</span></span></span><br><span class="line"><span class="meta prompt_">  %</span><span class="language-bash">48:gr64 = SUB64ri32 %10:gr64(tied-def 0), 1, implicit-def <span class="variable">$eflags</span></span></span><br><span class="line">  JCC_1 %bb.3, 15, implicit $eflags</span><br><span class="line">  JMP_1 %bb.6</span><br><span class="line"></span><br><span class="line">bb.6.._crit_edge57:</span><br><span class="line">; predecessors: %bb.0, %bb.1, %bb.5</span><br><span class="line"></span><br><span class="line">  RET 0</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">End machine code <span class="keyword">for</span> <span class="keyword">function</span> solve_.</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>

                
            </div>
            <hr/>

            

    <div class="reprint" id="reprint-statement">
        
            <div class="reprint__author">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-user">
                        文章作者:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="/about" rel="external nofollow noreferrer">LLJ</a>
                </span>
            </div>
            <div class="reprint__type">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-link">
                        文章链接:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="http://example.com/2025/03/10/llvm-hou-duan-li-jie-zhi-ling-xuan-ze-de-dump-shu-chu/">http://example.com/2025/03/10/llvm-hou-duan-li-jie-zhi-ling-xuan-ze-de-dump-shu-chu/</a>
                </span>
            </div>
            <div class="reprint__notice">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-copyright">
                        版权声明:
                    </i>
                </span>
                <span class="reprint-info">
                    本博客所有文章除特別声明外，均采用
                    <a href="https://creativecommons.org/licenses/by/4.0/deed.zh" rel="external nofollow noreferrer" target="_blank">CC BY 4.0</a>
                    许可协议。转载请注明来源
                    <a href="/about" target="_blank">LLJ</a>
                    !
                </span>
            </div>
        
    </div>

    <script async defer>
      document.addEventListener("copy", function (e) {
        let toastHTML = '<span>复制成功，请遵循本文的转载规则</span><button class="btn-flat toast-action" onclick="navToReprintStatement()" style="font-size: smaller">查看</a>';
        M.toast({html: toastHTML})
      });

      function navToReprintStatement() {
        $("html, body").animate({scrollTop: $("#reprint-statement").offset().top - 80}, 800);
      }
    </script>



            <div class="tag_share" style="display: block;">
                <div class="post-meta__tag-list" style="display: inline-block;">
                    
                        <div class="article-tag">
                            
                                <a href="/tags/LLVM/">
                                    <span class="chip bg-color">LLVM</span>
                                </a>
                            
                                <a href="/tags/%E5%90%8E%E7%AB%AF/">
                                    <span class="chip bg-color">后端</span>
                                </a>
                            
                                <a href="/tags/%E6%8C%87%E4%BB%A4%E9%80%89%E6%8B%A9/">
                                    <span class="chip bg-color">指令选择</span>
                                </a>
                            
                        </div>
                    
                </div>
                <div class="post_share" style="zoom: 80%; width: fit-content; display: inline-block; float: right; margin: -0.15rem 0;">
                    <link rel="stylesheet" type="text/css" href="/libs/share/css/share.min.css">
<div id="article-share">

    
    <div class="social-share" data-sites="twitter,facebook,google,qq,qzone,wechat,weibo,douban,linkedin" data-wechat-qrcode-helper="<p>微信扫一扫即可分享！</p>"></div>
    <script src="/libs/share/js/social-share.min.js"></script>
    

    

</div>

                </div>
            </div>
            
                <div id="reward">
    <a href="#rewardModal" class="reward-link modal-trigger btn-floating btn-medium waves-effect waves-light red">赏</a>

    <!-- Modal Structure -->
    <div id="rewardModal" class="modal">
        <div class="modal-content">
            <a class="close modal-close"><i class="fas fa-times"></i></a>
            <h4 class="reward-title">你的赏识是我前进的动力</h4>
            <div class="reward-content">
                <div class="reward-tabs">
                    <ul class="tabs row">
                        <li class="tab col s6 alipay-tab waves-effect waves-light"><a href="#alipay">支付宝</a></li>
                        <li class="tab col s6 wechat-tab waves-effect waves-light"><a href="#wechat">微 信</a></li>
                    </ul>
                    <div id="alipay">
                        <img src="/medias/reward/alipay.jpg" class="reward-img" alt="支付宝打赏二维码">
                    </div>
                    <div id="wechat">
                        <img src="/medias/reward/wechat.png" class="reward-img" alt="微信打赏二维码">
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    $(function () {
        $('.tabs').tabs();
    });
</script>

            
        </div>
    </div>

    

    

    

    

    

    

    

    

    

<article id="prenext-posts" class="prev-next articles">
    <div class="row article-row">
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge left-badge text-color">
                <i class="fas fa-chevron-left"></i>&nbsp;上一篇</div>
            <div class="card">
                <a href="/2025/03/30/llvm-wei-yi-you-pass-tian-jia-yi-ge-bian-yi-xuan-xiang/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/0.jpg" class="responsive-img" alt="">
                        
                        <span class="card-title"></span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            
                        
                    </div>
                    <div class="publish-info">
                        <span class="publish-date">
                            <i class="far fa-clock fa-fw icon-date"></i>2025-03-30
                        </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-user fa-fw"></i>
                            LLJ
                            
                        </span>
                    </div>
                </div>
                
            </div>
        </div>
        
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge right-badge text-color">
                下一篇&nbsp;<i class="fas fa-chevron-right"></i>
            </div>
            <div class="card">
                <a href="/2024/12/30/shu-ju-jie-gou-pian-she-ji-lian-biao/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/9.jpg" class="responsive-img" alt="数据结构篇：设计链表">
                        
                        <span class="card-title">数据结构篇：设计链表</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            
                        
                    </div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="far fa-clock fa-fw icon-date"></i>2024-12-30
                            </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" class="post-category">
                                    数据结构
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/">
                        <span class="chip bg-color">数据结构</span>
                    </a>
                    
                    <a href="/tags/%E9%93%BE%E8%A1%A8/">
                        <span class="chip bg-color">链表</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
    </div>
</article>

</div>



<!-- 代码块功能依赖 -->
<script type="text/javascript" src="/libs/codeBlock/codeBlockFuction.js"></script>


  <!-- 是否加载使用自带的 prismjs. -->
  <script type="text/javascript" src="/libs/prism/prism.min.js"></script>


<!-- 代码语言 -->

<script type="text/javascript" src="/libs/codeBlock/codeLang.js"></script>


<!-- 代码块复制 -->

<script type="text/javascript" src="/libs/codeBlock/codeCopy.js"></script>


<!-- 代码块收缩 -->

<script type="text/javascript" src="/libs/codeBlock/codeShrink.js"></script>



    </div>
    <div id="toc-aside" class="expanded col l3 hide-on-med-and-down">
        <div class="toc-widget card" style="background-color: white;">
            <div class="toc-title"><i class="far fa-list-alt"></i>&nbsp;&nbsp;目录</div>
            <div id="toc-content"></div>
        </div>
    </div>
</div>

<!-- TOC 悬浮按钮. -->

<div id="floating-toc-btn" class="hide-on-med-and-down">
    <a class="btn-floating btn-large bg-color">
        <i class="fas fa-list-ul"></i>
    </a>
</div>


<script src="/libs/tocbot/tocbot.min.js"></script>
<script>
    $(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '#articleContent',
            headingsOffset: -($(window).height() * 0.4 - 45),
            collapseDepth: Number('0'),
            headingSelector: 'h2, h3, h4'
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });

        
        /* 修复文章卡片 div 的宽度. */
        let fixPostCardWidth = function (srcId, targetId) {
            let srcDiv = $('#' + srcId);
            if (srcDiv.length === 0) {
                return;
            }

            let w = srcDiv.width();
            if (w >= 450) {
                w = w + 21;
            } else if (w >= 350 && w < 450) {
                w = w + 18;
            } else if (w >= 300 && w < 350) {
                w = w + 16;
            } else {
                w = w + 14;
            }
            $('#' + targetId).width(w);
        };

        // 切换TOC目录展开收缩的相关操作.
        const expandedClass = 'expanded';
        let $tocAside = $('#toc-aside');
        let $mainContent = $('#main-content');
        $('#floating-toc-btn .btn-floating').click(function () {
            if ($tocAside.hasClass(expandedClass)) {
                $tocAside.removeClass(expandedClass).hide();
                $mainContent.removeClass('l9');
            } else {
                $tocAside.addClass(expandedClass).show();
                $mainContent.addClass('l9');
            }
            fixPostCardWidth('artDetail', 'prenext-posts');
        });
        
    });
</script>

    

</main>




    <footer class="page-footer bg-color">
    
        <link rel="stylesheet" href="/libs/aplayer/APlayer.min.css">
<style>
    .aplayer .aplayer-lrc p {
        
        display: none;
        
        font-size: 12px;
        font-weight: 700;
        line-height: 16px !important;
    }

    .aplayer .aplayer-lrc p.aplayer-lrc-current {
        
        display: none;
        
        font-size: 15px;
        color: #42b983;
    }

    
    .aplayer.aplayer-fixed.aplayer-narrow .aplayer-body {
        left: -66px !important;
    }

    .aplayer.aplayer-fixed.aplayer-narrow .aplayer-body:hover {
        left: 0px !important;
    }

    
</style>
<div class="">
    
    <div class="row">
        <meting-js class="col l8 offset-l2 m10 offset-m1 s12"
                   server="netease"
                   type="playlist"
                   id="503838841"
                   fixed='true'
                   autoplay='false'
                   theme='#42b983'
                   loop='all'
                   order='random'
                   preload='auto'
                   volume='0.7'
                   list-folded='true'
        >
        </meting-js>
    </div>
</div>

<script src="/libs/aplayer/APlayer.min.js"></script>
<script src="/libs/aplayer/Meting.min.js"></script>

    

    <div class="container row center-align"
         style="margin-bottom: 0px !important;">
        <div class="col s12 m8 l8 copy-right">
            Copyright&nbsp;&copy;
            
                <span id="year">2024-2025</span>
            
            <a href="/about" target="_blank">LLJ</a>
            |&nbsp;Powered by&nbsp;<a href="https://hexo.io/" target="_blank">Hexo</a>
            |&nbsp;Theme&nbsp;<a href="https://github.com/blinkfox/hexo-theme-matery" target="_blank">Matery</a>
            
            <br>
            
            
            
                
            
            
                <span id="busuanzi_container_site_pv">
                &nbsp;|&nbsp;<i class="far fa-eye"></i>&nbsp;总访问量:&nbsp;
                    <span id="busuanzi_value_site_pv" class="white-color"></span>
            </span>
            
            
                <span id="busuanzi_container_site_uv">
                &nbsp;|&nbsp;<i class="fas fa-users"></i>&nbsp;总访问人数:&nbsp;
                    <span id="busuanzi_value_site_uv" class="white-color"></span>
            </span>
            
            <br>

            <!-- 运行天数提醒. -->
            
            <br>
            
        </div>
        <div class="col s12 m4 l4 social-link social-statis">
    <a href="https://github.com/blinkfox" class="tooltipped" target="_blank" data-tooltip="访问我的GitHub" data-position="top" data-delay="50">
        <i class="fab fa-github"></i>
    </a>



    <a href="mailto:1181062873@qq.com" class="tooltipped" target="_blank" data-tooltip="邮件联系我" data-position="top" data-delay="50">
        <i class="fas fa-envelope-open"></i>
    </a>







    <a href="tencent://AddContact/?fromId=50&fromSubId=1&subcmd=all&uin=1181062873" class="tooltipped" target="_blank" data-tooltip="QQ联系我: 1181062873" data-position="top" data-delay="50">
        <i class="fab fa-qq"></i>
    </a>







    <a href="/atom.xml" class="tooltipped" target="_blank" data-tooltip="RSS 订阅" data-position="top" data-delay="50">
        <i class="fas fa-rss"></i>
    </a>

</div>
    </div>
</footer>

<div class="progress-bar"></div>


    <!-- 搜索遮罩框 -->
<div id="searchModal" class="modal">
    <div class="modal-content">
        <div class="search-header">
            <span class="title"><i class="fas fa-search"></i>&nbsp;&nbsp;搜索</span>
            <input type="search" id="searchInput" name="s" placeholder="请输入搜索的关键字"
                   class="search-input">
        </div>
        <div id="searchResult"></div>
    </div>
</div>

<script type="text/javascript">
$(function () {
    var searchFunc = function (path, search_id, content_id) {
        'use strict';
        $.ajax({
            url: path,
            dataType: "xml",
            success: function (xmlResponse) {
                // get the contents from search data
                var datas = $("entry", xmlResponse).map(function () {
                    return {
                        title: $("title", this).text(),
                        content: $("content", this).text(),
                        url: $("url", this).text()
                    };
                }).get();
                var $input = document.getElementById(search_id);
                var $resultContent = document.getElementById(content_id);
                $input.addEventListener('input', function () {
                    var str = '<ul class=\"search-result-list\">';
                    var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
                    $resultContent.innerHTML = "";
                    if (this.value.trim().length <= 0) {
                        return;
                    }
                    // perform local searching
                    datas.forEach(function (data) {
                        var isMatch = true;
                        var data_title = data.title.trim().toLowerCase();
                        var data_content = data.content.trim().replace(/<[^>]+>/g, "").toLowerCase();
                        var data_url = data.url;
                        data_url = data_url.indexOf('/') === 0 ? data.url : '/' + data_url;
                        var index_title = -1;
                        var index_content = -1;
                        var first_occur = -1;
                        // only match artiles with not empty titles and contents
                        if (data_title !== '' && data_content !== '') {
                            keywords.forEach(function (keyword, i) {
                                index_title = data_title.indexOf(keyword);
                                index_content = data_content.indexOf(keyword);
                                if (index_title < 0 && index_content < 0) {
                                    isMatch = false;
                                } else {
                                    if (index_content < 0) {
                                        index_content = 0;
                                    }
                                    if (i === 0) {
                                        first_occur = index_content;
                                    }
                                }
                            });
                        }
                        // show search results
                        if (isMatch) {
                            str += "<li><a href='" + data_url + "' class='search-result-title'>" + data_title + "</a>";
                            var content = data.content.trim().replace(/<[^>]+>/g, "");
                            if (first_occur >= 0) {
                                // cut out 100 characters
                                var start = first_occur - 20;
                                var end = first_occur + 80;
                                if (start < 0) {
                                    start = 0;
                                }
                                if (start === 0) {
                                    end = 100;
                                }
                                if (end > content.length) {
                                    end = content.length;
                                }
                                var match_content = content.substr(start, end);
                                // highlight all keywords
                                keywords.forEach(function (keyword) {
                                    var regS = new RegExp(keyword, "gi");
                                    match_content = match_content.replace(regS, "<em class=\"search-keyword\">" + keyword + "</em>");
                                });

                                str += "<p class=\"search-result\">" + match_content + "...</p>"
                            }
                            str += "</li>";
                        }
                    });
                    str += "</ul>";
                    $resultContent.innerHTML = str;
                });
            }
        });
    };

    searchFunc('/search.xml', 'searchInput', 'searchResult');
});
</script>

    <!-- 白天和黑夜主题 -->
<div class="stars-con">
    <div id="stars"></div>
    <div id="stars2"></div>
    <div id="stars3"></div>  
</div>

<script>
    function switchNightMode() {
        $('<div class="Cuteen_DarkSky"><div class="Cuteen_DarkPlanet"></div></div>').appendTo($('body')),
        setTimeout(function () {
            $('body').hasClass('DarkMode') 
            ? ($('body').removeClass('DarkMode'), localStorage.setItem('isDark', '0'), $('#sum-moon-icon').removeClass("fa-sun").addClass('fa-moon')) 
            : ($('body').addClass('DarkMode'), localStorage.setItem('isDark', '1'), $('#sum-moon-icon').addClass("fa-sun").removeClass('fa-moon')),
            
            setTimeout(function () {
            $('.Cuteen_DarkSky').fadeOut(1e3, function () {
                $(this).remove()
            })
            }, 2e3)
        })
    }
</script>

    <!-- 回到顶部按钮 -->
<div id="backTop" class="top-scroll">
    <a class="btn-floating btn-large waves-effect waves-light" href="#!">
        <i class="fas fa-arrow-up"></i>
    </a>
</div>


    <script src="/libs/materialize/materialize.min.js"></script>
    <script src="/libs/masonry/masonry.pkgd.min.js"></script>
    <script src="/libs/aos/aos.js"></script>
    <script src="/libs/scrollprogress/scrollProgress.min.js"></script>
    <script src="/libs/lightGallery/js/lightgallery-all.min.js"></script>
    <script src="/js/matery.js"></script>

    

    
    
    

    <!-- 雪花特效 -->
    

    <!-- 鼠标星星特效 -->
    

     
        <script src="https://ssl.captcha.qq.com/TCaptcha.js"></script>
        <script src="/libs/others/TencentCaptcha.js"></script>
        <button id="TencentCaptcha" data-appid="xxxxxxxxxx" data-cbfn="callback" type="button" hidden></button>
    

    <!-- Baidu Analytics -->

    <!-- Baidu Push -->

<script>
    (function () {
        var bp = document.createElement('script');
        var curProtocol = window.location.protocol.split(':')[0];
        if (curProtocol === 'https') {
            bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
        } else {
            bp.src = 'http://push.zhanzhang.baidu.com/push.js';
        }
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(bp, s);
    })();
</script>

    
    <script src="/libs/others/clicklove.js" async="async"></script>
    
    
    <script async src="/libs/others/busuanzi.pure.mini.js"></script>
    

    

    

    <!--腾讯兔小巢-->
    
    

    

    

    
    <script src="/libs/instantpage/instantpage.js" type="module"></script>
    

</body>

</html>
